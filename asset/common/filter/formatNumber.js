define("accounting/accounting",function(){function r(r){return!!(""===r||r&&r.charCodeAt&&r.substr)}function n(r){return s?s(r):"[object Array]"===f.call(r)}function e(r){return r&&"[object Object]"===f.call(r)}function t(r,n){var e;r=r||{},n=n||{};for(e in n)if(n.hasOwnProperty(e))if(null==r[e])r[e]=n[e];return r}function o(r,n,e){var t,o,a=[];if(!r)return a;if(c&&r.map===c)return r.map(n,e);for(t=0,o=r.length;o>t;t++)a[t]=n.call(e,r[t],t,r);return a}function a(r,n){return r=Math.round(Math.abs(r)),isNaN(r)?n:r}function i(n){var e=u.settings.currency.format;if("function"==typeof n)n=n();if(r(n)&&n.match("%v"))return{pos:n,neg:n.replace("-","").replace("%v","-%v"),zero:n};else if(!n||!n.pos||!n.pos.match("%v"))return!r(e)?e:u.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e};return n}var u={};u.version="0.4.1",u.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var c=Array.prototype.map,s=Array.isArray,f=Object.prototype.toString,l=u.unformat=u.parse=function(r,e){if(n(r))return o(r,function(r){return l(r,e)});if(r=r||0,"number"==typeof r)return r;e=e||u.settings.number.decimal;var t=new RegExp("[^0-9-"+e+"]",["g"]),a=parseFloat((""+r).replace(/\((.*)\)/,"-$1").replace(t,"").replace(e,"."));return!isNaN(a)?a:0},m=u.toFixed=function(r,n){n=a(n,u.settings.number.precision);var e=Math.pow(10,n);return(Math.round(u.unformat(r)*e)/e).toFixed(n)},p=u.formatNumber=u.format=function(r,i,c,s){if(n(r))return o(r,function(r){return p(r,i,c,s)});r=l(r);var f=t(e(i)?i:{precision:i,thousand:c,decimal:s},u.settings.number),g=a(f.precision),d=0>r?"-":"",h=parseInt(m(Math.abs(r||0),g),10)+"",b=h.length>3?h.length%3:0;return d+(b?h.substr(0,b)+f.thousand:"")+h.substr(b).replace(/(\d{3})(?=\d)/g,"$1"+f.thousand)+(g?f.decimal+m(Math.abs(r),g).split(".")[1]:"")},g=u.formatMoney=function(r,c,s,f,m,d){if(n(r))return o(r,function(r){return g(r,c,s,f,m,d)});r=l(r);var h=t(e(c)?c:{symbol:c,precision:s,thousand:f,decimal:m,format:d},u.settings.currency),b=i(h.format),y=r>0?b.pos:0>r?b.neg:b.zero;return y.replace("%s",h.symbol).replace("%v",p(Math.abs(r),a(h.precision),h.thousand,h.decimal))};return u.formatColumn=function(c,s,f,m,g,d){if(!c)return[];var h=t(e(s)?s:{symbol:s,precision:f,thousand:m,decimal:g,format:d},u.settings.currency),b=i(h.format),y=b.pos.indexOf("%s")<b.pos.indexOf("%v")?!0:!1,v=0,M=o(c,function(r){if(n(r))return u.formatColumn(r,h);else{r=l(r);var e=r>0?b.pos:0>r?b.neg:b.zero,t=e.replace("%s",h.symbol).replace("%v",p(Math.abs(r),a(h.precision),h.thousand,h.decimal));if(t.length>v)v=t.length;return t}});return o(M,function(n){if(r(n)&&n.length<v)return y?n.replace(h.symbol,h.symbol+new Array(v-n.length+1).join(" ")):new Array(v-n.length+1).join(" ")+n;else return n})},u}),define("common/filter/formatNumber",["require","exports","module","accounting"],function(require){"use strict";var r=require("accounting");return function(n,e,t){return r.formatNumber(n,e,t||"",".")}});