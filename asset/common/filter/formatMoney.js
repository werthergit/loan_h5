define("cc/function/decimalLength",["require","exports","module"],function(){"use strict";return function(n){var r=(""+n).split(".");return 2===r.length?r[1].length:0}}),define("cc/function/float2Int",["require","exports","module"],function(){"use strict";return function(n,r){var e,t=(""+n).split(".");if(r>=0);else r=0;if(1===t.length)e=n+new Array(r+1).join("0");else r=Math.max(0,r-t[1].length),e=t.join("")+new Array(r+1).join("0");return+e}}),define("accounting/accounting",function(){function n(n){return!!(""===n||n&&n.charCodeAt&&n.substr)}function r(n){return s?s(n):"[object Array]"===f.call(n)}function e(n){return n&&"[object Object]"===f.call(n)}function t(n,r){var e;n=n||{},r=r||{};for(e in r)if(r.hasOwnProperty(e))if(null==n[e])n[e]=r[e];return n}function i(n,r,e){var t,i,o=[];if(!n)return o;if(c&&n.map===c)return n.map(r,e);for(t=0,i=n.length;i>t;t++)o[t]=r.call(e,n[t],t,n);return o}function o(n,r){return n=Math.round(Math.abs(n)),isNaN(n)?r:n}function u(r){var e=a.settings.currency.format;if("function"==typeof r)r=r();if(n(r)&&r.match("%v"))return{pos:r,neg:r.replace("-","").replace("%v","-%v"),zero:r};else if(!r||!r.pos||!r.pos.match("%v"))return!n(e)?e:a.settings.currency.format={pos:e,neg:e.replace("%v","-%v"),zero:e};return r}var a={};a.version="0.4.1",a.settings={currency:{symbol:"$",format:"%s%v",decimal:".",thousand:",",precision:2,grouping:3},number:{precision:0,grouping:3,thousand:",",decimal:"."}};var c=Array.prototype.map,s=Array.isArray,f=Object.prototype.toString,l=a.unformat=a.parse=function(n,e){if(r(n))return i(n,function(n){return l(n,e)});if(n=n||0,"number"==typeof n)return n;e=e||a.settings.number.decimal;var t=new RegExp("[^0-9-"+e+"]",["g"]),o=parseFloat((""+n).replace(/\((.*)\)/,"-$1").replace(t,"").replace(e,"."));return!isNaN(o)?o:0},m=a.toFixed=function(n,r){r=o(r,a.settings.number.precision);var e=Math.pow(10,r);return(Math.round(a.unformat(n)*e)/e).toFixed(r)},p=a.formatNumber=a.format=function(n,u,c,s){if(r(n))return i(n,function(n){return p(n,u,c,s)});n=l(n);var f=t(e(u)?u:{precision:u,thousand:c,decimal:s},a.settings.number),d=o(f.precision),g=0>n?"-":"",h=parseInt(m(Math.abs(n||0),d),10)+"",v=h.length>3?h.length%3:0;return g+(v?h.substr(0,v)+f.thousand:"")+h.substr(v).replace(/(\d{3})(?=\d)/g,"$1"+f.thousand)+(d?f.decimal+m(Math.abs(n),d).split(".")[1]:"")},d=a.formatMoney=function(n,c,s,f,m,g){if(r(n))return i(n,function(n){return d(n,c,s,f,m,g)});n=l(n);var h=t(e(c)?c:{symbol:c,precision:s,thousand:f,decimal:m,format:g},a.settings.currency),v=u(h.format),y=n>0?v.pos:0>n?v.neg:v.zero;return y.replace("%s",h.symbol).replace("%v",p(Math.abs(n),o(h.precision),h.thousand,h.decimal))};return a.formatColumn=function(c,s,f,m,d,g){if(!c)return[];var h=t(e(s)?s:{symbol:s,precision:f,thousand:m,decimal:d,format:g},a.settings.currency),v=u(h.format),y=v.pos.indexOf("%s")<v.pos.indexOf("%v")?!0:!1,b=0,M=i(c,function(n){if(r(n))return a.formatColumn(n,h);else{n=l(n);var e=n>0?v.pos:0>n?v.neg:v.zero,t=e.replace("%s",h.symbol).replace("%v",p(Math.abs(n),o(h.precision),h.thousand,h.decimal));if(t.length>b)b=t.length;return t}});return i(M,function(r){if(n(r)&&r.length<b)return y?r.replace(h.symbol,h.symbol+new Array(b-r.length+1).join(" ")):new Array(b-r.length+1).join(" ")+r;else return r})},a}),define("cc/function/divide",["require","exports","module","./decimalLength","./float2Int"],function(require){"use strict";var n=require("./decimalLength"),r=require("./float2Int");return function(e,t){var i=Math.max(n(e),n(t));return e=r(e,i),t=r(t,i),e/t}}),define("common/filter/formatMoney",["require","exports","module","cc/function/divide","accounting"],function(require){"use strict";var n=require("cc/function/divide"),r=require("accounting");return function(e,t,i,o){if(!$.isNumeric(e))return"";if(t)e=n(e,100);return r.formatMoney(e,o||"",2,i||",",".")}});