!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):function(){var i=t.Ractive,n=e();return n.noConflict=function(){return t.Ractive=i,n},t.Ractive=n}()}(this,function(){"use strict";function t(){return po.createDocumentFragment()}function e(t){var e;if(t&&"boolean"!=typeof t){if(!co||!po||!t)return null;if(t.nodeType)return t;if("string"==typeof t){if(e=po.getElementById(t),!e&&po.querySelector)e=po.querySelector(t);if(e&&e.nodeType)return e}if(t[0]&&t[0].nodeType)return t[0];else return null}}function i(t){if(t&&"unknown"!=typeof t.parentNode&&t.parentNode)t.parentNode.removeChild(t);return t}function n(t){return null==t||!t.toString?"":""+t}function r(t){return n(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function s(t){return t.replace(Mo,function(t){return t.charAt(1).toUpperCase()})}function o(t){return t.replace(Lo,function(t){return"-"+t.toLowerCase()})}function a(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];var n;return e.forEach(function(e){for(n in e)if($o.call(e,n))t[n]=e[n]}),t}function u(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];return e.forEach(function(e){for(var i in e)if($o.call(e,i)&&!(i in t))t[i]=e[i]}),t}function h(t){return"[object Array]"===qo.call(t)}function f(t,e){if(null===t&&null===e)return!0;if("object"==typeof t||"object"==typeof e)return!1;else return t===e}function l(t){return!isNaN(parseFloat(t))&&isFinite(t)}function c(t){return t&&"[object Object]"===qo.call(t)}function p(){}function d(t,e){return t.replace(/%s/g,function(){return e.shift()})}function m(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];throw t=d(t,e),new Error(t)}function g(){if(ao.DEBUG)Uo.apply(null,arguments)}function v(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];t=d(t,e),Wo(t,e)}function y(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];if(t=d(t,e),!Zo[t])Zo[t]=!0,Wo(t,e)}function b(){if(ao.DEBUG)v.apply(null,arguments)}function w(){if(ao.DEBUG)y.apply(null,arguments)}function k(t,e,i){var n=x(t,e,i);return n?n[t][i]:null}function x(t,e,i){for(;e;){if(i in e[t])return e;if(e.isolated)return null;e=e.parent}}function E(t,e,i,n){if(t===e)return null;if(n){var r=k("interpolators",i,n);if(r)return r(t,e)||null;m(Jo(n,"interpolator"))}return Xo.number(t,e)||Xo.array(t,e)||Xo.object(t,e)||null}function _(t){return function(){return t}}function A(t,e){var i=t.indexOf(e);if(-1===i)t.push(e)}function O(t,e){for(var i=0,n=t.length;n>i;i++)if(t[i]==e)return!0;return!1}function C(t,e){var i;if(!h(t)||!h(e))return!1;if(t.length!==e.length)return!1;for(i=t.length;i--;)if(t[i]!==e[i])return!1;return!0}function S(t){if("string"==typeof t)return[t];if(void 0===t)return[];else return t}function j(t){return t[t.length-1]}function T(t,e){if(t){var i=t.indexOf(e);if(-1!==i)t.splice(i,1)}}function F(t){for(var e=[],i=t.length;i--;)e[i]=t[i];return e}function N(t){setTimeout(t,0)}function P(t,e){return function(){for(var i;i=t.shift();)i(e)}}function B(t,e,i,n){var r;if(e===t)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(e instanceof ia)e.then(i,n);else if(e&&("object"==typeof e||"function"==typeof e)){try{r=e.then}catch(s){return void n(s)}if("function"==typeof r){var o,a,u;a=function(e){if(!o)o=!0,B(t,e,i,n)},u=function(t){if(!o)o=!0,n(t)};try{r.call(e,a,u)}catch(s){if(!o)return n(s),void(o=!0)}}else i(e)}else i(e)}function K(t){t.detach()}function I(t){t.detachNodes()}function V(t){if(t.ready&&!t.outros.length&&!t.outroChildren){if(!t.outrosComplete)if(t.outrosComplete=!0,t.parent&&!t.parent.outrosComplete)t.parent.decrementOutros(t);else t.detachNodes();if(!t.intros.length&&!t.totalChildren){if("function"==typeof t.callback)t.callback();if(t.parent&&!t.notifiedTotal)t.notifiedTotal=!0,t.parent.decrementTotal()}}}function R(t){var e,i,n=t.detachQueue,r=M(t),s=n.length,o=0;t:for(;s--;){for(e=n[s].node,o=r.length;o--;)if(i=r[o].element.node,i===e||i.contains(e)||e.contains(i))continue t;n[s].detach(),n.splice(s,1)}}function M(t,e){if(!e){e=[];for(var i=t;i.parent;)i=i.parent;return M(i,e)}else{for(var n=t.children.length;n--;)e=M(t.children[n],e);return e=e.concat(t.outros)}}function L(t){t.dispatch()}function D(){var t=ua.immediateObservers;ua.immediateObservers=[],t.forEach(L);var e,i=ua.fragments.length;t=ua.fragments,ua.fragments=[];var n=ua.ractives;for(ua.ractives=[];i--;){e=t[i];var r=e.ractive;ha.fire(r,r.viewmodel.changes),r.viewmodel.changes={},T(n,r),e.update()}for(i=n.length;i--;){var s=n[i];ha.fire(s,s.viewmodel.changes),s.viewmodel.changes={}}ua.transitionManager.ready(),t=ua.deferredObservers,ua.deferredObservers=[],t.forEach(L);var o=ua.tasks;for(ua.tasks=[],i=0;i<o.length;i+=1)o[i]();if(ua.fragments.length||ua.immediateObservers.length||ua.deferredObservers.length||ua.ractives.length)return D();else return void 0}function U(t){if("string"==typeof t)return t.replace(pa,"\\$&");else return t}function W(t){return t?t.replace(la,".$1"):""}function z(t){var e,i=[];for(t=W(t);e=ca.exec(t);){var n=e.index+e[1].length;i.push(t.substr(0,n)),t=t.substr(n+1)}return i.push(t),i}function $(t){if("string"==typeof t)return t.replace(da,"$1$2");else return t}function q(t,e){if(!/this/.test(t.toString()))return t;var i=t.bind(e);for(var n in t)i[n]=t[n];return i}function Z(t,e){for(var i=fa.start(t,!0),n=e.length;n--;){var r=e[n],s=r[0],o=r[1];if("function"==typeof o)o=q(o,t);s.set(o)}return fa.end(),i}function H(t,e,i){if(void 0===i)i=t.viewmodel;if(ma.test(e))return i.findMatches(z(e));else return[i.joinAll(z(e))]}function Q(t,e,i){var n=[];if(c(e)){var r=function(i){if(e.hasOwnProperty(i))n.push.apply(n,H(t,i).map(function(t){return[t,e[i]]}))};for(var s in e)r(s)}else n.push.apply(n,H(t,e).map(function(t){return[t,i]}));return n}function Y(t,e,i){if("string"!=typeof e||!l(i))throw new Error("Bad arguments");var n=Q(t,e,i);return Z(t,n.map(function(t){var e=t[0],i=t[1],n=e.get();if(!l(i)||!l(n))throw new Error(ga);return[e,n+i]}))}function G(t,e){return Y(this,t,void 0===e?1:+e)}function J(t,e){t=t||{};var i;if(t.easing)i="function"==typeof t.easing?t.easing:e.easing[t.easing];return{easing:i||ya,duration:"duration"in t?t.duration:400,complete:t.complete||p,step:t.step||p}}function X(t,e,i,n){n=J(n,t);var r=e.get();if(f(r,i))return n.complete(n.to),va;var s=E(r,i,t,n.interpolator);if(!s)return fa.start(),e.set(i),fa.end(),va;else return e.animate(r,i,n,s)}function tt(t,e,i){if("object"==typeof t){var n=Object.keys(t);throw new Error("ractive.animate(...) no longer supports objects. Instead of ractive.animate({\n  "+n.map(function(e){return"'"+e+"': "+t[e]}).join("\n  ")+"\n}, {...}), do\n\n"+n.map(function(e){return"ractive.animate('"+e+"', "+t[e]+", {...});"}).join("\n")+"\n")}return X(this,this.viewmodel.joinAll(z(t)),e,i)}function et(){if(this.isDetached)return this.el;if(this.el)T(this.el.__ractive_instances__,this);return this.el=this.fragment.detach(),this.isDetached=!0,ba.fire(this),this.el}function it(t){if(!this.el)throw new Error("Cannot call ractive.find('"+t+"') unless instance is rendered to the DOM");return this.fragment.find(t)}function nt(t,e){if(t.compareDocumentPosition){var i=t.compareDocumentPosition(e);return 2&i?1:-1}return rt(t,e)}function rt(t,e){for(var i,n=ot(t.component||t._ractive.proxy),r=ot(e.component||e._ractive.proxy),s=j(n),o=j(r);s&&s===o;)n.pop(),r.pop(),i=s,s=j(n),o=j(r);s=s.component||s,o=o.component||o;var a=s.parentFragment,u=o.parentFragment;if(a===u){var h=a.items.indexOf(s),f=u.items.indexOf(o);return h-f||n.length-r.length}var l=i.iterations;if(l){var c=l.indexOf(a),p=l.indexOf(u);return c-p||n.length-r.length}throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/ractivejs/ractive/issues - thanks!")}function st(t){var e=t.parentFragment;if(e)return e.owner;if(t.component&&(e=t.component.parentFragment))return e.owner;else return void 0}function ot(t){for(var e=[t],i=st(t);i;)e.push(i),i=st(i);return e}function at(t,e){if(!this.el)throw new Error("Cannot call ractive.findAll('"+t+"', ...) unless instance is rendered to the DOM");e=e||{};var i=this._liveQueries,n=i[t];if(n)return e&&e.live?n:n.slice();if(n=new wa(this,t,!!e.live,!1),n.live)i.push(t),i["_"+t]=n;return this.fragment.findAll(t,n),n.init(),n.result}function ut(t,e){e=e||{};var i=this._liveComponentQueries,n=i[t];if(n)return e&&e.live?n:n.slice();if(n=new wa(this,t,!!e.live,!0),n.live)i.push(t),i["_"+t]=n;return this.fragment.findAllComponents(t,n),n.init(),n.result}function ht(t){return this.fragment.findComponent(t)}function ft(t){if(this.container)if(this.container.component&&this.container.component.name===t)return this.container;else return this.container.findContainer(t);return null}function lt(t){if(this.parent)if(this.parent.component&&this.parent.component.name===t)return this.parent;else return this.parent.findParent(t);return null}function ct(t,e){if(t.event)t._eventQueue.push(t.event);t.event=e}function pt(t){if(t._eventQueue.length)t.event=t._eventQueue.pop();else t.event=null}function dt(t){var e,i,n,r,s,o;if(e=z(t),!(i=xa[e.length]))i=mt(e.length);for(s=[],n=function(t,i){return t?"*":e[i]},r=i.length;r--;)if(o=i[r].map(n).join("."),!s.hasOwnProperty(o))s.push(o),s[o]=!0;return s}function mt(t){var e,i,n,r,s,o,a,u,h="";if(!xa[t]){for(n=[];h.length<t;)h+=1;for(e=parseInt(h,2),r=function(t){return"1"===t},s=0;e>=s;s+=1){for(i=s.toString(2);i.length<t;)i="0"+i;for(u=[],a=i.length,o=0;a>o;o++)u.push(r(i[o]));n[s]=u}xa[t]=n}return xa[t]}function gt(t,e,i){if(void 0===i)i={};if(e){if(!i.event)i.event={name:e,_noArg:!0};else i.event.name=e;var n=vt(e);return yt(t,n,i.event,i.args,!0)}}function vt(t){if(Ea.hasOwnProperty(t))return Ea[t];else return Ea[t]=dt(t)}function yt(t,e,i,n,r){if(void 0===r)r=!1;var s,o,a=!0;for(ct(t,i),o=e.length;o>=0;o--)if(s=t._subs[e[o]])a=bt(t,s,i,n)&&a;if(pt(t),t.parent&&a){if(r&&t.component){var u=t.component.name+"."+e[e.length-1];if(e=vt(u),i&&!i.component)i.component=t}yt(t.parent,e,i,n)}return a}function bt(t,e,i,n){var r=null,s=!1;if(i&&!i._noArg)n=[i].concat(n);e=e.slice();for(var o=0,a=e.length;a>o;o+=1)if(e[o].apply(t,n)===!1)s=!0;if(i&&!i._noArg&&s&&(r=i.original))r.preventDefault&&r.preventDefault(),r.stopPropagation&&r.stopPropagation();return!s}function wt(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];return gt(this,t,{args:e})}function kt(t){throw new Error("An index or key reference ("+t+") cannot have child properties")}function xt(t,e){for(var i,n,r,s=t.findContext().root,o=z(e),a=o[0];t;){if(t.isIteration){if(a===t.parent.keyRef){if(o.length>1)kt(a);return t.context.getKeyModel(t.key)}if(a===t.parent.indexRef){if(o.length>1)kt(a);return t.context.getKeyModel(t.index)}}if(((r=t.owner.aliases)||(r=t.aliases))&&r.hasOwnProperty(a)){var u=r[a];if(1===o.length)return u;else if("function"==typeof u.joinAll)return u.joinAll(o.slice(1))}if(t.context){if(!t.isRoot||t.ractive.component)i=!0;if(t.context.has(a))if(n)return s.createLink(a,t.context.joinKey(o.shift()),a).joinAll(o);else return t.context.joinAll(o)}if(t.componentParent&&!t.ractive.isolated)t=t.componentParent,n=!0;else t=t.parent}if(!i)return s.joinAll(o);else return void 0}function Et(){_a.push(ka=[])}function _t(){var t=_a.pop();return ka=_a[_a.length-1],t}function At(t){if(ka)ka.push(t)}function Ot(t){t.bind()}function Ct(t){t.cancel()}function St(t){t.handleChange()}function jt(t){t.mark()}function Tt(t){t.marked()}function Ft(t){t.render()}function Nt(t){t.teardown()}function Pt(t){t.unbind()}function Bt(t){t.unrender()}function Kt(t){t.unrender(!0)}function It(t){t.update()}function Vt(t){return t.toString()}function Rt(t){return t.toString(!0)}function Mt(t){t.updateFromBindings(!0)}function Lt(t){for(var e=t.length;e--;)if(t[e].bound){var i=t[e].owner;if(i){var n="checked"===i.name?i.node.checked:i.node.value;return{value:n}}}}function Dt(t){if(!t)Dt("early"),Dt("mark");else{var e=Sa[t];Sa[t]=[];for(var i=e.length;i--;)e[i]();var n=ja[t];for(ja[t]=[],i=n.length;i--;)n[i].model.register(n[i].item)}}function Ut(t,e,i){var n=t.r||t;if(!n||"string"!=typeof n)return e;if("."===n||"@"===n[0]||(e||i).isKey||(e||i).isKeypath)return e;for(var r=n.split("/"),s=z(r[r.length-1]),o=e||i,a=s.length,u=!0,h=!1;o&&a--;){if(o.shuffling)h=!0;if(s[a]!=o.key)u=!1;o=o.parent}if(!e&&u&&h)return i;else if(e&&!u&&h)return i;else return e}function Wt(){fa.start();var t,e,i=Ba();for(t=0;t<Ka.length;t+=1)if(e=Ka[t],!e.tick(i))Ka.splice(t--,1);if(fa.end(),Ka.length)Pa(Wt);else Ia=!1}function zt(t,e){var i,n={};if(!e)return t;e+=".";for(i in t)if(t.hasOwnProperty(i))n[e+i]=t[i];return n}function $t(t){var e;if(!Ra[t])e=t?t+".":"",Ra[t]=function(i,n){var r;if("string"==typeof i)return r={},r[e+i]=n,r;if("object"==typeof i)return e?zt(i,t):i;else return void 0};return Ra[t]}function qt(t){for(var e=[],i=0;i<t.length;i++)e[i]=(t.childByKey[i]||{}).value;return e}function Zt(t,e){var i=t.findContext();if("."===e||"this"===e)return i;if(0===e.indexOf("@keypath")){var n=Ua.exec(e);if(n&&n[1]){var r=Zt(t,n[1]);if(r)return r.getKeypathModel()}return i.getKeypathModel()}if(0===e.indexOf("@rootpath")){for(;i.isRoot&&i.ractive.component;)i=i.ractive.component.parentFragment.findContext();var s=Ua.exec(e);if(s&&s[1]){var o=Zt(t,s[1]);if(o)return o.getKeypathModel(t.ractive.root)}return i.getKeypathModel(t.ractive.root)}if("@index"===e||"@key"===e){var a=t.findRepeatingFragment();if(!a.isIteration)return;return a.context.getKeyModel(a["i"===e[1]?"index":"key"])}if("@this"===e)return t.ractive.viewmodel.getRactiveModel();if("@global"===e)return Da;if("~"===e[0])return t.ractive.viewmodel.joinAll(z(e.slice(2)));if("."===e[0]){for(var u=e.split("/");"."===u[0]||".."===u[0];){var h=u.shift();if(".."===h)i=i.parent}if(e=u.join("/"),"."===e[0])e=e.slice(1);return i.joinAll(z(e))}return xt(t,e)}function Ht(t,e){if("string"!=typeof t)return this.viewmodel.get(!0,t);var i,n=z(t),r=n[0];if(!this.viewmodel.has(r))if(this.component&&!this.isolated)if(i=Zt(this.component.parentFragment,r))this.viewmodel.map(r,i);return i=this.viewmodel.joinAll(n),i.get(!0,e)}function Qt(t){for(var e={},i={};t;){if(t.parent&&(t.parent.indexRef||t.parent.keyRef)){var n=t.parent.indexRef;if(n&&!(n in i))i[n]=t.index;if(n=t.parent.keyRef,n&&!(n in e))e[n]=t.key}if(t.componentParent&&!t.ractive.isolated)t=t.componentParent;else t=t.parent}return{key:e,index:i}}function Yt(t,e,i){var n,r,s,o,a,u=[];if(n=Gt(t,e,i),!n)return null;for(o=n.length-2-n[1],r=Math.min(t,n[0]),s=r+n[1],u.startIndex=r,a=0;r>a;a+=1)u.push(a);for(;s>a;a+=1)u.push(-1);for(;t>a;a+=1)u.push(a+o);if(0!==o)u.touchedFrom=n[0];else u.touchedFrom=t;return u}function Gt(t,e,i){switch(e){case"splice":if(void 0!==i[0]&&i[0]<0)i[0]=t+Math.max(i[0],-t);if(void 0===i[0])i[0]=0;for(;i.length<2;)i.push(t-i[0]);if("number"!=typeof i[1])i[1]=t-i[0];return i[1]=Math.min(i[1],t-i[0]),i;case"sort":case"reverse":return null;case"pop":if(t)return[t-1,1];else return[0,0];case"push":return[t,0].concat(i);case"shift":return[0,t?1:0];case"unshift":return[0,0].concat(i)}}function Jt(t){function e(t){for(var e=[],n=arguments.length-1;n-->0;)e[n]=arguments[n+1];return i(this.viewmodel.joinAll(z(t)),e)}function i(e,i){var n=e.get();if(!h(n))if(void 0===n){n=[];var r=Wa[t].apply(n,i),s=fa.start(this,!0).then(function(){return r});return e.set(n),fa.end(),s}else throw new Error("shuffle array method "+t+" called on non-array at "+e.getKeypath());var o=Yt(n.length,t,i),a=Wa[t].apply(n,i),u=fa.start(this,!0).then(function(){return a});if(u.result=a,o)e.shuffle(o);else e.set(a);return fa.end(),u}return{path:e,model:i}}function Xt(t){if(!t)return null;if(t===!0)return JSON.stringify;if("function"==typeof t)return t;if("string"==typeof t)return za[t]||(za[t]=function(e){return e[t]});throw new Error("If supplied, options.compare must be a string, function, or `true`")}function te(t,e,i,n){var r=fa.start(t,!0),s=e.get();if(!h(s)||!h(i))throw new Error("You cannot merge an array with a non-array");var o=Xt(n&&n.compare);return e.merge(i,o),fa.end(),r}function ee(t,e,i){return te(this,this.viewmodel.joinAll(z(t)),e,i)}function ie(t,e){if(e.parent&&e.parent.wrapper)return ie(t,e.parent);var i=fa.start(t,!0);if(e.mark(),e.registerChange(e.getKeypath(),e.get()),!e.isRoot)for(var n=e.parent,r=e.key;n&&!n.isRoot;){if(n.clearUnresolveds)n.clearUnresolveds(r);r=n.key,n=n.parent}return e.notifyUpstream(),fa.end(),$a.fire(t,e),i}function ne(t){if(t)t=z(t);return ie(this,t?this.viewmodel.joinAll(t):this.viewmodel)}function re(t,e,i){var n=[];if(c(e)){for(var r in e)if(e.hasOwnProperty(r))n.push([ae(t,r).model,e[r]])}else n.push([ae(t,e).model,i]);return n}function se(t){if(!t)return this._element.parentFragment.findContext().get(!0);var e=Zt(this._element.parentFragment,t);return e?e.get(!0):void 0}function oe(t,e){var i=ae(this,t),n=i.model,r=i.instance;return n?n.getKeypath(e||r):t}function ae(t,e){var i=t._element.parentFragment;if("string"!=typeof e)return{model:i.findContext(),instance:e};else return{model:Zt(i,e),instance:i.ractive}}function ue(t,e){if(void 0===e)e=1;if(!l(e))throw new Error("Bad arguments");return Z(this.ractive,re(this,t,e).map(function(t){var e=t[0],i=t[1],n=e.get();if(!l(i)||!l(n))throw new Error("Cannot add non-numeric value");return[e,n+i]}))}function he(t,e,i){var n=ae(this,t).model;return X(this.ractive,n,e,i)}function fe(t,e){var i=ae(this,t).model,n=ae(this,e).model,r=fa.start(this.ractive,!0);return n.link(i,t),fa.end(),r}function le(t,e,i){return te(this.ractive,ae(this,t).model,e,i)}function ce(t){return Za(ae(this,t).model,[])}function pe(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];return qa(ae(this,t).model,e)}function de(t){return Ja(ae(this,t).model,[])}function me(t,e){return Z(this.ractive,re(this,t,e))}function ge(t){return Ha(ae(this,t).model,[])}function ve(t,e,i){for(var n=[],r=arguments.length-3;r-->0;)n[r]=arguments[r+3];return n.unshift(e,i),Ga(ae(this,t).model,n)}function ye(t){return Ya(ae(this,t).model,[])}function be(t,e){if(void 0===e)e=1;if(!l(e))throw new Error("Bad arguments");return Z(this.ractive,re(this,t,e).map(function(t){var e=t[0],i=t[1],n=e.get();if(!l(i)||!l(n))throw new Error("Cannot add non-numeric value");return[e,n-i]}))}function we(t){var e=ae(this,t),i=e.model;return Z(this.ractive,[[i,!i.get()]])}function ke(t){var e=ae(this,t).model,i=fa.start(this.ractive,!0);if(e.owner&&e.owner._link)e.owner.unlink();return fa.end(),i}function xe(t){for(var e=[],i=arguments.length-1;i-->0;)e[i]=arguments[i+1];return Qa(ae(this,t).model,e)}function Ee(t){return ie(this.ractive,ae(this,t).model)}function _e(t,e){var i=ae(this,t),n=i.model,r=fa.start(this.ractive,!0);return n.updateFromBindings(e),fa.end(),r}function Ae(){var t=Se(this),e=t.model;return!!e}function Oe(t){var e=Se(this),i=e.model,n=e.instance;if(i)return i.getKeypath(t||n);else return void 0}function Ce(){var t=Se(this),e=t.model;if(e)return e.get(!0);else return void 0}function Se(t){var e=t._element;return{model:e.binding&&e.binding.model,instance:e.parentFragment.ractive}}function je(t){var e=Se(this),i=e.model;return Z(this.ractive,[[i,t]])}function Te(){return w("Object property keypath is deprecated, please use resolve() instead."),this.resolve()}function Fe(){return w("Object property rootpath is deprecated, please use resolve( ractive.root ) instead."),this.resolve(this.ractive.root)}function Ne(){return w("Object property context is deprecated, please use get() instead."),this.get()}function Pe(){return w('Object property index is deprecated, you can use get( "indexName" ) instead.'),Qt(this._element.parentFragment).index}function Be(){return w('Object property key is deprecated, you can use get( "keyName" ) instead.'),Qt(this._element.parentFragment).key}function Ke(t,e){return Ro(t,{_element:{value:e},ractive:{value:e.parentFragment.ractive},resolve:{value:oe},get:{value:se},add:{value:ue},animate:{value:he},link:{value:fe},merge:{value:le},pop:{value:ce},push:{value:pe},reverse:{value:de},set:{value:me},shift:{value:ge},sort:{value:ye},splice:{value:ve},subtract:{value:be},toggle:{value:we},unlink:{value:ke},unshift:{value:xe},update:{value:Ee},updateModel:{value:_e},isBound:{value:Ae},getBindingPath:{value:Oe},getBinding:{value:Ce},setBinding:{value:je},keypath:{get:Te},rootpath:{get:Fe},context:{get:Ne},index:{get:Pe},key:{get:Be}}),t}function Ie(t){if("string"==typeof t&&Xa)t=Xa.call(document,t);if(!t||!t._ractive)return{};var e=t._ractive;return Ke({},e.proxy)}function Ve(t){if("string"==typeof t)t=this.find(t);return Ie(t)}function Re(t,i){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(t=e(t),i=e(i)||null,!t)throw new Error("You must specify a valid target to insert into");t.insertBefore(this.detach(),i),this.el=t,(t.__ractive_instances__||(t.__ractive_instances__=[])).push(this),this.isDetached=!1,Me(this)}function Me(t){tu.fire(t),t.findAllComponents("*").forEach(function(t){Me(t.instance)})}function Le(t,e){if(e===t||0===(t+".").indexOf(e+".")||0===(e+".").indexOf(t+"."))throw new Error("A keypath cannot be linked to itself.");var i,n=fa.start(),r=z(t);if(!this.viewmodel.has(r[0])&&this.component)i=Zt(this.component.parentFragment,r[0]),i=i.joinAll(r.slice(1));return this.viewmodel.joinAll(z(e)).link(i||this.viewmodel.joinAll(r),t),fa.end(),n}function De(t,e,i){var n,r=this,s=[];if(c(t))n=t,i=e||{},Object.keys(n).forEach(function(t){var e=n[t];t.split(" ").forEach(function(t){s.push(Ue(r,t,e,i))})});else{var o;if("function"==typeof t)i=e,e=t,o=[""];else o=t.split(" ");o.forEach(function(t){s.push(Ue(r,t,e,i||{}))})}return this._observers.push.apply(this._observers,s),{cancel:function(){s.forEach(function(t){T(r._observers,t),t.cancel()})}}}function Ue(t,e,i,n){var r=t.viewmodel,s=z(e),o=s.indexOf("*");if(n.keypath=e,!~o){var a,u=s[0];if(""!==u&&!r.has(u)){if(t.component&&!t.isolated)if(a=Zt(t.component.parentFragment,u))r.map(u,a),a=r.joinAll(s)}else a=r.joinAll(s);return new iu(t,a,i,n)}var h=0===o?r:r.joinAll(s.slice(0,o));return new nu(t,h,s.splice(o),i,n)}function We(t,e,i){if("string"!=typeof t)throw new Error("ractive.observeList() must be passed a string as its first argument");var n=this.viewmodel.joinAll(z(t)),r=new ru(this,n,e,i||{});return this._observers.push(r),{cancel:function(){r.cancel()}}}function ze(){return-1}function $e(t,e,i){if(c(t)||"function"==typeof t)return i=a(e||{},su),this.observe(t,i);else return i=a(i||{},su),this.observe(t,e,i)}function qe(t){return t.trim()}function Ze(t){return""!==t}function He(t,e){var i=this;if(!t)for(t in this._subs)delete this._subs[t];else{var n=t.split(" ").map(qe).filter(Ze);n.forEach(function(t){var n=i._subs[t];if(n)if(e){var r=n.indexOf(e);if(-1!==r)n.splice(r,1)}else i._subs[t]=[]})}return this}function Qe(t,e){var i=this;if("object"==typeof t){var n,r=[];for(n in t)if(t.hasOwnProperty(n))r.push(this.on(n,t[n]));return{cancel:function(){for(var t;t=r.pop();)t.cancel()}}}var s=t.split(" ").map(qe).filter(Ze);return s.forEach(function(t){(i._subs[t]||(i._subs[t]=[])).push(e)}),{cancel:function(){return i.off(t,e)}}}function Ye(t,e){var i=this.on(t,function(){e.apply(this,arguments),i.cancel()});return i}function Ge(t){hu.push(t),fu=!0}function Je(){if(po&&fu){if(cu)lu.styleSheet.cssText=Xe(null);else lu.innerHTML=Xe(null);fu=!1}}function Xe(t){var e=t?hu.filter(function(e){return~t.indexOf(e.id)}):hu;return e.reduce(function(t,e){return""+t+"\n\n/* {"+e.id+"} */\n"+e.styles},uu)}function ti(t,i,n,r){var s=t.transitionsEnabled;if(t.noIntro)t.transitionsEnabled=!1;var o=fa.start(t,!0);if(fa.scheduleTask(function(){return mu.fire(t)},!0),t.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");if(n=e(n)||t.anchor,t.el=i,t.anchor=n,t.cssId)Je();if(i)if((i.__ractive_instances__||(i.__ractive_instances__=[])).push(t),n){var a=po.createDocumentFragment();t.fragment.render(a),i.insertBefore(a,n)}else t.fragment.render(i,r);return fa.end(),t.transitionsEnabled=s,o.then(function(){return gu.fire(t)})}function ei(t,i){if(this.torndown)return b("ractive.render() was called on a Ractive instance that was already torn down"),Promise.resolve();if(t=e(t)||this.el,!this.append&&t){var n=t.__ractive_instances__;if(n)n.forEach(Nt);if(!this.enhance)t.innerHTML=""}var r=this.enhance?F(t.childNodes):null,s=ti(this,t,i,r);if(r)for(;r.length;)t.removeChild(r.pop());return s}function ii(t,e){for(var i=t.slice(),n=e.length;n--;)if(!~i.indexOf(e[n]))i.push(e[n]);return i}function ni(t){return t.trim()}function ri(t){return t.str}function si(t,e){for(var i,n=[];i=wu.exec(t);)n.push({str:i[0],base:i[1],modifiers:i[2]});for(var r=n.map(ri),s=[],o=n.length;o--;){var a=r.slice(),u=n[o];a[o]=u.base+e+u.modifiers||"";var h=r.slice();h[o]=e+" "+h[o],s.push(a.join(" "),h.join(" "))}return s.join(", ")}function oi(t,e){var i,n='[data-ractive-css~="{'+e+'}"]';if(xu.test(t))i=t.replace(xu,n);else i=t.replace(bu,"").replace(yu,function(t,e){if(ku.test(e))return t;var i=e.split(",").map(ni),r=i.map(function(t){return si(t,n)}).join(", ")+" ";return t.replace(e,r)});return i}function ai(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}function ui(){return ai()+ai()+"-"+ai()+"-"+ai()+"-"+ai()+"-"+ai()+ai()+ai()}function hi(t){if(t&&t.constructor!==Object)if("function"==typeof t);else if("object"!=typeof t)m("data option must be an object or a function, `"+t+"` is not valid");else b("If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged")}function fi(t,e){hi(e);var i="function"==typeof t,n="function"==typeof e;if(!e&&!i)e={};if(!i&&!n)return ci(e,t);else return function(){var r=n?li(e,this):e,s=i?li(t,this):t;return ci(r,s)}}function li(t,e){var i=t.call(e);if(i){if("object"!=typeof i)m("Data function must return an object");if(i.constructor!==Object)w("Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged");return i}}function ci(t,e){if(t&&e){for(var i in e)if(!(i in t))t[i]=e[i];return t}return t||e}function pi(t,e){if(void 0===e)e=0;for(var i=new Array(e);e--;)i[e]="_"+e;return new Function([],"return function ("+i.join(",")+"){return("+t+");};")()}function di(t,e){var i,n="return ("+t.replace(Ou,function(t,e){return i=!0,'__ractive.get("'+e+'")'})+");";if(i)n="var __ractive = this; "+n;var r=new Function(n);return i?r.bind(e):r}function mi(t,e){if(Cu[t])return Cu[t];else return Cu[t]=Rn(t,e)}function gi(t){if(t){var e=t.e;if(e)Object.keys(e).forEach(function(t){if(!Cu[t])Cu[t]=e[t]})}}function vi(t){var e,i,n;if(!t.matchString("="))return null;if(e=t.pos,t.allowWhitespace(),i=t.matchPattern(Eh),!i)return t.pos=e,null;if(!t.matchPattern(_h))return null;if(n=t.matchPattern(Eh),!n)return t.pos=e,null;if(t.allowWhitespace(),!t.matchString("="))return t.pos=e,null;else return[i,n]}function yi(t){var e;if(e=t.matchPattern(Ah))return{t:eh,v:e};else return null}function bi(t){return t.replace(Oh,"\\$&")}function wi(t,e){return t.search(Ch[e.join()]||(Ch[e.join()]=new RegExp(e.map(bi).join("|"))))}function ki(t){return t.replace(Nh,function(t,e){var i;if("#"!==e[0])i=Th[e];else if("x"===e[1])i=parseInt(e.substring(2),16);else i=parseInt(e.substring(1),10);if(!i)return t;else return Bh(Ei(i))})}function xi(t){return t.replace(Vh,"&amp;").replace(Kh,"&lt;").replace(Ih,"&gt;")}function Ei(t){if(!t)return Rh;if(10===t)return 32;if(128>t)return t;if(159>=t)return Fh[t-128];if(55296>t)return t;if(57343>=t)return Rh;if(65535>=t)return t;else if(!Ph)return Rh;if(t>=65536&&131071>=t)return t;if(t>=131072&&196607>=t)return t;else return Rh}function _i(t){var e;if(e=t.matchPattern(Dh))return{t:Yu,v:e};else return null}function Ai(t){var e=t.remaining();if("true"===e.substr(0,4))return t.pos+=4,{t:th,v:"true"};if("false"===e.substr(0,5))return t.pos+=5,{t:th,v:"false"};else return null}function Oi(t){return function(e){for(var i,n='"',r=!1;!r;)if(i=e.matchPattern(ju)||e.matchPattern(Tu)||e.matchString(t))if('"'===i)n+='\\"';else if("\\'"===i)n+="'";else n+=i;else if(i=e.matchPattern(Fu))n+="\\u"+("000"+i.charCodeAt(1).toString(16)).slice(-4);else r=!0;return n+='"',JSON.parse(n)}}function Ci(t){var e,i;if(e=t.pos,t.matchString('"'))if(i=$h(t),!t.matchString('"'))return t.pos=e,null;else return{t:Gu,v:i};if(t.matchString("'"))if(i=zh(t),!t.matchString("'"))return t.pos=e,null;else return{t:Gu,v:i};return null}function Si(t){var e;if(e=Ci(t))return Zh.test(e.v)?e.v:'"'+e.v.replace(/"/g,'\\"')+'"';if(e=_i(t))return e.v;if(e=t.matchPattern(qh))return e;else return null}function ji(t){var e,i,n;e=t.pos,t.allowWhitespace();var r="'"!==t.nextChar()&&'"'!==t.nextChar();if(i=Si(t),null===i)return t.pos=e,null;if(t.allowWhitespace(),r&&(","===t.nextChar()||"}"===t.nextChar())){if(!qh.test(i))t.error("Expected a valid reference, but found '"+i+"' instead.");return{t:nh,k:i,v:{t:rh,n:i}}}if(!t.matchString(":"))return t.pos=e,null;if(t.allowWhitespace(),n=Di(t),null===n)return t.pos=e,null;else return{t:nh,k:i,v:n}}function Ti(t){var e,i,n,r;if(e=t.pos,n=ji(t),null===n)return null;if(i=[n],t.matchString(","))if(r=Ti(t),!r)return t.pos=e,null;else return i.concat(r);return i}function Fi(t){var e,i;if(e=t.pos,t.allowWhitespace(),!t.matchString("{"))return t.pos=e,null;if(i=Ti(t),t.allowWhitespace(),!t.matchString("}"))return t.pos=e,null;else return{t:Xu,m:i}}function Ni(t){t.allowWhitespace();var e=Di(t);if(null===e)return null;var i=[e];if(t.allowWhitespace(),t.matchString(",")){var n=Ni(t);if(null===n)t.error(Mh);i.push.apply(i,n)}return i}function Pi(t){var e,i;if(e=t.pos,t.allowWhitespace(),!t.matchString("["))return t.pos=e,null;if(i=Ni(t),!t.matchString("]"))return t.pos=e,null;else return{t:Ju,m:i}}function Bi(t){return _i(t)||Ai(t)||Ci(t)||Fi(t)||Pi(t)||yi(t)}function Ki(t){var e,i,n,r,s,o,a,u;if(e=t.pos,n=t.matchPattern(Xh),"@keypath"===n||"@rootpath"===n)if(t.matchPattern(tf)){var h=Ki(t);if(!h)t.error("Expected a valid reference for a keypath expression");if(t.allowWhitespace(),!t.matchString(")"))t.error("Unclosed keypath expression");n+="("+h.n+")"}if(u=!n&&t.spreadArgs&&t.matchPattern(ef),!n)if(i=t.matchPattern(Hh)||"",n=!i&&t.relaxedNames&&t.matchPattern(Jh)||t.matchPattern(Gh),!n&&"."===i)i="",n=".";else if(!n&&i)n=i,i="";if(!n)return null;if(!i&&!t.relaxedNames&&Wh.test(n))return t.pos=e,null;if(!i&&Uh.test(n))return r=Uh.exec(n)[0],t.pos=e+r.length,{t:ih,v:(u?"...":"")+r};if(o=(u?3:0)+(i||"").length+n.length,s=(i||"")+W(n),t.matchString("("))if(a=s.lastIndexOf("."),-1!==a&&"]"!==n[n.length-1]){var f=s.length;s=s.substr(0,a),t.pos=e+(o-(f-a))}else t.pos-=1;return{t:rh,n:(u?"...":"")+s.replace(/^this\./,"./").replace(/^this$/,".")}}function Ii(t){if(!t.matchString("("))return null;t.allowWhitespace();var e=Di(t);if(!e)t.error(Mh);if(t.allowWhitespace(),!t.matchString(")"))t.error(Lh);return{t:uh,x:e}}function Vi(t){return Bi(t)||Ki(t)||Ii(t)}function Ri(t){if(!t.strictRefinement)t.allowWhitespace();if(t.matchString(".")){t.allowWhitespace();var e=t.matchPattern(qh);if(e)return{t:sh,n:e};t.error("Expected a property name")}if(t.matchString("[")){t.allowWhitespace();var i=Di(t);if(!i)t.error(Mh);if(t.allowWhitespace(),!t.matchString("]"))t.error("Expected ']'");return{t:sh,x:i}}return null}function Mi(t){var e=Vi(t);if(!e)return null;for(;e;){var i=Ri(t);if(i)e={t:oh,x:e,r:i};else if(t.matchString("(")){t.allowWhitespace();var n=t.spreadArgs;t.spreadArgs=!0;var r=Ni(t);if(t.spreadArgs=n,t.allowWhitespace(),!t.matchString(")"))t.error(Lh);if(e={t:lh,x:e},r)e.o=r}else break}return e}function Li(t){var e,i,n,r;if(i=af(t),!i)return null;if(e=t.pos,t.allowWhitespace(),!t.matchString("?"))return t.pos=e,i;if(t.allowWhitespace(),n=Di(t),!n)t.error(Mh);if(t.allowWhitespace(),
!t.matchString(":"))t.error('Expected ":"');if(t.allowWhitespace(),r=Di(t),!r)t.error(Mh);return{t:hh,o:[i,n,r]}}function Di(t){return Li(t)}function Ui(t){function e(t){for(var e=[],i=s-1;i>=0;i--)e.push("spread$"+i);return e.length?"(function(){var "+e.join(",")+";return("+t+");})()":t}function i(t){switch(t.t){case th:case ih:case Yu:case eh:return t.v;case Gu:return JSON.stringify(String(t.v));case Ju:return"["+(t.m?t.m.map(i).join(","):"")+"]";case Xu:return"{"+(t.m?t.m.map(i).join(","):"")+"}";case nh:return t.k+":"+i(t.v);case ah:return("typeof"===t.s?"typeof ":t.s)+i(t.o);case fh:return i(t.o[0])+("in"===t.s.substr(0,2)?" "+t.s+" ":t.s)+i(t.o[1]);case lh:if(t.spread){var e=s++;return"(spread$"+e+" = "+i(t.x)+").apply(spread$"+e+", [].concat("+(t.o?t.o.map(function(t){return t.n&&0===t.n.indexOf("...")?i(t):"["+i(t)+"]"}).join(","):"")+") )"}else return i(t.x)+"("+(t.o?t.o.map(i).join(","):"")+")";case uh:return"("+i(t.x)+")";case oh:return i(t.x)+i(t.r);case sh:return t.n?"."+t.n:"["+i(t.x)+"]";case hh:return i(t.o[0])+"?"+i(t.o[1])+":"+i(t.o[2]);case rh:return"_"+n.indexOf(t.n);default:throw new Error("Expected legal JavaScript")}}var n,r,s=0;return Wi(t,n=[]),r=i(t),n=n.map(function(t){return 0===t.indexOf("...")?t.substr(3):t}),{r:n,s:e(r)}}function Wi(t,e){var i,n;if(t.t===rh)if(-1===e.indexOf(t.n))e.unshift(t.n);if(n=t.o||t.m)if(c(n))Wi(n,e);else for(i=n.length;i--;){if(n[i].n&&0===n[i].n.indexOf("..."))t.spread=!0;Wi(n[i],e)}if(t.x)Wi(t.x,e);if(t.r)Wi(t.r,e);if(t.v)Wi(t.v,e)}function zi(t){t.allowWhitespace();var e=Si(t);if(!e)return null;var i={key:e};if(t.allowWhitespace(),!t.matchString(":"))return null;t.allowWhitespace();var n=t.read();if(!n)return null;else return i.value=n.v,i}function $i(t,e){var i=new df(t,{values:e});return i.result}function qi(t,e,i){var n,r,s,o,a,u,h;if("string"==typeof t){if(i===wh||i===kh){var f=new of("["+t+"]");return{a:Ui(f.result[0])}}if(i===bh&&(r=mf.exec(t)))w("Unqualified method events are deprecated. Prefix methods with '@this.' to call methods on the current Ractive instance."),t="@this."+r[1]+t.substr(r[1].length);if(i===bh&&~t.indexOf("(")){var l=new of("["+t+"]");if(l.result&&l.result[0]){if(l.remaining().length)e.error("Invalid input after event expression '"+l.remaining()+"'");return{x:Ui(l.result[0])}}if(t.indexOf(":")>t.indexOf("(")||!~t.indexOf(":"))e.error("Invalid input in event expression '"+t+"'")}if(-1===t.indexOf(":"))return t.trim();t=[t]}if(n={},a=[],u=[],t){for(;t.length;)if(s=t.shift(),"string"==typeof s)if(o=s.indexOf(":"),-1===o)a.push(s);else{if(o)a.push(s.substr(0,o));if(s.length>o+1)u[0]=s.substring(o+1);break}else a.push(s);u=u.concat(t)}if(!a.length)n="";else if(u.length||"string"!=typeof a)if(n={n:1===a.length&&"string"==typeof a[0]?a[0]:a},1===u.length&&"string"==typeof u[0])h=$i("["+u[0]+"]"),n.a=h?h.value:[u[0].trim()];else n.d=u;else n=a;if(u.length)w("Proxy events with arguments are deprecated. You can fire events with arguments using \"@this.fire('eventName', arg1, arg2, ...)\".");return n}function Zi(t){var e,i,n,r,s,o;if(t.allowWhitespace(),i=t.matchPattern(vf),!i)return null;for(s=i.length,r=0;r<t.tags.length;r++)if(~(o=i.indexOf(t.tags[r].open)))if(s>o)s=o;if(s<i.length)return t.pos-=i.length-s,i=i.substr(0,s),{n:i};if(e={n:i},n=Hi(t),null!=n)e.f=n;return e}function Hi(t){var e,i,n,r;if(e=t.pos,!/[=\/>\s]/.test(t.nextChar()))t.error("Expected `=`, `/`, `>` or whitespace");if(t.allowWhitespace(),!t.matchString("="))return t.pos=e,null;if(t.allowWhitespace(),i=t.pos,n=t.sectionDepth,r=Gi(t,"'")||Gi(t,'"')||Yi(t),null===r)t.error("Expected valid attribute value");if(t.sectionDepth!==n)t.pos=i,t.error("An attribute value must contain as many opening section tags as closing section tags");if(!r.length)return"";if(1===r.length&&"string"==typeof r[0])return ki(r[0]);else return r}function Qi(t){var e,i,n,r,s;if(e=t.pos,i=t.matchPattern(_f),!i)return null;if(n=i,r=t.tags.map(function(t){return t.open}),-1!==(s=wi(n,r)))i=i.substr(0,s),t.pos=e+i.length;return i}function Yi(t){var e,i;for(t.inAttribute=!0,e=[],i=tn(t)||Qi(t);i;)e.push(i),i=tn(t)||Qi(t);if(!e.length)return null;else return t.inAttribute=!1,e}function Gi(t,e){var i,n,r;if(i=t.pos,!t.matchString(e))return null;for(t.inAttribute=e,n=[],r=tn(t)||Ji(t,e);null!==r;)n.push(r),r=tn(t)||Ji(t,e);if(!t.matchString(e))return t.pos=i,null;else return t.inAttribute=!1,n}function Ji(t,e){var i=t.remaining(),n=t.tags.map(function(t){return t.open});n.push(e);var r=wi(i,n);if(-1===r)t.error("Quoted attribute value must have a closing quote");if(!r)return null;else return t.pos+=r,i.substr(0,r)}function Xi(t){var e,i,n;if(i=Zi(t),!i)return null;if(n=Ef[i.n]){if(i.t=n.t,n.v)i.v=n.v;if(delete i.n,n.t===kh||n.t===wh)i.f=qi(i.f,t);if(n.t===kh)w(""+("t0"===n.v?"intro-outro":"t1"===n.v?"intro":"outro")+" is deprecated. To specify tranisitions, use the transition name suffixed with '-in', '-out', or '-in-out' as an attribute. Arguments can be specified in the attribute value as a simple list of expressions without mustaches.");else if(n.t===wh)w("decorator is deprecated. To specify decorators, use the decorator name prefixed with 'as-' as an attribute. Arguments can be specified in the attribute value as a simple list of expressions without mustaches.")}else if(e=kf.exec(i.n))if(delete i.n,i.t=wh,i.f=qi(i.f,t,wh),"object"==typeof i.f)i.f.n=e[1];else i.f=e[1];else if(e=xf.exec(i.n)){if(delete i.n,i.t=kh,i.f=qi(i.f,t,kh),"object"==typeof i.f)i.f.n=e[1];else i.f=e[1];i.v="in-out"===e[2]?"t0":"in"===e[2]?"t1":"t2"}else if(e=bf.exec(i.n)){if(i.n=e[1],i.t=bh,i.f=qi(i.f,t,bh),wf.test(i.f.n||i.f))t.pos-=(i.f.n||i.f).length,t.error("Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)")}else if(t.sanitizeEventAttributes&&yf.test(i.n))return{exclude:!0};else i.f=i.f||(""===i.f?"":0),i.t=Wu;return i}function tn(t){var e,i;if(t.interpolate[t.inside]===!1)return null;for(i=0;i<t.tags.length;i+=1)if(e=en(t,t.tags[i]))return e;if(t.inTag&&!t.inAttribute)if(e=Xi(t))return t.allowWhitespace(),e}function en(t,e){var i,n,r,s;if(i=t.pos,t.matchString("\\"+e.open)){if(0===i||"\\"!==t.str[i-1])return e.open}else if(!t.matchString(e.open))return null;if(n=vi(t))if(!t.matchString(e.close))return null;else return e.open=n[0],e.close=n[1],t.sortMustacheTags(),Af;if(t.allowWhitespace(),t.matchString("/")){t.pos-=1;var o=t.pos;if(!yi(t))if(t.pos=o-e.close.length,t.inAttribute)return t.pos=i,null;else t.error("Attempted to close a section that wasn't open");else t.pos=o}for(s=0;s<e.readers.length;s+=1)if(r=e.readers[s],n=r(t,e)){if(e.isStatic)n.s=!0;if(t.includeLinePositions)n.p=t.getLinePos(i);return n}return t.pos=i,null}function nn(t,e){var i;if(t){for(;t.t===uh&&t.x;)t=t.x;if(t.t===rh)e.r=t.n;else if(i=rn(t))e.rx=i;else e.x=Ui(t);return e}}function rn(t){for(var e,i=[];t.t===oh&&t.r.t===sh;){if(e=t.r,e.x)if(e.x.t===rh)i.unshift(e.x);else i.unshift(Ui(e.x));else i.unshift(e.n);t=t.x}if(t.t!==rh)return null;else return{r:t.n,m:i}}function sn(t,e){var i,n=Di(t);if(!n)return null;if(!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");return i={t:Ku},nn(n,i),i}function on(t,e){var i,n;if(!t.matchString("&"))return null;if(t.allowWhitespace(),i=Di(t),!i)return null;if(!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");return n={t:Ku},nn(i,n),n}function an(t){var e,i=[],n=t.pos;if(t.allowWhitespace(),e=un(t)){for(e.x=nn(e.x,{}),i.push(e),t.allowWhitespace();t.matchString(",");){if(e=un(t),!e)t.error("Expected another alias.");e.x=nn(e.x,{}),i.push(e),t.allowWhitespace()}return i}return t.pos=n,null}function un(t){var e,i,n=t.pos;if(t.allowWhitespace(),e=Di(t,[]),!e)return t.pos=n,null;if(t.allowWhitespace(),!t.matchPattern(Cf))return t.pos=n,null;if(t.allowWhitespace(),i=t.matchPattern(Of),!i)t.error("Expected a legal alias name.");return{n:i,x:e}}function hn(t,e){if(!t.matchString(">"))return null;t.allowWhitespace(),t.relaxedNames=t.strictRefinement=!0;var i=Di(t);if(t.relaxedNames=t.strictRefinement=!1,!i)return null;var n={t:Lu};nn(i,n),t.allowWhitespace();var r=an(t);if(r)n={t:Qu,z:r,f:[n]};else{var s=Di(t);if(s)n={t:Iu,n:mh,f:[n]},nn(s,n)}if(t.allowWhitespace(),!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");return n}function fn(t,e){var i;if(!t.matchString("!"))return null;if(i=t.remaining().indexOf(e.close),-1!==i)return t.pos+=i+e.close.length,{t:Du};else return void 0}function ln(t,e){var i,n,r;if(i=t.pos,n=Di(t),!n){var s=t.matchPattern(/^(\w+)/);if(s)return{t:rh,n:s};else return null}for(r=0;r<e.length;r+=1)if(t.remaining().substr(0,e[r].length)===e[r])return n;return t.pos=i,Ki(t)}function cn(t,e){var i,n,r,s;i=t.pos;try{n=ln(t,[e.close])}catch(o){s=o}if(!n){if("!"===t.str.charAt(i))return t.pos=i,null;if(s)throw s}if(!t.matchString(e.close))if(t.error("Expected closing delimiter '"+e.close+"' after reference"),!n){if("!"===t.nextChar())return null;t.error("Expected expression or legal reference")}return r={t:Bu},nn(n,r),r}function pn(t,e){if(!t.matchPattern(Sf))return null;var i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);if(t.allowWhitespace(),!t.matchString(e.close))t.error("expected legal partial name");var n={t:qu};if(i)n.n=i;return n}function dn(t,e){var i,n,r,s;if(i=t.pos,!t.matchString(e.open))return null;if(t.allowWhitespace(),!t.matchString("/"))return t.pos=i,null;if(t.allowWhitespace(),n=t.remaining(),r=n.indexOf(e.close),-1!==r){if(s={t:Ru,r:n.substr(0,r).split(" ")[0]},t.pos+=r,!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");return s}return t.pos=i,null}function mn(t,e){var i=t.pos;if(!t.matchString(e.open))return null;if(!t.matchPattern(jf))return t.pos=i,null;if(!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");return{t:vh}}function gn(t,e){var i=t.pos;if(!t.matchString(e.open))return null;if(!t.matchPattern(Tf))return t.pos=i,null;var n=Di(t);if(!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");return{t:yh,x:n}}function vn(t,e){var i,n,r,s,o,a,u,h,f,l,c,p,d=!1;if(i=t.pos,t.matchString("^"))r={t:Iu,f:[],n:ph};else if(t.matchString("#")){if(r={t:Iu,f:[]},t.matchString("partial"))t.pos=i-t.standardDelimiters[0].length,t.error("Partial definitions can only be at the top level of the template, or immediately inside components");if(u=t.matchPattern(Bf))p=u,r.n=Ff[u]}else return null;if(t.allowWhitespace(),"with"===u){var m=an(t);if(m)d=!0,r.z=m,r.t=Qu}else if("each"===u){var g=un(t);if(g)r.z=[{n:g.n,x:{r:"."}}],n=g.x}if(!d){if(!n)n=Di(t);if(!n)t.error("Expected expression");if(c=t.matchPattern(Nf)){var v;if(v=t.matchPattern(Pf))r.i=c+","+v;else r.i=c}}if(t.allowWhitespace(),!t.matchString(e.close))t.error("Expected closing delimiter '"+e.close+"'");t.sectionDepth+=1,o=r.f,f=[];do if(s=dn(t,e)){if(p&&s.r!==p)t.error("Expected "+e.open+"/"+p+e.close);t.sectionDepth-=1,l=!0}else if(!d&&(s=gn(t,e))){if(r.n===ph)t.error("{{else}} not allowed in {{#unless}}");if(a)t.error("illegal {{elseif...}} after {{else}}");if(!h)h=[];var y={t:Iu,n:ch,f:o=[]};nn(s.x,y),h.push(y)}else if(!d&&(s=mn(t,e))){if(r.n===ph)t.error("{{else}} not allowed in {{#unless}}");if(a)t.error("there can only be one {{else}} block, at the end of a section");if(a=!0,!h)h=[];h.push({t:Iu,n:ph,f:o=[]})}else{if(s=t.read(nl),!s)break;o.push(s)}while(!l);if(h)r.l=h;if(!d)nn(n,r);if(!r.f.length)delete r.f;return r}function yn(t){var e,i,n,r,s;if(e=t.pos,!t.matchString(Kf))return null;if(n=t.remaining(),r=n.indexOf(If),-1===r)t.error("Illegal HTML - expected closing comment sequence ('-->')");if(i=n.substr(0,r),t.pos+=r+3,s={t:Du,c:i},t.includeLinePositions)s.p=t.getLinePos(e);return s}function bn(t){var e,i,n,r,s;for(e=1;e<t.length;e+=1){if(i=t[e],n=t[e-1],r=t[e-2],wn(i)&&kn(n)&&wn(r))if(Rf.test(r)&&Vf.test(i))t[e-2]=r.replace(Rf,"\n"),t[e]=i.replace(Vf,"");if(xn(i)&&wn(n))if(Rf.test(n)&&wn(i.f[0])&&Vf.test(i.f[0]))t[e-1]=n.replace(Rf,"\n"),i.f[0]=i.f[0].replace(Vf,"");if(wn(i)&&xn(n))if(s=j(n.f),wn(s)&&Rf.test(s)&&Vf.test(i))n.f[n.f.length-1]=s.replace(Rf,"\n"),t[e]=i.replace(Vf,"")}return t}function wn(t){return"string"==typeof t}function kn(t){return t.t===Du||t.t===Uu}function xn(t){return(t.t===Iu||t.t===Vu)&&t.f}function En(t,e,i){var n;if(e)if(n=t[0],"string"==typeof n)if(n=n.replace(e,""),!n)t.shift();else t[0]=n;if(i)if(n=j(t),"string"==typeof n)if(n=n.replace(i,""),!n)t.pop();else t[t.length-1]=n}function _n(t,e,i,n,r){if("string"!=typeof t){var s,o,a,u,f,l,c,p;for(bn(t),s=t.length;s--;)if(o=t[s],o.exclude)t.splice(s,1);else if(e&&o.t===Du)t.splice(s,1);for(En(t,n?Df:null,r?Uf:null),s=t.length;s--;){if(o=t[s],o.f){var d=o.t===Mu&&Lf.test(o.e);if(f=i||d,!i&&d)En(o.f,Wf,zf);if(!f){if(a=t[s-1],u=t[s+1],!a||"string"==typeof a&&Uf.test(a))l=!0;if(!u||"string"==typeof u&&Df.test(u))c=!0}if(_n(o.f,e,f,l,c),h(o.f.n))_n(o.f.n,e,i,l,r);if(h(o.f.d))_n(o.f.d,e,i,l,r)}if(o.l)_n(o.l,e,i,l,c),o.l.forEach(function(t){return t.l=1}),o.l.unshift(s+1,0),t.splice.apply(t,o.l),delete o.l;if(o.a)for(p in o.a)if(o.a.hasOwnProperty(p)&&"string"!=typeof o.a[p])_n(o.a[p],e,i,l,c);if(o.m)if(_n(o.m,e,i,l,c),o.m.length<1)delete o.m}for(s=t.length;s--;)if("string"==typeof t[s]){if("string"==typeof t[s+1])t[s]=t[s]+t[s+1],t.splice(s+1,1);if(!i)t[s]=t[s].replace(Mf," ");if(""===t[s])t.splice(s,1)}}}function An(t){var e,i;if(e=t.pos,!t.matchString("</"))return null;if(i=t.matchPattern($f))if(t.inside&&i!==t.inside)return t.pos=e,null;else return{t:zu,e:i};t.pos-=2,t.error("Illegal closing tag")}function On(t){var e,i,n,r,s,o,a,u,h,f,l,c;if(e=t.pos,t.inside||t.inAttribute)return null;if(!t.matchString("<"))return null;if("/"===t.nextChar())return null;if(i={},t.includeLinePositions)i.p=t.getLinePos(e);if(t.matchString("!")){if(i.t=Hu,!t.matchPattern(/^doctype/i))t.error("Expected DOCTYPE declaration");return i.a=t.matchPattern(/^(.+?)>/),i}if(i.t=Mu,i.e=t.matchPattern(qf),!i.e)return null;if(!Zf.test(t.nextChar()))t.error("Illegal tag name");for(t.allowWhitespace(),t.inTag=!0;n=tn(t);){if(n!==!1){if(!i.m)i.m=[];i.m.push(n)}t.allowWhitespace()}if(t.inTag=!1,t.allowWhitespace(),t.matchString("/"))r=!0;if(!t.matchString(">"))return null;var p=i.e.toLowerCase(),d=t.preserveWhitespace;if(!r&&!jh.test(i.e)){if(t.elementStack.push(p),"script"===p||"style"===p||"textarea"===p)t.inside=p;s=[],o=Io(null);do{if(f=t.pos,l=t.remaining(),!l)t.error("Missing end "+(t.elementStack.length>1?"tags":"tag")+" ("+t.elementStack.reverse().map(function(t){return"</"+t+">"}).join("")+")");if(!Cn(p,l))h=!0;else if(c=An(t)){h=!0;var m=c.e.toLowerCase();if(m!==p)if(t.pos=f,!~t.elementStack.indexOf(m)){var g="Unexpected closing tag";if(jh.test(m))g+=" (<"+m+"> is a void element - it cannot contain children)";t.error(g)}}else if(u=dn(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]}))h=!0,t.pos=f;else if(u=t.read(rl)){if(o[u.n])t.pos=f,t.error("Duplicate partial definition");_n(u.f,t.stripComments,d,!d,!d),o[u.n]=u.f,a=!0}else if(u=t.read(nl))s.push(u);else h=!0}while(!h);if(s.length)i.f=s;if(a)i.p=o;t.elementStack.pop()}if(t.inside=null,t.sanitizeElements&&-1!==t.sanitizeElements.indexOf(p))return Hf;else return i}function Cn(t,e){var i,n;if(i=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(e),n=gf[t],!i||!n)return!0;else return!~n.indexOf(i[1].toLowerCase())}function Sn(t){var e,i,n,r;if(i=t.remaining(),t.textOnlyMode)n=t.tags.map(function(t){return t.open}),n=n.concat(t.tags.map(function(t){return"\\"+t.open})),e=wi(i,n);else if(r=t.inside?"</"+t.inside:"<",t.inside&&!t.interpolate[t.inside])e=i.indexOf(r);else{if(n=t.tags.map(function(t){return t.open}),n=n.concat(t.tags.map(function(t){return"\\"+t.open})),t.inAttribute===!0)n.push('"',"'","=","<",">","`");else if(t.inAttribute)n.push(t.inAttribute);else n.push(r);e=wi(i,n)}if(!e)return null;if(-1===e)e=i.length;if(t.pos+=e,t.inside&&"textarea"!==t.inside||t.textOnlyMode)return i.substr(0,e);else return ki(i.substr(0,e))}function jn(t){var e=t.pos,i=t.standardDelimiters[0],n=t.standardDelimiters[1];if(!t.matchPattern(Yf)||!t.matchString(i))return t.pos=e,null;var r=t.matchPattern(Gf);if(w("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+r+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+r+"}} --> ... <!-- {{/"+r+"}} -->'"),!t.matchString(n)||!t.matchPattern(Jf))return t.pos=e,null;var s,o=[],a=new RegExp("^<!--\\s*"+bi(i)+"\\s*\\/\\s*"+r+"\\s*"+bi(n)+"\\s*-->");do if(t.matchPattern(a))s=!0;else{var u=t.read(nl);if(!u)t.error("expected closing comment ('<!-- "+i+"/"+r+n+" -->')");o.push(u)}while(!s);return{t:Zu,f:o,n:r}}function Tn(t){var e,i,n,r,s;e=t.pos;var o=t.standardDelimiters;if(!t.matchString(o[0]))return null;if(!t.matchPattern(Xf))return t.pos=e,null;if(i=t.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-\/]*/),!i)t.error("expected legal partial name");if(!t.matchString(o[1]))t.error("Expected closing delimiter '"+o[1]+"'");n=[];do if(r=dn(t,{open:t.standardDelimiters[0],close:t.standardDelimiters[1]})){if("partial"===!r.r)t.error("Expected "+o[0]+"/partial"+o[1]);s=!0}else{if(r=t.read(nl),!r)t.error("Expected "+o[0]+"/partial"+o[1]);n.push(r)}while(!s);return{t:Zu,n:i,f:n}}function Fn(t){for(var e=[],i=Io(null),n=!1,r=t.preserveWhitespace;t.pos<t.str.length;){var s,o,a=t.pos;if(o=t.read(rl)){if(i[o.n])t.pos=a,t.error("Duplicated partial definition");_n(o.f,t.stripComments,r,!r,!r),i[o.n]=o.f,n=!0}else if(s=t.read(nl))e.push(s);else t.error("Unexpected template content")}var u={v:Au,t:e};if(n)u.p=i;return u}function Nn(t,e){Object.keys(t).forEach(function(i){if(Pn(i,t))return Bn(t,e);var n=t[i];if(Kn(n))Nn(n,e)})}function Pn(t,e){return"s"===t&&h(e.r)}function Bn(t,e){var i=t.s,n=t.r;if(!e[i])e[i]=pi(i,n.length)}function Kn(t){return h(t)||c(t)}function In(t,e){return new Qf(t,e||{}).result}function Vn(t,e,i){if(!t)m("Missing Ractive.parse - cannot parse "+e+". "+i)}function Rn(t,e){return Vn(pi,"new expression function",ol),pi(t,e)}function Mn(t,e){return Vn(di,'compution string "${str}"',al),di(t,e)}function Ln(t){var e=t._config.template;if(e&&e.fn){var i=Dn(t,e.fn);if(i!==e.result)return e.result=i,i;else return void 0}}function Dn(t,e){return e.call(t,{fromId:ul.fromId,isParsed:ul.isParsed,parse:function(e,i){if(void 0===i)i=ul.getParseOptions(t);return ul.parse(e,i)}})}function Un(t,e){if("string"==typeof t)t=Wn(t,e);else zn(t),gi(t);return t}function Wn(t,e){if("#"===t[0])t=ul.fromId(t);return ul.parseFor(t,e)}function zn(t){if(void 0==t)throw new Error("The template cannot be "+t+".");else if("number"!=typeof t.v)throw new Error("The template parser was passed a non-string template, but the template doesn't have a version.  Make sure you're passing in the template you think you are.");else if(t.v!==Au)throw new Error("Mismatched template version (expected "+Au+", got "+t.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app")}function $n(t,e,i){if(e)for(var n in e)if(i||!t.hasOwnProperty(n))t[n]=e[n]}function qn(t,e,i){function n(){var t=Zn(n._parent,e),r="_super"in this,s=this._super;this._super=t;var o=i.apply(this,arguments);if(r)this._super=s;else delete this._super;return o}if(!/_super/.test(i))return i;else return n._parent=t,n._method=i,n}function Zn(t,e){if(e in t){var i=t[e];return"function"==typeof i?i:function(){return i}}return p}function Hn(t,e,i){return"options."+t+" has been deprecated in favour of options."+e+"."+(i?" You cannot specify both options, please use options."+e+".":"")}function Qn(t,e,i){if(e in t)if(!(i in t))b(Hn(e,i)),t[i]=t[e];else throw new Error(Hn(e,i,!0))}function Yn(t){if(Qn(t,"beforeInit","onconstruct"),Qn(t,"init","onrender"),Qn(t,"complete","oncomplete"),Qn(t,"eventDefinitions","events"),h(t.adaptors))Qn(t,"adaptors","adapt")}function Gn(t,e,i,n){Yn(n);for(var r in n)if(ml.hasOwnProperty(r)){var s=n[r];if("el"!==r&&"function"==typeof s)b(""+r+" is a Ractive option that does not expect a function and will be ignored","init"===t?i:null);else i[r]=s}if(n.append&&n.enhance)throw new Error("Cannot use append and enhance at the same time");cl.forEach(function(r){r[t](e,i,n)}),vu[t](e,i,n),hl[t](e,i,n),Eu[t](e,i,n),Jn(e.prototype,i,n)}function Jn(t,e,i){for(var n in i)if(!gl[n]&&i.hasOwnProperty(n)){var r=i[n];if("function"==typeof r)r=qn(t,n,r);e[n]=r}}function Xn(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}function tr(t){if(t=t||{},"object"!=typeof t)throw new Error("The reset method takes either no arguments, or an object containing new data");t=_u.init(this.constructor,this,{data:t});var e=fa.start(this,!0),i=this.viewmodel.wrapper;if(i&&i.reset){if(i.reset(t)===!1)this.viewmodel.set(t)}else this.viewmodel.set(t);for(var n,r=yl.reset(this),s=r.length;s--;)if(bl.indexOf(r[s])>-1){n=!0;break}if(n)El.fire(this),this.fragment.resetTemplate(this.template),xl.fire(this),wl.fire(this);return fa.end(),kl.fire(this,t),e}function er(t,e,i,n){t.forEach(function(t){if(t.type===Lu&&(t.refName===e||t.name===e))return t.inAttribute=i,void n.push(t);if(t.fragment)er(t.fragment.iterations||t.fragment.items,e,i,n);else if(h(t.items))er(t.items,e,i,n);else if(t.type===$u&&t.instance){if(t.instance.partials[e])return;er(t.instance.fragment.items,e,i,n)}if(t.type===Mu)if(h(t.attributes))er(t.attributes,e,!0,n)})}function ir(t){t.forceResetTemplate()}function nr(t,e){var i=[];er(this.fragment.items,t,!1,i);var n=fa.start(this,!0);return this.partials[t]=e,i.forEach(ir),fa.end(),n}function rr(t,e,i){var n=t.fragment.resolve(e,function(e){T(t.resolvers,n),t.models[i]=e,t.bubble()});t.resolvers.push(n)}function sr(t,e){if(e.r)return Zt(t,e.r);else if(e.x)return new Ol(t,e.x);else if(e.rx)return new Sl(t,e.rx)}function or(t){if(t.template.z){t.aliases={};for(var e=t.template.z,i=0;i<e.length;i++)t.aliases[e[i].n]=sr(t.parentFragment,e[i].x)}}function ar(t,e){if(void 0===e)e=!0;for(;t&&t.type!==Mu&&(!e||t.type!==$u);)if(t.owner)t=t.owner;else if(t.component)t=t.component.parentFragment;else if(t.parent)t=t.parent;else if(t.parentFragment)t=t.parentFragment;else t=void 0;return t}function ur(t){return t.replace(/-([a-zA-Z])/g,function(t,e){return e.toUpperCase()})}function hr(t){var e=[];if("string"!=typeof t)return{};else return t.replace(Pl,function(t){return"\x00"+(e.push(t)-1)}).replace(Nl,"").split(";").filter(function(t){return!!t.trim()}).map(function(t){return t.replace(Bl,function(t,i){return e[i]})}).reduce(function(t,e){var i=e.indexOf(":"),n=ur(e.substr(0,i).trim());return t[Fl[n]||n]=e.substr(i+1).trim(),t},{})}function fr(t){for(var e=t.split(Tl),i=e.length;i--;)if(!e[i])e.splice(i,1);return e}function lr(t){var e=t.element,i=t.name;if("id"===i)return cr;if("value"===i){if(t.interpolator)t.interpolator.bound=!0;if("select"===e.name&&"value"===i)return e.getAttribute("multiple")?pr:dr;if("textarea"===e.name)return yr;if(null!=e.getAttribute("contenteditable"))return mr;if("input"===e.name){var n=e.getAttribute("type");if("file"===n)return p;if("radio"===n&&e.binding&&"name"===e.binding.attribute.name)return gr;if(~Kl.indexOf(n))return yr}return vr}var r=e.node;if(t.isTwoway&&"name"===i){if("radio"===r.type)return br;if("checkbox"===r.type)return wr}if("style"===i)return kr;if(0===i.indexOf("style-"))return xr;if("class"===i&&(!r.namespaceURI||r.namespaceURI===jo))return Er;if(0===i.indexOf("class-"))return _r;if(t.isBoolean){var s=e.getAttribute("type");if(t.interpolator&&"checked"===i&&("checkbox"===s||"radio"===s))t.interpolator.bound=!0;return Ar}if(t.namespace&&t.namespace!==t.node.namespaceURI)return Cr;else return Or}function cr(t){var e=this,i=e.node,n=this.getValue();if(this.ractive.nodes[i.id]===i)delete this.ractive.nodes[i.id];if(t)return i.removeAttribute("id");else return this.ractive.nodes[n]=i,void(i.id=n)}function pr(t){var e=this.getValue();if(!h(e))e=[e];var i=this.node.options,n=i.length;if(t)for(;n--;)i[n].selected=!1;else for(;n--;){var r=i[n],s=r._ractive?r._ractive.value:r.value;r.selected=O(e,s)}}function dr(t){var e=this.getValue();if(!this.locked){this.node._ractive.value=e;var i=this.node.options,n=i.length,r=!1;if(t)for(;n--;)i[n].selected=!1;else for(;n--;){var s=i[n],o=s._ractive?s._ractive.value:s.value;if(s.disabled&&s.selected)r=!0;if(o==e)return void(s.selected=!0)}if(!r)this.node.selectedIndex=-1}}function mr(t){var e=this.getValue();if(!this.locked)if(t)this.node.innerHTML="";else this.node.innerHTML=void 0===e?"":e}function gr(t){var e=this.node,i=e.checked,n=this.getValue();if(t)return e.checked=!1;if(e.value=this.node._ractive.value=n,e.checked=n===this.element.getAttribute("name"),i&&!e.checked&&this.element.binding&&this.element.binding.rendered)this.element.binding.group.model.set(this.element.binding.group.getValue())}function vr(t){if(!this.locked){if(t)return this.node.removeAttribute("value"),void(this.node.value=this.node._ractive.value=null);var e=this.getValue();this.node.value=this.node._ractive.value=e,this.node.setAttribute("value",e)}}function yr(t){if(!this.locked){if(t)return this.node._ractive.value="",void this.node.removeAttribute("value");var e=this.getValue();this.node._ractive.value=e,this.node.value=n(e),this.node.setAttribute("value",n(e))}}function br(t){if(t)this.node.checked=!1;else this.node.checked=this.getValue()==this.node._ractive.value}function wr(t){var e=this,i=e.element,n=e.node,r=i.binding,s=this.getValue(),o=i.getAttribute("value");if(t);if(!h(s))r.isChecked=n.checked=s==o;else{for(var a=s.length;a--;)if(o==s[a])return void(r.isChecked=n.checked=!0);r.isChecked=n.checked=!1}}function kr(t){for(var e=t?{}:hr(this.getValue()||""),i=this.node.style,n=Object.keys(e),r=this.previous||[],s=0;s<n.length;){if(n[s]in i)i[n[s]]=e[n[s]];s++}for(s=r.length;s--;)if(!~n.indexOf(r[s])&&r[s]in i)i[r[s]]="";this.previous=n}function xr(t){if(!this.styleName)this.styleName=s(this.name.substr(6));this.node.style[this.styleName]=t?"":this.getValue()}function Er(t){for(var e=t?[]:fr(n(this.getValue())),i=fr(this.node.className),r=this.previous||i.slice(0),s=0;s<e.length;){if(!~i.indexOf(e[s]))i.push(e[s]);s++}for(s=r.length;s--;)if(!~e.indexOf(r[s])){var o=i.indexOf(r[s]);if(~o)i.splice(o,1)}var a=i.join(" ");if(a!==this.node.className)this.node.className=a;this.previous=e}function _r(t){var e=this.name.substr(6),i=fr(this.node.className),n=t?!1:this.getValue();if(!this.inlineClass)this.inlineClass=e;if(n&&!~i.indexOf(e))i.push(e);else if(!n&&~i.indexOf(e))i.splice(i.indexOf(e),1);this.node.className=i.join(" ")}function Ar(t){if(!this.locked){if(t){if(this.useProperty)this.node[this.propertyName]=!1;return void this.node.removeAttribute(this.propertyName)}if(this.useProperty)this.node[this.propertyName]=this.getValue();else if(this.getValue())this.node.setAttribute(this.propertyName,"");else this.node.removeAttribute(this.propertyName)}}function Or(t){if(t)this.node.removeAttribute(this.name);else this.node.setAttribute(this.name,n(this.getString()))}function Cr(t){if(t)this.node.removeAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1));else this.node.setAttributeNS(this.namespace,this.name.slice(this.name.indexOf(":")+1),n(this.getString()))}function Sr(t,e){for(var i="xmlns:"+e;t;){if(t.hasAttribute&&t.hasAttribute(i))return t.getAttribute(i);t=t.parentNode}return Ko[e]}function jr(t,e,i){if(0===e)t.value=!0;else if("true"===e)t.value=!0;else if("false"===e||"0"===e)t.value=!1;else t.value=e;var n=t.element[t.flag];if(t.element[t.flag]=t.value,i&&!t.element.attributes.binding&&n!==t.value)t.element.recreateTwowayBinding();return t.value}function Tr(){return Ll}function Fr(t){Ll=!0,t(),Ll=!1}function Nr(t,e){var i=e?"svg":"div";return t?(Ml.innerHTML="<"+i+" "+t+"></"+i+">")&&F(Ml.childNodes[0].attributes):[]}function Pr(t,e){for(var i=t.length;i--;)if(t[i].name===e.name)return!1;return!0}function Br(t,e,i,n){var r=t.__model;if(n)r.shuffle(n);else;}function Kr(t,e,i,n){if(t.set&&t.set.__magic)return t.set.__magic.dependants.push({ractive:e,keypath:i}),t;var r,s=[{ractive:e,keypath:i}],o={get:function(){return"value"in t?t.value:t.get.call(this)},set:function(e){if(!r){if("value"in t)t.value=e;else t.set.call(this,e);if(!n.locked)r=!0,s.forEach(function(t){var i=t.ractive,n=t.keypath;i.set(n,e)}),r=!1}},enumerable:!0};return o.set.__magic={dependants:s,originalDescriptor:t},o}function Ir(t,e,i){if(!t.set||!t.set.__magic)return!0;for(var n=t.set.__magic,r=n.length;r--;){var s=n[r];if(s.ractive===e&&s.keypath===i)return n.splice(r,1),!1}}function Vr(t){var e=t.replace(/^\t+/gm,function(t){return t.split("	").join("  ")}).split("\n"),i=e.length<2?0:e.slice(1).reduce(function(t,e){return Math.min(t,/^\s*/.exec(e)[0].length)},1/0);return e.map(function(t,e){return"    "+(e?t.substring(i):t)}).join("\n")}function Rr(t){if(!t)return"";for(var e=t.split("\n"),i=ec.name+".getValue",n=[],r=e.length,s=1;r>s;s+=1){var o=e[s];if(~o.indexOf(i))return n.join("\n");else n.push(o)}}function Mr(t,e,i){var n,r,s,o,a;if("function"==typeof i)n=q(i,t),s=i.toString(),o=!0;if("string"==typeof i)n=Mn(i,t),s=i;if("object"==typeof i){if("string"==typeof i.get)n=Mn(i.get,t),s=i.get;else if("function"==typeof i.get)n=q(i.get,t),s=i.get.toString(),o=!0;else m("`%s` computation must have a `get()` method",e);if("function"==typeof i.set)r=q(i.set,t),a=i.set.toString()}return{getter:n,setter:r,getterString:s,setterString:a,getterUseStack:o}}function Lr(t,e){if(ao.DEBUG)zo();Wr(t),Vo(t,"data",{get:zr}),sc.fire(t,e),oc.forEach(function(i){t[i]=a(Io(t.constructor[i]||null),e[i])});var i=new rc({adapt:Ur(t,t.adapt,e),data:_u.init(t.constructor,t,e),ractive:t});t.viewmodel=i;var n=a(Io(t.constructor.prototype.computed),e.computed);for(var r in n){var s=Mr(t,r,n[r]);i.compute(r,s)}}function Dr(t,e){for(var i=t.slice(),n=e.length;n--;)if(!~i.indexOf(e[n]))i.push(e[n]);return i}function Ur(t,e,i){function n(e){if("string"==typeof e)if(e=k("adaptors",t,e),!e)m(Jo(e,"adaptor"));return e}e=e.map(n);var r=S(i.adapt).map(n);r=Dr(e,r);var s="magic"in i?i.magic:t.magic,o="modifyArrays"in i?i.modifyArrays:t.modifyArrays;if(s){if(!uo)throw new Error("Getters and setters (magic mode) are not supported in this browser");if(o)r.push(tc);r.push(Gl)}if(o)r.push(Hl);return r}function Wr(t){if(t._guid="r-"+ac++,t._subs=Io(null),t._config={},t.nodes={},t.event=null,t._eventQueue=[],t._liveQueries=[],t._liveComponentQueries=[],t._observers=[],!t.component)t.root=t,t.parent=t.container=null}function zr(){throw new Error("Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead")}function $r(t,e){return t[e._guid]||(t[e._guid]=[])}function qr(t,e){var i=$r(t.queue,e);for(t.hook.fire(e);i.length;)qr(t,i.shift());delete t.queue[e._guid]}function Zr(t,i,n){Object.keys(t.viewmodel.computations).forEach(function(e){var i=t.viewmodel.computations[e];if(t.viewmodel.value.hasOwnProperty(e))i.set(t.viewmodel.value[e])}),yl.init(t.constructor,t,i),hc.fire(t),fc.begin(t);var r;if(t.template){var s;if(n.cssIds||t.cssId)if(s=n.cssIds?n.cssIds.slice():[],t.cssId)s.push(t.cssId);t.fragment=r=new jp({owner:t,template:t.template,cssIds:s}).bind(t.viewmodel)}if(fc.end(t),r){var o=e(t.el);if(o){var a=t.render(o,t.append);if(ao.DEBUG_PROMISES)a["catch"](function(e){throw w("Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;"),b("An error happened during rendering",{ractive:t}),g(e),e})}}}function Hr(t){var e=t.ractive;do for(var i=e._liveComponentQueries,n=i.length;n--;){var r=i[n],s=i["_"+r];if(s.test(t))s.add(t.instance),t.liveQueries.push(s)}while(e=e.parent)}function Qr(t){for(var e=t.ractive;e;){var i=e._liveComponentQueries["_"+t.name];if(i)i.remove(t);e=e.parent}}function Yr(t){t.makeDirty()}function Gr(t){var e=t.node,i=t.ractive;do for(var n=i._liveQueries,r=n.length;r--;){var s=n[r],o=n["_"+s];if(o.test(e))o.add(e),t.liveQueries.push(o)}while(i=i.parent)}function Jr(t){for(;t=t.parent;)if("form"===t.name)return t}function Xr(t,e){w("The "+t+" being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{
ractive:e})}function ts(){this._ractive.binding.handleChange()}function es(t,e,i){var n=""+t+"-bindingGroup";return e[n]||(e[n]=new _c(n,e,i))}function is(){var t=this.bindings.filter(function(t){return t.node&&t.node.checked}).map(function(t){return t.element.getAttribute("value")}),e=[];return t.forEach(function(t){if(!O(e,t))e.push(t)}),e}function ns(){ts.call(this);var t=this._ractive.binding.model.get();this.value=void 0==t?"":t}function rs(t){var e;return function(){var i=this;if(e)clearTimeout(e);e=setTimeout(function(){var t=i._ractive.binding;if(t.rendered)ts.call(i);e=null},t)}}function ss(t){return t.selectedOptions?F(t.selectedOptions):t.options?F(t.options).filter(function(t){return t.selected}):[]}function os(t){return Fc[t]||(Fc[t]=[])}function as(){var t=this.bindings.filter(function(t){return t.node.checked});if(t.length>0)return t[0].element.getAttribute("value");else return void 0}function us(t){return t&&t.template.f&&1===t.template.f.length&&t.template.f[0].t===Bu&&!t.template.f[0].s}function hs(t){var e=t.attributeByName;if(t.getAttribute("contenteditable")||us(e.contenteditable))return us(e.value)?Cc:null;if("input"===t.name){var i=t.getAttribute("type");if("radio"===i||"checkbox"===i){var n=us(e.name),r=us(e.checked);if(n&&r)if("radio"===i)b("A radio input can have two-way binding on its name attribute, or its checked attribute - not both",{ractive:t.root});else return Ec;if(n)return"radio"===i?Pc:Oc;if(r)return"radio"===i?Nc:Ec}if("file"===i&&us(e.value))return xc;if(us(e.value))return"number"===i||"range"===i?Tc:Sc;else return null}if("select"===t.name&&us(e.value))return t.getAttribute("multiple")?jc:Bc;if("textarea"===t.name&&us(e.value))return Sc;else return void 0}function fs(t){t.makeDirty()}function ls(t){var e=t.attributeByName,i=e.type,n=e.value,r=e.name;if(i&&"radio"===i.value&&n&&r.interpolator)if(n.getValue()===r.interpolator.model.get())return!0;else return void 0}function cs(t){var e=t.toString();return e?" "+e:""}function ps(t){for(var e=t.liveQueries.length;e--;){var i=t.liveQueries[e];i.remove(t.node)}}function ds(t){var e=t.getAttribute("xmlns");if(e)return e;if("svg"===t.name)return Fo;var i=t.parent;if(i)if("foreignobject"===i.name)return jo;else return i.node.namespaceURI;return t.ractive.el.namespaceURI}function ms(){var t=this._ractive.proxy;fa.start(),t.formBindings.forEach(gs),fa.end()}function gs(t){t.model.set(t.resetValue)}function vs(t){var e=t.template.f,i=t.element.instance.viewmodel,n=i.value;if(1===e.length&&e[0].t===Bu){if(t.model=sr(t.parentFragment,e[0]),!t.model)w("The "+t.name+"='{{"+e[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity",{ractive:t.element.instance}),t.parentFragment.ractive.get(t.name),t.model=t.parentFragment.findContext().joinKey(t.name);if(t.link=i.createLink(t.name,t.model,e[0].r),void 0===t.model.get()&&t.name in n)t.model.set(n[t.name])}else t.boundFragment=new jp({owner:t,template:e}).bind(),t.model=i.joinKey(t.name),t.model.set(t.boundFragment.valueOf()),t.boundFragment.bubble=function(){jp.prototype.bubble.call(t.boundFragment),t.boundFragment.update(),t.model.set(t.boundFragment.valueOf())}}function ys(t){for(;t;){if("select"===t.name)return t;t=t.parent}}function bs(t,e,i){var n=ws(t,e,i||{});if(n)return n;if(n=ul.fromId(e,{noThrow:!0})){var r=ul.parseFor(n,t);if(r.p)u(t.partials,r.p);return t.partials[e]=r.t}}function ws(t,e,i){var n=Es(e,i.owner);if(n)return n;var r=x("partials",t,e);if(r){n=r.partials[e];var s;if("function"==typeof n)s=n.bind(r),s.isOwner=r.partials.hasOwnProperty(e),n=s.call(t,ul);if(!n&&""!==n)return void b(Go,e,"partial","partial",{ractive:t});if(!ul.isParsed(n)){var o=ul.parseFor(n,r);if(o.p)b("Partials ({{>%s}}) cannot contain nested inline partials",e,{ractive:t});var a=s?r:ks(r,e);a.partials[e]=n=o.t}if(s)n._fn=s;return n.v?n.t:n}}function ks(t,e){return t.partials.hasOwnProperty(e)?t:xs(t.constructor,e)}function xs(t,e){if(t)return t.partials.hasOwnProperty(e)?t:xs(t._Parent,e);else return void 0}function Es(t,e){if(e)if(e.template&&e.template.p&&e.template.p[t])return e.template.p[t];else if(e.parentFragment&&e.parentFragment.owner)return Es(t,e.parentFragment.owner)}function _s(t,e,i){var n;try{n=ul.parse(e,ul.getParseOptions(i))}catch(r){b("Could not parse partial from expression '"+t+"'\n"+r.message)}return n||{t:[]}}function As(t){return!t||h(t)&&0===t.length||c(t)&&0===Object.keys(t).length}function Os(t,e){if(e||h(t))return dh;if(c(t)||"function"==typeof t)return gh;if(void 0===t)return null;else return ch}function Cs(t,e){for(var i=t.length;i--;)if(t[i]==e)return!0}function Ss(){Jc=!po[tp]}function js(){Jc=!1}function Ts(){Jc=!0}function Fs(t){return t.replace(sp,"")}function Ns(t){if(!t)return"";if(op.test(t))t="-"+t;return t.replace(/[A-Z]/g,function(t){return"-"+t.toLowerCase()})}function Ps(t,e){if(e)t.setAttribute("style",e);else t.getAttribute("style"),t.removeAttribute("style")}function Bs(t,e,i){var n=[];if(null==t||""===t)return n;var r,s,o;if(xp&&(s=Ep[e.tagName])){if(r=Ks("DIV"),r.innerHTML=s[0]+t+s[1],r=r.querySelector(".x"),"SELECT"===r.tagName)o=r.options[r.selectedIndex]}else if(e.namespaceURI===Fo)r=Ks("DIV"),r.innerHTML='<svg class="x">'+t+"</svg>",r=r.querySelector(".x");else if("TEXTAREA"===e.tagName)if(r=yo("div"),"undefined"!=typeof r.textContent)r.textContent=t;else r.innerHTML=t;else if(r=Ks(e.tagName),r.innerHTML=t,"SELECT"===r.tagName)o=r.options[r.selectedIndex];for(var a;a=r.firstChild;)n.push(a),i.appendChild(a);var u;if("SELECT"===e.tagName)for(u=n.length;u--;)if(n[u]!==o)n[u].selected=!1;return n}function Ks(t){return _p[t]||(_p[t]=yo(t))}function Is(t,e){var i,n=x("components",t,e);if(n)if(i=n.components[e],!i._Parent){var r=i.bind(n);if(r.isOwner=n.components.hasOwnProperty(e),i=r(),!i)return void b(Go,e,"component","component",{ractive:t});if("string"==typeof i)i=Is(t,i);i._fn=r,n.components[e]=i}return i}function Vs(t){if("string"==typeof t.template)return new Qc(t);if(t.template.t===Mu){var e=Is(t.parentFragment.ractive,t.template.e);if(e)return new yc(t,e);var i=t.template.e.toLowerCase(),n=Sp[i]||Ic;return new n(t)}var r;if(t.template.t===Wu){var s=t.owner;if(!s||s.type!==$u&&s.type!==Mu)s=ar(t.parentFragment);t.element=s,r=s.type===$u?Dc:Vl}else r=Cp[t.template.t];if(!r)throw new Error("Unrecognised item type "+t.template.t);return new r(t)}function Rs(t,e,i,n){if(void 0===n)n=0;return t.map(function(t){if(t.type===Pu)return t.template;if(t.fragment)if(t.fragment.iterations)return t.fragment.iterations.map(function(t){return Rs(t.items,e,i,n)}).join("");else return Rs(t.fragment.items,e,i,n);var r=""+i+"-"+n++,s=t.model||t.newModel;return e[r]=s?s.wrapper?s.wrapper.value:s.get():void 0,"${"+r+"}"}).join("")}function Ms(t){t.unrender(!0)}function Ls(e){hl.init(null,this,{template:e});var i=this.transitionsEnabled;this.transitionsEnabled=!1;var n=this.component;if(n)n.shouldDestroy=!0;if(this.unrender(),n)n.shouldDestroy=!1;this.fragment.unbind().unrender(!0),this.fragment=new jp({template:this.template,root:this,owner:this});var r=t();this.fragment.bind(this.viewmodel).render(r),this.el.insertBefore(r,this.anchor),this.transitionsEnabled=i}function Ds(t,e){var i=this;return Z(i,Q(i,t,e))}function Us(t,e){return Y(this,t,void 0===e?-1:-e)}function Ws(){if(this.torndown)return b("ractive.teardown() was called on a Ractive instance that was already torn down"),oa.resolve();if(this.torndown=!0,this.fragment.unbind(),this.viewmodel.teardown(),this._observers.forEach(Ct),this.fragment.rendered&&this.el.__ractive_instances__)T(this.el.__ractive_instances__,this);this.shouldDestroy=!0;var t=this.fragment.rendered?this.unrender():oa.resolve();return Bp.fire(this),t}function zs(t){if("string"!=typeof t)throw new TypeError(Yo);return Z(this,H(this,t).map(function(t){return[t,!t.get()]}))}function $s(){var t=[this.cssId].concat(this.findAllComponents().map(function(t){return t.cssId})),e=Object.keys(t.reduce(function(t,e){return t[e]=!0,t},{}));return Xe(e)}function qs(){return this.fragment.toString(!0)}function Zs(t,e,i){if(e instanceof HTMLElement);else if(c(e))i=e;if(e=e||this.event.node,!e||!e._ractive)m("No node was supplied for transition "+t);i=i||{};var n=e._ractive.proxy,r=new kp({owner:n,parentFragment:n.parentFragment,name:t,params:i});r.bind();var s=fa.start(this,!0);return fa.registerTransition(r),fa.end(),s.then(function(){return r.unbind()}),s}function Hs(t){var e=fa.start();return this.viewmodel.joinAll(z(t),{lastLink:!1}).unlink(),fa.end(),e}function Qs(){if(!this.fragment.rendered)return b("ractive.unrender() was called on a Ractive instance that was not rendered"),oa.resolve();var t=fa.start(this,!0),e=!this.component||this.component.shouldDestroy||this.shouldDestroy;return this.fragment.unrender(e),T(this.el.__ractive_instances__,this),Kp.fire(this),fa.end(),t}function Ys(t,e){var i=fa.start(this,!0);if(!t)this.viewmodel.updateFromBindings(!0);else this.viewmodel.joinAll(z(t)).updateFromBindings(e!==!1);return fa.end(),i}function Gs(t,e,i){if(i||Js(t,e))return function(){var i,n="_super"in this,r=this._super;if(this._super=e,i=t.apply(this,arguments),n)this._super=r;return i};else return t}function Js(t,e){return"function"==typeof e&&/_super/.test(t)}function Xs(t){for(var e={};t;)if(to(t,e),io(t,e),t._Parent!==ao)t=t._Parent;else t=!1;return e}function to(t,e){cl.forEach(function(i){eo(i.useDefaults?t.prototype:t,e,i.name)})}function eo(t,e,i){var n,r=Object.keys(t[i]);if(r.length){if(!(n=e[i]))n=e[i]={};r.filter(function(t){return!(t in n)}).forEach(function(e){return n[e]=t[i][e]})}}function io(t,e){Object.keys(t.prototype).forEach(function(i){if("computed"!==i){var n=t.prototype[i];if(!(i in e))e[i]=n._method?n._method:n;else if("function"==typeof e[i]&&"function"==typeof n&&e[i]._method){var r,s=n._method;if(s)n=n._method;if(r=Gs(e[i]._method,n),s)r._method=r;e[i]=r}}})}function no(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];if(!t.length)return ro(this);else return t.reduce(ro,this)}function ro(t,e){if(void 0===e)e={};var i,n;if(e.prototype instanceof ao)e=Xs(e);if(i=function(t){if(!(this instanceof i))return new i(t);else return Lr(this,t||{}),void Zr(this,t||{},{})},n=Io(t.prototype),n.constructor=i,Ro(i,{defaults:{value:n},extend:{value:no,writable:!0,configurable:!0},_Parent:{value:t}}),yl.extend(t,n,e),_u.extend(t,n,e),e.computed)n.computed=a(Io(t.prototype.computed),e.computed);return i.prototype=n,i}function so(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return t.map(U).join(".")}function oo(t){return z(t).map($)}function ao(t){if(!(this instanceof ao))return new ao(t);else return Lr(this,t||{}),void Zr(this,t||{},{})}var uo,ho={el:void 0,append:!1,template:null,delimiters:["{{","}}"],tripleDelimiters:["{{{","}}}"],staticDelimiters:["[[","]]"],staticTripleDelimiters:["[[[","]]]"],csp:!0,interpolate:!1,preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!1,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},fo={linear:function(t){return t},easeIn:function(t){return Math.pow(t,3)},easeOut:function(t){return Math.pow(t-1,3)+1},easeInOut:function(t){if((t/=.5)<1)return.5*Math.pow(t,3);else return.5*(Math.pow(t-2,3)+2)}},lo=null,co="undefined"!=typeof window?window:null,po=co?document:null,mo=!!po,go=("undefined"!=typeof navigator&&/jsDom/.test(navigator.appName),"undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply);try{Object.defineProperty({},"test",{value:0}),uo=!0}catch(vo){uo=!1}var yo,bo,wo,ko,xo,Eo,_o,Ao,Oo,Co=po?po.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"):!1,So=["o","ms","moz","webkit"],jo="http://www.w3.org/1999/xhtml",To="http://www.w3.org/1998/Math/MathML",Fo="http://www.w3.org/2000/svg",No="http://www.w3.org/1999/xlink",Po="http://www.w3.org/XML/1998/namespace",Bo="http://www.w3.org/2000/xmlns",Ko={html:jo,mathml:To,svg:Fo,xlink:No,xml:Po,xmlns:Bo};if(!Co)yo=function(t,e,i){if(e&&e!==jo)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return i?po.createElement(t,i):po.createElement(t)};else yo=function(t,e,i){if(!e||e===jo)return i?po.createElement(t,i):po.createElement(t);else return i?po.createElementNS(e,t,i):po.createElementNS(e,t)};if(!mo)bo=null;else{for(wo=yo("div"),ko=["matches","matchesSelector"],Oo=function(t){return function(e,i){return e[t](i)}},_o=ko.length;_o--&&!bo;)if(xo=ko[_o],wo[xo])bo=Oo(xo);else for(Ao=So.length;Ao--;)if(Eo=So[_o]+xo.substr(0,1).toUpperCase()+xo.substring(1),wo[Eo]){bo=Oo(Eo);break}if(!bo)bo=function(t,e){var i,n,r;if(n=t.parentNode,!n)wo.innerHTML="",n=wo,t=t.cloneNode(),wo.appendChild(t);for(i=n.querySelectorAll(e),r=i.length;r--;)if(i[r]===t)return!0;return!1}}var Io,Vo,Ro,Mo=/(-.)/g,Lo=/[A-Z]/g;try{if(Object.defineProperty({},"test",{get:function(){},set:function(){}}),po)Object.defineProperty(yo("div"),"test",{value:0});Vo=Object.defineProperty}catch(Do){Vo=function(t,e,i){if(i.get)t[e]=i.get();else t[e]=i.value}}try{try{Object.defineProperties({},{test:{value:0}})}catch(Do){throw Do}if(po)Object.defineProperties(yo("div"),{test:{value:0}});Ro=Object.defineProperties}catch(Do){Ro=function(t,e){var i;for(i in e)if(e.hasOwnProperty(i))Vo(t,i,e[i])}}try{Object.create(null),Io=Object.create}catch(Do){Io=function(){var t=function(){};return function(e,i){var n;if(null===e)return{};if(t.prototype=e,n=new t,i)Object.defineProperties(n,i);return n}}()}var Uo,Wo,zo,$o=Object.prototype.hasOwnProperty,qo=Object.prototype.toString,Zo={};if(go){var Ho=["%cRactive.js %c0.8.0-edge-fbaba751cc3b07d2d452766f33eebb99190dc267 %cin debug mode, %cmore...","color: rgb(114, 157, 52); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(85, 85, 85); font-weight: normal;","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;"],Qo="You're running Ractive 0.8.0-edge-fbaba751cc3b07d2d452766f33eebb99190dc267 in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";zo=function(){var t=!!console.groupCollapsed;if(console[t?"groupCollapsed":"log"].apply(console,Ho),console.log(Qo),t)console.groupEnd(Ho);zo=p},Wo=function(t,e){if(zo(),"object"==typeof e[e.length-1]){var i=e.pop(),n=i?i.ractive:null;if(n){var r;if(n.component&&(r=n.component.name))t="<"+r+"> "+t;var s;if(s=i.node||n.fragment&&n.fragment.rendered&&n.find("*"))e.push(s)}}console.warn.apply(console,["%cRactive.js: %c"+t,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);"].concat(e))},Uo=function(){console.log.apply(console,arguments)}}else Wo=Uo=zo=p;var Yo="Bad arguments",Go='A function was specified for "%s" %s, but no %s was returned',Jo=function(t,e){return'Missing "'+t+'" '+e+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+e+"s"},Xo={number:function(t,e){var i;if(!l(t)||!l(e))return null;if(t=+t,e=+e,i=e-t,!i)return function(){return t};else return function(e){return t+e*i}},array:function(t,e){var i,n,r,s;if(!h(t)||!h(e))return null;for(i=[],n=[],s=r=Math.min(t.length,e.length);s--;)n[s]=E(t[s],e[s]);for(s=r;s<t.length;s+=1)i[s]=t[s];for(s=r;s<e.length;s+=1)i[s]=e[s];return function(t){for(var e=r;e--;)i[e]=n[e](t);return i}},object:function(t,e){var i,n,r,s,o;if(!c(t)||!c(e))return null;i=[],s={},r={};for(o in t)if($o.call(t,o))if($o.call(e,o))i.push(o),r[o]=E(t[o],e[o])||_(e[o]);else s[o]=t[o];for(o in e)if($o.call(e,o)&&!$o.call(t,o))s[o]=e[o];return n=i.length,function(t){for(var e,o=n;o--;)e=i[o],s[e]=r[e](t);return s}}},ta={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}},ea=function(t){this.event=t,this.method="on"+t,this.deprecate=ta[t]};ea.prototype.call=function(t,e,i){if(e[t])return i?e[t](i):e[t](),!0;else return void 0},ea.prototype.fire=function(t,e){if(this.call(this.method,t,e),!t[this.method]&&this.deprecate&&this.call(this.deprecate.deprecated,t,e))if(this.deprecate.message)b(this.deprecate.message);else b('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement);e?t.fire(this.event,e):t.fire(this.event)};var ia,na={},ra={},sa={};if("function"==typeof Promise)ia=Promise;else ia=function(t){var e,i,n,r,s,o,a=[],u=[],h=na;n=function(t){return function(n){if(h===na)e=n,h=t,i=P(h===ra?a:u,e),N(i)}},r=n(ra),s=n(sa);try{t(r,s)}catch(f){s(f)}return o={then:function(t,e){var n=new ia(function(r,s){var o=function(t,e,i){if("function"==typeof t)e.push(function(e){var i;try{i=t(e),B(n,i,r,s)}catch(o){s(o)}});else e.push(i)};if(o(t,a,r),o(e,u,s),h!==na)N(i)});return n}},o["catch"]=function(t){return this.then(null,t)},o},ia.all=function(t){return new ia(function(e,i){var n,r,s,o=[];if(!t.length)return void e(o);for(s=function(t,r){if(t&&"function"==typeof t.then)t.then(function(t){o[r]=t,--n||e(o)},i);else o[r]=t,--n||e(o)},n=r=t.length;r--;)s(t[r],r)})},ia.resolve=function(t){return new ia(function(e){e(t)})},ia.reject=function(t){return new ia(function(e,i){i(t)})};var oa=ia,aa=function(t,e){if(this.callback=t,this.parent=e,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,e)e.addChild(this)};aa.prototype.add=function(t){var e=t.isIntro?this.intros:this.outros;e.push(t)},aa.prototype.addChild=function(t){this.children.push(t),this.totalChildren+=1,this.outroChildren+=1},aa.prototype.decrementOutros=function(){this.outroChildren-=1,V(this)},aa.prototype.decrementTotal=function(){this.totalChildren-=1,V(this)},aa.prototype.detachNodes=function(){this.detachQueue.forEach(K),this.children.forEach(I)},aa.prototype.ready=function(){R(this)},aa.prototype.remove=function(t){var e=t.isIntro?this.intros:this.outros;T(e,t),V(this)},aa.prototype.start=function(){this.children.forEach(function(t){return t.start()}),this.intros.concat(this.outros).forEach(function(t){return t.start()}),this.ready=!0,V(this)};var ua,ha=new ea("change"),fa={start:function(t,e){var i,n;if(e)i=new oa(function(t){return n=t});return ua={previousBatch:ua,transitionManager:new aa(n,ua&&ua.transitionManager),fragments:[],tasks:[],immediateObservers:[],deferredObservers:[],ractives:[],instance:t},i},end:function(){if(D(),!ua.previousBatch)ua.transitionManager.start();ua=ua.previousBatch},addFragment:function(t){A(ua.fragments,t)},addFragmentToRoot:function(t){if(ua){for(var e=ua;e.previousBatch;)e=e.previousBatch;A(e.fragments,t)}},addInstance:function(t){if(ua)A(ua.ractives,t)},addObserver:function(t,e){A(e?ua.deferredObservers:ua.immediateObservers,t)},registerTransition:function(t){t._manager=ua.transitionManager,ua.transitionManager.add(t)},detachWhenReady:function(t){ua.transitionManager.detachQueue.push(t)},scheduleTask:function(t,e){var i;if(!ua)t();else{for(i=ua;e&&i.previousBatch;)i=i.previousBatch;i.tasks.push(t)}}},la=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,ca=/([^\\](?:\\\\)*)\./,pa=/\\|\./g,da=/((?:\\)+)\1|\\(\.)/g,ma=/\*/,ga="Cannot add to a non-numeric value",va=oa.resolve();Vo(va,"stop",{value:p});var ya=fo.linear,ba=new ea("detach"),wa=function(t,e,i,n){this.ractive=t,this.selector=e,this.live=i,this.isComponentQuery=n,this.result=[],this.dirty=!0};wa.prototype.add=function(t){this.result.push(t),this.makeDirty()},wa.prototype.cancel=function(){var t=this._root[this.isComponentQuery?"liveComponentQueries":"liveQueries"],e=this.selector,i=t.indexOf(e);if(-1!==i)t.splice(i,1),t[e]=null},wa.prototype.init=function(){this.dirty=!1},wa.prototype.makeDirty=function(){var t=this;if(!this.dirty)this.dirty=!0,fa.scheduleTask(function(){return t.update()})},wa.prototype.remove=function(t){var e=this.result.indexOf(this.isComponentQuery?t.instance:t);if(-1!==e)this.result.splice(e,1)},wa.prototype.update=function(){this.result.sort(this.isComponentQuery?rt:nt),this.dirty=!1},wa.prototype.test=function(t){return this.isComponentQuery?!this.selector||t.name===this.selector:t?bo(t,this.selector):null};var ka,xa={},Ea={},_a=[],Aa=function(t,e){this.value=t,this.isReadonly=this.isKey=!0,this.deps=[],this.links=[],this.parent=e};Aa.prototype.get=function(t){if(t)At(this);return $(this.value)},Aa.prototype.getKeypath=function(){return $(this.value)},Aa.prototype.rebinding=function(t,e){for(var i=this,n=this.deps.length;n--;)i.deps[n].rebinding(t,e,!1);for(n=this.links.length;n--;)i.links[n].rebinding(t,e,!1)},Aa.prototype.register=function(t){this.deps.push(t)},Aa.prototype.registerLink=function(t){A(this.links,t)},Aa.prototype.unregister=function(t){T(this.deps,t)},Aa.prototype.unregisterLink=function(t){T(this.links,t)};var Oa=function(t,e){this.parent=t,this.ractive=e,this.value=e?t.getKeypath(e):t.getKeypath(),this.deps=[],this.children={},this.isReadonly=this.isKeypath=!0};Oa.prototype.get=function(t){if(t)At(this);return this.value},Oa.prototype.getChild=function(t){if(!(t._guid in this.children)){var e=new Oa(this.parent,t);this.children[t._guid]=e,e.owner=this}return this.children[t._guid]},Oa.prototype.getKeypath=function(){return this.value},Oa.prototype.handleChange=function(){for(var t=this,e=Object.keys(this.children),i=e.length;i--;)t.children[e[i]].handleChange();this.deps.forEach(St)},Oa.prototype.rebindChildren=function(t){for(var e=this,i=Object.keys(this.children),n=i.length;n--;){var r=e.children[i[n]];r.value=t.getKeypath(r.ractive),r.handleChange()}},Oa.prototype.rebinding=function(t,e){for(var i=this,n=t?t.getKeypathModel(this.ractive):void 0,r=Object.keys(this.children),s=r.length;s--;)i.children[r[s]].rebinding(t,e,!1);for(s=this.deps.length;s--;)i.deps[s].rebinding(n,i,!1)},Oa.prototype.register=function(t){this.deps.push(t)},Oa.prototype.removeChild=function(t){if(t.ractive)delete this.children[t.ractive._guid]},Oa.prototype.teardown=function(){var t=this;if(this.owner)this.owner.removeChild(this);for(var e=Object.keys(this.children),i=e.length;i--;)t.children[e[i]].teardown()},Oa.prototype.unregister=function(t){if(T(this.deps,t),!this.deps.length)this.teardown()};var Ca=Object.prototype.hasOwnProperty,Sa={early:[],mark:[]},ja={early:[],mark:[]},Ta=function(t){if(this.deps=[],this.children=[],this.childByKey={},this.links=[],this.keyModels={},this.unresolved=[],this.unresolvedByKey={},this.bindings=[],this.patternObservers=[],t)this.parent=t,this.root=t.root};Ta.prototype.addUnresolved=function(t,e){if(!this.unresolvedByKey[t])this.unresolved.push(t),this.unresolvedByKey[t]=[];this.unresolvedByKey[t].push(e)},Ta.prototype.addShuffleTask=function(t,e){if(void 0===e)e="early";Sa[e].push(t)},Ta.prototype.addShuffleRegister=function(t,e){if(void 0===e)e="early";ja[e].push({model:this,item:t})},Ta.prototype.clearUnresolveds=function(t){for(var e=this,i=this.unresolved.length;i--;){var n=e.unresolved[i];if(!t||n===t){for(var r=e.unresolvedByKey[n],s=e.has(n),o=r.length;o--;){if(s)r[o].attemptResolution();if(r[o].resolved)r.splice(o,1)}if(!r.length)e.unresolved.splice(i,1),e.unresolvedByKey[n]=null}else;}},Ta.prototype.findMatches=function(t){var e,i,n=t.length,r=[this],s=function(){var n=t[i];if("*"===n)e=[],r.forEach(function(t){e.push.apply(e,t.getValueChildren(t.get()))});else e=r.map(function(t){return t.joinKey(n)});r=e};for(i=0;n>i;i+=1)s();return e},Ta.prototype.getKeyModel=function(t,e){if(void 0!==t&&!e)return this.parent.getKeyModel(t,!0);if(!(t in this.keyModels))this.keyModels[t]=new Aa(U(t),this);return this.keyModels[t]},Ta.prototype.getKeypath=function(t){if(t!==this.ractive&&this._link)return this._link.target.getKeypath(t);if(!this.keypath)this.keypath=this.parent.isRoot?this.key:""+this.parent.getKeypath(t)+"."+U(this.key);return this.keypath},Ta.prototype.getValueChildren=function(t){var e,i=this;if(h(t)){if(e=[],"length"in this&&this.length!==t.length)e.push(this.joinKey("length"));t.forEach(function(t,n){e.push(i.joinKey(n))})}else if(c(t)||"function"==typeof t)e=Object.keys(t).map(function(t){return i.joinKey(t)});else if(null!=t)return[];return e},Ta.prototype.getVirtual=function(t){var e=this,i=this.get(t,{virtual:!1});if(c(i)){for(var n=h(i)?[]:{},r=Object.keys(i),s=r.length;s--;){var o=e.childByKey[r[s]];if(!o)n[r[s]]=i[r[s]];else if(o._link)n[r[s]]=o._link.getVirtual();else n[r[s]]=o.getVirtual()}for(s=this.children.length;s--;){var a=e.children[s];if(!(a.key in n)&&a._link)n[a.key]=a._link.getVirtual()}return n}else return i},Ta.prototype.has=function(t){if(this._link)return this._link.has(t);var e=this.get();if(!e)return!1;if(t=$(t),Ca.call(e,t))return!0;for(var i=e.constructor;i!==Function&&i!==Array&&i!==Object;){if(Ca.call(i.prototype,t))return!0;i=i.constructor}return!1},Ta.prototype.joinAll=function(t,e){for(var i=this,n=0;n<t.length;n+=1){if(e&&e.lastLink===!1&&n+1===t.length&&i.childByKey[t[n]]&&i.childByKey[t[n]]._link)return i.childByKey[t[n]];i=i.joinKey(t[n],e)}return i},Ta.prototype.notifyUpstream=function(){for(var t=this.parent,e=this;t;){if(t.patternObservers.length)t.patternObservers.forEach(function(t){return t.notify(e.key)});t.deps.forEach(St),e=t,t=t.parent}},Ta.prototype.rebinding=function(t,e,i){for(var n=this,r=this.deps.length;r--;)if(n.deps[r].rebinding)n.deps[r].rebinding(t,e,i);for(r=this.links.length;r--;){var s=n.links[r];if(s.owner._link)s.relinking(t,!0,i)}for(r=this.children.length;r--;){var o=n.children[r];o.rebinding(t?t.joinKey(o.key):void 0,o,i)}for(r=this.unresolved.length;r--;)for(var a=n.unresolvedByKey[n.unresolved[r]],u=a.length;u--;)a[u].rebinding(t,e);if(this.keypathModel)this.keypathModel.rebinding(t,e,!1);for(r=this.bindings.length;r--;)n.bindings[r].rebinding(t,e,i)},Ta.prototype.register=function(t){this.deps.push(t)},Ta.prototype.registerChange=function(t,e){if(!this.isRoot)this.root.registerChange(t,e);else this.changes[t]=e,fa.addInstance(this.root.ractive)},Ta.prototype.registerLink=function(t){A(this.links,t)},Ta.prototype.registerPatternObserver=function(t){this.patternObservers.push(t),this.register(t)},Ta.prototype.registerTwowayBinding=function(t){this.bindings.push(t)},Ta.prototype.removeUnresolved=function(t,e){var i=this.unresolvedByKey[t];if(i)T(i,e)},Ta.prototype.shuffled=function(){for(var t=this,e=this.children.length;e--;)t.children[e].shuffled();if(this.wrapper)this.wrapper.teardown(),this.wrapper=null,this.rewrap=!0},Ta.prototype.unregister=function(t){T(this.deps,t)},Ta.prototype.unregisterLink=function(t){T(this.links,t)},Ta.prototype.unregisterPatternObserver=function(t){T(this.patternObservers,t),this.unregister(t)},Ta.prototype.unregisterTwowayBinding=function(t){T(this.bindings,t)},Ta.prototype.updateFromBindings=function(t){for(var e=this,i=this.bindings.length;i--;){var n=e.bindings[i].getValue();if(n!==e.value)e.set(n)}if(!this.bindings.length){var r=Lt(this.deps);if(r&&r.value!==this.value)this.set(r.value)}if(t)if(this.children.forEach(Mt),this.links.forEach(Mt),this._link)this._link.updateFromBindings(t)},Aa.prototype.addShuffleTask=Ta.prototype.addShuffleTask,Aa.prototype.addShuffleRegister=Ta.prototype.addShuffleRegister,Oa.prototype.addShuffleTask=Ta.prototype.addShuffleTask,Oa.prototype.addShuffleRegister=Ta.prototype.addShuffleRegister;var Fa=function(t){function e(e,i,n,r){if(t.call(this,e),this.owner=i,this.target=n,this.key=void 0===r?i.key:r,i.isLink)this.sourcePath=""+i.sourcePath+"."+this.key;n.registerLink(this),this.isReadonly=e.isReadonly,this.isLink=!0}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.animate=function(t,e,i,n){this.target.animate(t,e,i,n)},e.prototype.get=function(t,e){if(t)At(this);return this.target.get(!1,e)},e.prototype.getKeypath=function(e){if(e&&e!==this.root.ractive)return this.target.getKeypath(e);else return t.prototype.getKeypath.call(this,e)},e.prototype.getKeypathModel=function(t){if(!this.keypathModel)this.keypathModel=new Oa(this);if(t&&t!==this.root.ractive)return this.keypathModel.getChild(t);else return this.keypathModel},e.prototype.handleChange=function(){this.deps.forEach(St),this.links.forEach(St),this.notifyUpstream()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var i=new e(this,this,this.target.joinKey(t),t);this.children.push(i),this.childByKey[t]=i}return this.childByKey[t]},e.prototype.mark=function(){this.target.mark()},e.prototype.marked=function(){this.links.forEach(Tt),this.deps.forEach(St),this.clearUnresolveds()},e.prototype.relinked=function(){this.target.registerLink(this),this.children.forEach(function(t){return t.relinked()})},e.prototype.relinking=function(t,e,i){var n=this;if(e&&this.sourcePath)t=Ut(this.sourcePath,t,this.target);if(t&&this.target!==t){if(this.target.unregisterLink(this),this.keypathModel)this.keypathModel.rebindChildren(t);if(this.target=t,this.children.forEach(function(e){e.relinking(t.joinKey(e.key),!1,i)}),e)this.addShuffleTask(function(){if(n.relinked(),!i)n.notifyUpstream()})}},e.prototype.set=function(t){this.target.set(t)},e.prototype.shuffle=function(t){var e=this;if(!this.shuffling){if(this.shuffling=!0,!this.target.shuffling)this.target.shuffle(t);for(var i=t.length;i--;){var n=t[i];if(i!==n){if(i in e.childByKey)e.childByKey[i].rebinding(!~n?void 0:e.joinKey(n),e.childByKey[i],!0);if(!~n&&e.keyModels[i])e.keyModels[i].rebinding(void 0,e.keyModels[i],!1);else if(~n&&e.keyModels[i]){if(!e.keyModels[n])e.childByKey[n].getKeyModel(n);e.keyModels[i].rebinding(e.keyModels[n],e.keyModels[i],!1)}}else;}var r=this.source().length!==this.source().value.length;for(this.links.forEach(function(e){return e.shuffle(t)}),i=this.deps.length;i--;)if(e.deps[i].shuffle)e.deps[i].shuffle(t);if(this.marked(),r)this.notifyUpstream();this.shuffling=!1}},e.prototype.source=function(){if(this.target.source)return this.target.source();else return this.target},e.prototype.teardown=function(){if(this._link)this._link.teardown();this.children.forEach(Nt)},e}(Ta);Ta.prototype.link=function(t,e){var i=this._link||new Fa(this.parent,this,t,this.key);if(i.sourcePath=e,this._link)this._link.relinking(t,!0,!1);this.rebinding(i,this,!1),Dt();var n=!this._link;if(this._link=i,n)this.parent.clearUnresolveds();return i.marked(),i},Ta.prototype.unlink=function(){if(this._link){var t=this._link;this._link=void 0,t.rebinding(this,this._link),Dt(),t.teardown()}};var Na;if(!co)Na=null;else!function(t,e,i){var n,r;if(!i.requestAnimationFrame){for(n=0;n<t.length&&!i.requestAnimationFrame;++n)i.requestAnimationFrame=i[t[n]+"RequestAnimationFrame"];if(!i.requestAnimationFrame)r=i.setTimeout,i.requestAnimationFrame=function(t){var i,n,s;return i=Date.now(),n=Math.max(0,16-(i-e)),s=r(function(){t(i+n)},n),e=i+n,s}}}(So,0,co),Na=co.requestAnimationFrame;var Pa=Na,Ba=co&&co.performance&&"function"==typeof co.performance.now?function(){
return co.performance.now()}:function(){return Date.now()},Ka=[],Ia=!1,Va=function(t){if(this.duration=t.duration,this.step=t.step,this.complete=t.complete,this.easing=t.easing,this.start=Ba(),this.end=this.start+this.duration,this.running=!0,Ka.push(this),!Ia)Pa(Wt)};Va.prototype.tick=function(t){if(!this.running)return!1;if(t>this.end){if(this.step)this.step(1);if(this.complete)this.complete(1);return!1}var e=t-this.start,i=this.easing(e/this.duration);if(this.step)this.step(i);return!0},Va.prototype.stop=function(){if(this.abort)this.abort();this.running=!1};var Ra={},Ma=function(t){function e(e,i){if(t.call(this,e),this.value=void 0,this.ticker=null,e)if(this.key=$(i),this.isReadonly=e.isReadonly,e.value){if(this.value=e.value[this.key],h(this.value))this.length=this.value.length;this.adapt()}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.adapt=function(){var t=this,e=this.root.adaptors,i=e.length;if(this.rewrap=!1,0!==i){var n=this.value,r=this.root.ractive,s=this.getKeypath();if(this.wrapper){var o=!this.wrapper.reset||this.wrapper.reset(n)===!1;if(o){if(this.wrapper.teardown(),this.wrapper=null,void 0!==this.value){var a=this.parent.value||this.parent.createBranch(this.key);if(a[this.key]!==this.value)a[this.key]=n}}else return void(this.value=this.wrapper.get())}var u;for(u=0;i>u;u+=1){var h=e[u];if(h.filter(n,s,r)){t.wrapper=h.wrap(r,n,s,$t(s)),t.wrapper.value=t.value,t.wrapper.__model=t,t.value=t.wrapper.get();break}}}},e.prototype.animate=function(t,e,i,n){var r=this;if(this.ticker)this.ticker.stop();var s,o=new oa(function(t){return s=t});return this.ticker=new Va({duration:i.duration,easing:i.easing,step:function(t){var e=n(t);if(r.applyValue(e),i.step)i.step(t,e)},complete:function(){if(r.applyValue(e),i.complete)i.complete(e);r.ticker=null,s()}}),o.stop=this.ticker.stop,o},e.prototype.applyValue=function(t){if(!f(t,this.value)){if(this.registerChange(this.getKeypath(),t),this.parent.wrapper&&this.parent.wrapper.set)this.parent.wrapper.set(this.key,t),this.parent.value=this.parent.wrapper.get(),this.value=this.parent.value[this.key],this.adapt();else if(this.wrapper)this.value=t,this.adapt();else{var e=this.parent.value||this.parent.createBranch(this.key);e[this.key]=t,this.value=t,this.adapt()}if(this.parent.clearUnresolveds(),this.clearUnresolveds(),h(t))this.length=t.length;if(this.links.forEach(St),this.children.forEach(jt),this.deps.forEach(St),this.notifyUpstream(),"length"===this.key&&h(this.parent.value))this.parent.length=this.parent.value.length}},e.prototype.createBranch=function(t){var e=l(t)?[]:{};return this.set(e),e},e.prototype.get=function(t,e){if(this._link)return this._link.get(t,e);if(t)At(this);if(e&&e.virtual)return this.getVirtual(!1);else return t&&this.wrapper?this.wrapper.value:this.value},e.prototype.getKeypathModel=function(){if(!this.keypathModel)this.keypathModel=new Oa(this);return this.keypathModel},e.prototype.joinKey=function(t,i){if(this._link)if(i&&!i.lastLink==!1&&(void 0===t||""===t))return this;else return this._link.joinKey(t);if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var n=new e(this,t);this.children.push(n),this.childByKey[t]=n}if(this.childByKey[t]._link)return this.childByKey[t]._link;else return this.childByKey[t]},e.prototype.mark=function(){if(this._link)return this._link.mark();var t=this.retrieve();if(!f(t,this.value)){var e=this.value;if(this.value=t,e!==t||this.rewrap)this.adapt();if(h(t))this.length=t.length;this.children.forEach(jt),this.links.forEach(Tt),this.deps.forEach(St),this.clearUnresolveds()}},e.prototype.merge=function(t,e){var i=this.value,n=t;if(i===n)i=qt(this);if(e)i=i.map(e),n=n.map(e);var r=i.length,s={},o=0,a=i.map(function(t){var e,i=o;do{if(e=n.indexOf(t,i),-1===e)return-1;i=e+1}while(s[e]===!0&&r>i);if(e===o)o+=1;return s[e]=!0,e});this.parent.value[this.key]=t,this.shuffle(a)},e.prototype.retrieve=function(){return this.parent.value?this.parent.value[this.key]:void 0},e.prototype.set=function(t){if(this.ticker)this.ticker.stop();this.applyValue(t)},e.prototype.shuffle=function(t){var e=this;this.shuffling=!0;for(var i=t.length;i--;){var n=t[i];if(i!==n){if(i in e.childByKey)e.childByKey[i].rebinding(!~n?void 0:e.joinKey(n),e.childByKey[i],!0);if(!~n&&e.keyModels[i])e.keyModels[i].rebinding(void 0,e.keyModels[i],!1);else if(~n&&e.keyModels[i]){if(!e.keyModels[n])e.childByKey[n].getKeyModel(n);e.keyModels[i].rebinding(e.keyModels[n],e.keyModels[i],!1)}}else;}var r=this.length!==this.value.length;for(this.links.forEach(function(e){return e.shuffle(t)}),Dt("early"),i=this.deps.length;i--;)if(e.deps[i].shuffle)e.deps[i].shuffle(t);if(this.mark(),Dt("mark"),r)this.notifyUpstream();this.shuffling=!1},e.prototype.teardown=function(){if(this._link)this._link.teardown();if(this.children.forEach(Nt),this.wrapper)this.wrapper.teardown();if(this.keypathModel)this.keypathModel.teardown()},e}(Ta),La=function(t){function e(){t.call(this,null,"@global"),this.value="undefined"!=typeof global?global:window,this.isRoot=!0,this.root=this,this.adaptors=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeypath=function(){return"@global"},e.prototype.registerChange=function(){},e}(Ma),Da=new La,Ua=/^@[^\(]+\(([^\)]+)\)/,Wa=Array.prototype,za={},$a=new ea("update"),qa=Jt("push").model,Za=Jt("pop").model,Ha=Jt("shift").model,Qa=Jt("unshift").model,Ya=Jt("sort").model,Ga=Jt("splice").model,Ja=Jt("reverse").model,Xa=po&&po.querySelector,tu=new ea("insert"),eu=function(t,e,i){var n=this;for(this.fragment=t,this.reference=W(e),this.callback=i,this.keys=z(e),this.resolved=!1,this.contexts=[];t;){if(t.context)t.context.addUnresolved(n.keys[0],n),n.contexts.push(t.context);t=t.componentParent||t.parent}};eu.prototype.attemptResolution=function(){if(!this.resolved){var t=xt(this.fragment,this.reference);if(t)this.resolved=!0,this.callback(t)}},eu.prototype.forceResolution=function(){if(!this.resolved){var t=this.fragment.findContext().joinAll(this.keys);this.callback(t),this.resolved=!0}},eu.prototype.rebinding=function(t,e){var i=this;if(e)e.removeUnresolved(this.keys[0],this);if(t)fa.scheduleTask(function(){return t.addUnresolved(i.keys[0],i)})},eu.prototype.unbind=function(){var t=this;if(T(this.fragment.unresolved,this),!this.resolved)this.contexts.forEach(function(e){return e.removeUnresolved(t.keys[0],t)})};var iu=function(t,e,i,n){var r=this;if(this.context=n.context||t,this.callback=i,this.ractive=t,e)this.resolved(e);else this.keypath=n.keypath,this.resolver=new eu(t.fragment,n.keypath,function(t){r.resolved(t)});if(n.init!==!1)this.dirty=!0,this.dispatch();else this.oldValue=this.newValue;this.defer=n.defer,this.once=n.once,this.strict=n.strict,this.dirty=!1};iu.prototype.cancel=function(){if(this.cancelled=!0,this.model)this.model.unregister(this);else this.resolver.unbind()},iu.prototype.dispatch=function(){if(!this.cancelled)this.callback.call(this.context,this.newValue,this.oldValue,this.keypath),this.oldValue=this.newValue,this.dirty=!1},iu.prototype.handleChange=function(){var t=this;if(!this.dirty){var e=this.model.get();if(f(e,this.oldValue))return;if(this.newValue=e,this.strict&&this.newValue===this.oldValue)return;if(fa.addObserver(this,this.defer),this.dirty=!0,this.once)fa.scheduleTask(function(){return t.cancel()})}},iu.prototype.rebinding=function(t,e){var i=this;if(t=Ut(this.keypath,t,e),t===this.model)return!1;if(this.model)this.model.unregister(this);if(t)t.addShuffleTask(function(){return i.resolved(t)})},iu.prototype.resolved=function(t){this.model=t,this.keypath=t.getKeypath(this.ractive),this.oldValue=void 0,this.newValue=t.get(),t.register(this)};var nu=function(t,e,i,n,r){var s=this;this.context=r.context||t,this.ractive=t,this.baseModel=e,this.keys=i,this.callback=n;var o=i.join("\\.").replace(/\*/g,"(.+)"),a=e.getKeypath(t);this.pattern=new RegExp("^"+(a?a+"\\.":"")+o+"$"),this.oldValues={},this.newValues={},this.defer=r.defer,this.once=r.once,this.strict=r.strict,this.dirty=!1,this.changed=[],this.partial=!1;var u=e.findMatches(this.keys);if(u.forEach(function(t){s.newValues[t.getKeypath(s.ractive)]=t.get()}),r.init!==!1)this.dispatch();else this.oldValues=this.newValues;e.registerPatternObserver(this)};nu.prototype.cancel=function(){this.baseModel.unregisterPatternObserver(this)},nu.prototype.dispatch=function(){var t=this;if(Object.keys(this.newValues).forEach(function(e){if(!t.newKeys||t.newKeys[e]){var i=t.newValues[e],n=t.oldValues[e];if(!t.strict||i!==n)if(!f(i,n)){var r=[i,n,e];if(e){var s=t.pattern.exec(e);if(s)r=r.concat(s.slice(1))}t.callback.apply(t.context,r)}}}),this.partial)for(var e in this.newValues)this.oldValues[e]=this.newValues[e];else this.oldValues=this.newValues;this.newKeys=null,this.dirty=!1},nu.prototype.notify=function(t){this.changed.push(t)},nu.prototype.shuffle=function(t){var e=this;if(h(this.baseModel.value)){var i=this.baseModel.getKeypath(this.ractive),n=this.baseModel.value.length,r=this.keys.length>1?"."+this.keys.slice(1).join("."):"";this.newKeys={};for(var s=0;s<t.length;s++)if(-1!==t[s]&&t[s]!==s)e.newKeys[""+i+"."+s+r]=!0;else;for(var o=t.touchedFrom;n>o;o++)e.newKeys[""+i+"."+o+r]=!0}},nu.prototype.handleChange=function(){var t=this;if(!this.dirty||this.changed.length){if(!this.dirty)this.newValues={};if(!this.changed.length)this.baseModel.findMatches(this.keys).forEach(function(e){var i=e.getKeypath(t.ractive);t.newValues[i]=e.get()}),this.partial=!1;else{var e=this.baseModel.isRoot?this.changed:this.changed.map(function(e){return t.baseModel.getKeypath(t.ractive)+"."+U(e)});this.baseModel.findMatches(this.keys).forEach(function(i){var n=i.getKeypath(t.ractive);if(e.filter(function(t){return 0===n.indexOf(t)&&(n.length===t.length||"."===n[t.length])}).length)t.newValues[n]=i.get()}),this.partial=!0}if(fa.addObserver(this,this.defer),this.dirty=!0,this.changed.length=0,this.once)this.cancel()}};var ru=function(t,e,i,n){if(this.context=t,this.model=e,this.keypath=e.getKeypath(),this.callback=i,this.pending=null,e.register(this),n.init!==!1)this.sliced=[],this.shuffle([]),this.handleChange();else this.sliced=this.slice()};ru.prototype.handleChange=function(){if(this.pending)this.callback(this.pending),this.pending=null;else this.shuffle(this.sliced.map(ze)),this.handleChange()},ru.prototype.shuffle=function(t){var e,i=this,n=this.slice(),r=[],s=[],o={};if(t.forEach(function(t,n){if(o[t]=!0,t!==n&&void 0===e)e=n;if(-1===t)s.push(i.sliced[n])}),void 0===e)e=t.length;for(var a=n.length,u=0;a>u;u+=1)if(!o[u])r.push(n[u]);this.pending={inserted:r,deleted:s,start:e},this.sliced=n},ru.prototype.slice=function(){var t=this.model.get();return h(t)?t.slice():[]};var su={init:!1,once:!0},ou=Jt("pop").path,au=Jt("push").path,uu="/* Ractive.js component styles */",hu=[],fu=!1,lu=null,cu=null;if(po&&(!lu||!lu.parentNode))lu=po.createElement("style"),lu.type="text/css",po.getElementsByTagName("head")[0].appendChild(lu),cu=!!lu.styleSheet;var pu,du,mu=new ea("render"),gu=new ea("complete"),vu={extend:function(t,e,i){e.adapt=ii(e.adapt,S(i.adapt))},init:function(){}},yu=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,bu=/\/\*.*?\*\//g,wu=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>~:]))+)((?:::?[^\s\+\>\~\(:]+(?:\([^\)]+\))?)*\s*[\s\+\>\~]?)\s*/g,ku=/^(?:@|\d+%)/,xu=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g,Eu={name:"css",extend:function(t,e,i){if(i.css){var n=ui(),r=i.noCssTransform?i.css:oi(i.css,n);e.cssId=n,Ge({id:n,styles:r})}},init:function(t,e,i){if(i.css)b("\nThe css option is currently not supported on a per-instance basis and will be discarded. Instead, we recommend instantiating from a component definition with a css option.\n\nconst Component = Ractive.extend({\n	...\n	css: '/* your css */',\n	...\n});\n\nconst componentInstance = new Component({ ... })\n		")}},_u={name:"data",extend:function(t,e,i){var n,r;if(i.data&&c(i.data))for(n in i.data)if(r=i.data[n],r&&"object"==typeof r)if(c(r)||h(r))b("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }");e.data=fi(e.data,i.data)},init:function(t,e,i){var n=fi(t.prototype.data,i.data);if("function"==typeof n)n=n.call(e);if(n&&n.constructor===Object)for(var r in n)if("function"==typeof n[r])n[r]=q(n[r],e);return n||{}},reset:function(t){var e=this.init(t.constructor,t,t.viewmodel);return t.viewmodel.root.set(e),!0}},Au=4,Ou=/\$\{([^\}]+)\}/g,Cu=Io(null),Su=/^\s+/;du=function(t){this.name="ParseError",this.message=t;try{throw new Error(t)}catch(e){this.stack=e.stack}},du.prototype=Error.prototype,pu=function(t,e){var i,n,r=this,s=0;if(this.str=t,this.options=e||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(t){var e=s+t.length+1;return s=e,e},0),this.init)this.init(t,e);for(i=[];r.pos<r.str.length&&(n=r.read());)i.push(n);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(i,e):i},pu.prototype={read:function(t){var e,i,n,r,s=this;if(!t)t=this.converters;for(e=this.pos,n=t.length,i=0;n>i;i+=1)if(s.pos=e,r=t[i](s))return r;return null},getLinePos:function(t){for(var e,i=this,n=0,r=0;t>=i.lineEnds[n];)r=i.lineEnds[n],n+=1;return e=t-r,[n+1,e+1,t]},error:function(t){var e=this.getLinePos(this.pos),i=e[0],n=e[1],r=this.lines[e[0]-1],s=0,o=r.replace(/\t/g,function(t,i){if(i<e[1])s+=1;return"  "})+"\n"+new Array(e[1]+s).join(" ")+"^----",a=new du(""+t+" at line "+i+" character "+n+":\n"+o);throw a.line=e[0],a.character=e[1],a.shortMessage=t,a},matchString:function(t){if(this.str.substr(this.pos,t.length)===t)return this.pos+=t.length,t;else return void 0},matchPattern:function(t){var e;if(e=t.exec(this.remaining()))return this.pos+=e[0].length,e[1]||e[0];else return void 0},allowWhitespace:function(){this.matchPattern(Su)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},pu.extend=function(t){var e,i,n=this;e=function(t,e){pu.call(this,t,e)},e.prototype=Io(n.prototype);for(i in t)if($o.call(t,i))e.prototype[i]=t[i];return e.extend=pu.extend,e};var ju,Tu,Fu,Nu=pu,Pu=1,Bu=2,Ku=3,Iu=4,Vu=5,Ru=6,Mu=7,Lu=8,Du=9,Uu=10,Wu=13,zu=14,$u=15,qu=16,Zu=17,Hu=18,Qu=19,Yu=20,Gu=21,Ju=22,Xu=23,th=24,eh=25,ih=26,nh=27,rh=30,sh=31,oh=32,ah=33,uh=34,hh=35,fh=36,lh=40,ch=50,ph=51,dh=52,mh=53,gh=54,vh=60,yh=61,bh=70,wh=71,kh=72,xh=73,Eh=/^[^\s=]+/,_h=/^\s+/,Ah=/^(\/(?:[^\n\r\u2028\u2029\/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/,Oh=/[-\/\\^$*+?.()|[\]{}]/g,Ch={},Sh=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,jh=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,Th={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Fh=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],Nh=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(Th).join("|")+"));?","g"),Ph="function"==typeof String.fromCodePoint,Bh=Ph?String.fromCodePoint:String.fromCharCode,Kh=/</g,Ih=/>/g,Vh=/&/g,Rh=65533,Mh="Expected a JavaScript expression",Lh="Expected closing paren",Dh=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;ju=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,Tu=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,Fu=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;var Uh,Wh,zh=Oi('"'),$h=Oi("'"),qh=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,Zh=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/,Hh=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/;Uh=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null|Object|Number|String|Boolean)\b/,Wh=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var Qh,Yh,Gh=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:\.(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,Jh=/^[a-zA-Z_$][-\/a-zA-Z_$0-9]*/,Xh=/^@(?:keypath|rootpath|index|key|this|global)/,tf=/^\s*\(/,ef=/^\s*\.{3}/;Yh=function(t,e){return function(i){var n;if(n=e(i))return n;if(!i.matchString(t))return null;if(i.allowWhitespace(),n=Di(i),!n)i.error(Mh);return{s:t,o:n,t:ah}}},function(){var t,e,i,n,r;for(n="! ~ + - typeof".split(" "),r=Mi,t=0,e=n.length;e>t;t+=1)i=Yh(n[t],r),r=i;Qh=r}();var nf,rf,sf=Qh;rf=function(t,e){return function(i){var n,r,s;if(r=e(i),!r)return null;for(;;){if(n=i.pos,i.allowWhitespace(),!i.matchString(t))return i.pos=n,r;if("in"===t&&/[a-zA-Z_$0-9]/.test(i.remaining().charAt(0)))return i.pos=n,r;if(i.allowWhitespace(),s=e(i),!s)return i.pos=n,r;r={t:fh,s:t,o:[r,s]}}}},function(){var t,e,i,n,r;for(n="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),r=sf,t=0,e=n.length;e>t;t+=1)i=rf(n[t],r),r=i;nf=r}();var of,af=nf,uf={"true":!0,"false":!1,"null":null,undefined:void 0},hf=new RegExp("^(?:"+Object.keys(uf).join("|")+")"),ff=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,lf=/\$\{([^\}]+)\}/g,cf=/^\$\{([^\}]+)\}/,pf=/^\s*$/,df=Nu.extend({init:function(t,e){this.values=e.values,this.allowWhitespace()},postProcess:function(t){if(1!==t.length||!pf.test(this.leftover))return null;else return{value:t[0].v}},converters:[function(t){if(!t.values)return null;var e=t.matchPattern(cf);if(e&&t.values.hasOwnProperty(e))return{v:t.values[e]};else return void 0},function(t){var e=t.matchPattern(hf);if(e)return{v:uf[e]};else return void 0},function(t){var e=t.matchPattern(ff);if(e)return{v:+e};else return void 0},function(t){var e=Ci(t),i=t.values;if(e&&i)return{v:e.v.replace(lf,function(t,e){return e in i?i[e]:e})};else return e},function(t){if(!t.matchString("{"))return null;var e={};if(t.allowWhitespace(),t.matchString("}"))return{v:e};for(var i;i=zi(t);){if(e[i.key]=i.value,t.allowWhitespace(),t.matchString("}"))return{v:e};if(!t.matchString(","))return null}return null},function(t){if(!t.matchString("["))return null;var e=[];if(t.allowWhitespace(),t.matchString("]"))return{v:e};for(var i;i=t.read();){if(e.push(i.v),t.allowWhitespace(),t.matchString("]"))return{v:e};if(!t.matchString(","))return null;t.allowWhitespace()}return null}]}),mf=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(.*\)\s*$/;of=Nu.extend({converters:[Di],spreadArgs:!0});var gf,vf=/^[^\s"'>\/=]+/,yf=/^on/,bf=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,wf=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,kf=/^as-([a-z-A-Z][-a-zA-Z_0-9]*)$/,xf=/^([a-zA-Z](?:(?!-in-out)[-a-zA-Z_0-9])*)-(in|out|in-out)$/,Ef={"intro-outro":{t:kh,v:"t0"},intro:{t:kh,v:"t1"},outro:{t:kh,v:"t2"},lazy:{t:xh,v:"l"},twoway:{t:xh,v:"t"},decorator:{t:wh}},_f=/^[^\s"'=<>`]+/,Af={t:Uu,exclude:!0},Of=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,Cf=/^as/i,Sf=/^yield\s*/,jf=/^\s*else\s*/,Tf=/^\s*elseif\s+/,Ff={each:dh,"if":ch,"with":gh,unless:ph},Nf=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Pf=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,Bf=new RegExp("^("+Object.keys(Ff).join("|")+")\\b"),Kf="<!--",If="-->",Vf=/^[ \t\f\r\n]*\r?\n/,Rf=/\r?\n[ \t\f\r\n]*$/,Mf=/[ \t\f\r\n]+/g,Lf=/^(?:pre|script|style|textarea)$/i,Df=/^[ \t\f\r\n]+/,Uf=/[ \t\f\r\n]+$/,Wf=/^(?:\r\n|\r|\n)/,zf=/(?:\r\n|\r|\n)$/,$f=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/,qf=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,Zf=/^[\s\n\/>]/,Hf={exclude:!0};gf={li:["li"],dt:["dt","dd"],dd:["dt","dd"],p:"address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul".split(" "),rt:["rt","rp"],rp:["rt","rp"],optgroup:["optgroup"],option:["option","optgroup"],thead:["tbody","tfoot"],tbody:["tbody","tfoot"],tfoot:["tbody"],tr:["tr","tbody"],td:["td","th","tr"],th:["td","th","tr"]};var Qf,Yf=/^<!--\s*/,Gf=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,Jf=/\s*-->/,Xf=/^#\s*partial\s+/,tl=[hn,on,vn,pn,cn,fn],el=[sn],il=[on,vn,cn];In.computedStrings=function(t){if(!t)return[];else return void Object.keys(t).forEach(function(e){var i=t[e];if("string"==typeof i)t[e]=di(i)})};var nl=[tn,yn,On,Sn],rl=[jn,Tn];Qf=Nu.extend({init:function(t,e){var i=e.tripleDelimiters||["{{{","}}}"],n=e.staticDelimiters||["[[","]]"],r=e.staticTripleDelimiters||["[[[","]]]"];if(this.standardDelimiters=e.delimiters||["{{","}}"],this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:tl},{isStatic:!1,isTriple:!0,open:i[0],close:i[1],readers:el},{isStatic:!0,isTriple:!1,open:n[0],close:n[1],readers:il},{isStatic:!0,isTriple:!0,open:r[0],close:r[1],readers:el}],this.sortMustacheTags(),this.sectionDepth=0,this.elementStack=[],this.interpolate={script:!e.interpolate||e.interpolate.script!==!1,style:!e.interpolate||e.interpolate.style!==!1,textarea:!0},e.sanitize===!0)e.sanitize={elements:"applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title".split(" "),eventAttributes:!0};this.stripComments=e.stripComments!==!1,this.preserveWhitespace=e.preserveWhitespace,this.sanitizeElements=e.sanitize&&e.sanitize.elements,this.sanitizeEventAttributes=e.sanitize&&e.sanitize.eventAttributes,this.includeLinePositions=e.includeLinePositions,this.textOnlyMode=e.textOnlyMode,this.csp=e.csp},postProcess:function(t){if(!t.length)return{t:[],v:Au};if(this.sectionDepth>0)this.error("A section was left open");if(_n(t[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace),this.csp!==!1){var e={};if(Nn(t[0].t,e),Object.keys(e).length)t[0].e=e}return t[0]},converters:[Fn],sortMustacheTags:function(){this.tags.sort(function(t,e){return e.open.length-t.open.length})}});var sl=["delimiters","tripleDelimiters","staticDelimiters","staticTripleDelimiters","csp","interpolate","preserveWhitespace","sanitize","stripComments"],ol="Either preparse or use a ractive runtime source that includes the parser. ",al="Either use:\n\n	Ractive.parse.computedStrings( component.computed )\n\nat build time to pre-convert the strings to functions, or use functions instead of strings in computed properties.",ul={fromId:function(t,e){if(!po){if(e&&e.noThrow)return;throw new Error("Cannot retrieve template #"+t+" as Ractive is not running in a browser.")}if(t)t=t.replace(/^#/,"");var i;if(!(i=po.getElementById(t))){if(e&&e.noThrow)return;throw new Error("Could not find template element with id #"+t)}if("SCRIPT"!==i.tagName.toUpperCase()){if(e&&e.noThrow)return;throw new Error("Template element with id #"+t+", must be a <script> element")}return"textContent"in i?i.textContent:i.innerHTML},isParsed:function(t){return!("string"==typeof t)},getParseOptions:function(t){if(t.defaults)t=t.defaults;return sl.reduce(function(e,i){return e[i]=t[i],e},{})},parse:function(t,e){Vn(In,"template",ol);var i=In(t,e);return gi(i),i},parseFor:function(t,e){return this.parse(t,this.getParseOptions(e))}},hl={name:"template",extend:function(t,e,i){if("template"in i){var n=i.template;if("function"==typeof n)e.template=n;else e.template=Un(n,e)}},init:function(t,e,i){var n="template"in i?i.template:t.prototype.template;if(n=n||{v:Au,t:[]},"function"==typeof n){var r=n;n=Dn(e,r),e._config.template={fn:r,result:n}}if(n=Un(n,e),e.template=n.t,n.p)$n(e.partials,n.p)},reset:function(t){var e=Ln(t);if(e){var i=Un(e,t);return t.template=i.t,$n(t.partials,i.p,!0),!0}}},fl=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],ll=function(t,e){this.name=t,this.useDefaults=e};ll.prototype.extend=function(t,e,i){this.configure(this.useDefaults?t.defaults:t,this.useDefaults?e:e.constructor,i)},ll.prototype.init=function(){},ll.prototype.configure=function(t,e,i){var n=this.name,r=i[n],s=Io(t[n]);for(var o in r)s[o]=r[o];e[n]=s},ll.prototype.reset=function(t){var e=t[this.name],i=!1;return Object.keys(e).forEach(function(t){var n=e[t];if(n._fn){if(n._fn.isOwner)e[t]=n._fn;else delete e[t];i=!0}}),i};var cl=fl.map(function(t){return new ll(t,"computed"===t)}),pl={adapt:vu,css:Eu,data:_u,template:hl},dl=Object.keys(ho),ml=Xn(dl.filter(function(t){return!pl[t]})),gl=Xn(dl.concat(cl.map(function(t){return t.name}))),vl=[].concat(dl.filter(function(t){return!cl[t]&&!pl[t]}),cl,pl.template,pl.css),yl={extend:function(t,e,i){return Gn("extend",t,e,i)},init:function(t,e,i){return Gn("init",t,e,i)},reset:function(t){return vl.filter(function(e){return e.reset&&e.reset(t)}).map(function(t){return t.name})},order:vl},bl=["template","partials","components","decorators","events"],wl=new ea("complete"),kl=new ea("reset"),xl=new ea("render"),El=new ea("unrender"),_l=function(t){this.parentFragment=t.parentFragment,this.ractive=t.parentFragment.ractive,this.template=t.template,this.index=t.index,this.type=t.template.t,this.dirty=!1};_l.prototype.bubble=function(){if(!this.dirty)this.dirty=!0,this.parentFragment.bubble()},_l.prototype.destroyed=function(){},_l.prototype.find=function(){return null},_l.prototype.findAll=function(){},_l.prototype.findComponent=function(){return null},_l.prototype.findAllComponents=function(){},_l.prototype.findNextNode=function(){return this.parentFragment.findNextNode(this)},_l.prototype.shuffled=function(){if(this.fragment)this.fragment.shuffled()},_l.prototype.valueOf=function(){return this.toString()};var Al=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){if(t)At(this);var e=this.parent.get();return e?e[this.key]:void 0},e.prototype.handleChange=function(){this.dirty=!0,this.deps.forEach(St),this.children.forEach(St),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var i=new e(this,t);this.children.push(i),this.childByKey[t]=i}return this.childByKey[t]},e}(Ma),Ol=function(t){function e(e,i){var n=this;t.call(this,e.ractive.viewmodel,null),this.fragment=e,this.template=i,this.isReadonly=!0,this.dirty=!0,this.fn=mi(i.s,i.r.length),this.resolvers=[],this.models=this.template.r.map(function(t,e){var i=Zt(n.fragment,t);if(!i)rr(n,t,e);return i}),this.shuffle=void 0,this.bubble()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(t){if(void 0===t)t=!0;if(this.registered)delete this.root.expressions[this.keypath];if(this.keypath=void 0,t)this.dirty=!0,this.handleChange()},e.prototype.get=function(t){if(t)At(this);if(this.dirty)this.dirty=!1,this.value=this.getValue(),this.adapt();return t&&this.wrapper?this.wrapper.value:this.value},e.prototype.getKeypath=function(){var t=this;if(!this.template)return"@undefined";if(!this.keypath)this.keypath="@"+this.template.s.replace(/_(\d+)/g,function(e,i){if(i>=t.models.length)return e;var n=t.models[i];return n?n.getKeypath():"@undefined"}),this.root.expressions[this.keypath]=this,this.registered=!0;return this.keypath},e.prototype.getValue=function(){var t=this;Et();var e;try{var i=this.models.map(function(t){return t?t.get(!0):void 0});e=this.fn.apply(this.fragment.ractive,i)}catch(n){b("Failed to compute "+this.getKeypath()+": "+(n.message||n))}var r=_t();if(this.dependencies)this.dependencies.forEach(function(e){return e.unregister(t)});return this.dependencies=r,this.dependencies.forEach(function(e){return e.register(t)}),e},e.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(Tt),this.deps.forEach(St),this.children.forEach(St),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new Al(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){this.handleChange()},e.prototype.rebinding=function(t,e,i){var n=this.models.indexOf(e);if(~n)if(t=Ut(this.template.r[n],t,e),t!==e)if(e.unregister(this),this.models.splice(n,1,t),t)t.addShuffleRegister(this,"mark");this.bubble(!i)},e.prototype.retrieve=function(){return this.get()},e.prototype.teardown=function(){var e=this;if(this.unbind(),this.fragment=void 0,this.dependencies)this.dependencies.forEach(function(t){return t.unregister(e)});t.prototype.teardown.call(this)},e.prototype.unregister=function(e){if(t.prototype.unregister.call(this,e),!this.deps.length)this.teardown()},e.prototype.unbind=function(){this.resolvers.forEach(Pt)},e}(Ma),Cl=function(t){function e(e,i){t.call(this,e,i)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyValue=function(t){if(!f(t,this.value))for(var e=this.parent,i=[this.key];e;){if(e.base){var n=e.model.joinAll(i);n.applyValue(t);break}i.unshift(e.key),e=e.parent}},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var i=new e(this,t);this.children.push(i),this.childByKey[t]=i}return this.childByKey[t]},e.prototype.retrieve=function(){var t=this.parent.get();return t&&this.key in t?t[this.key]:void 0},e}(Ma),Sl=function(t){
function e(e,i){var n=this;t.call(this,null,null),this.dirty=!0,this.root=e.ractive.viewmodel,this.template=i,this.resolvers=[],this.base=sr(e,i);var r;if(!this.base)r=e.resolve(i.r,function(t){n.base=t,n.bubble(),T(n.resolvers,r)}),this.resolvers.push(r);var s=this.intermediary={handleChange:function(){return n.handleChange()},rebinding:function(t,e){if(e===n.base){if(t=Ut(i,t,e),t!==n.base)n.base.unregister(s),n.base=t}else{var r=n.members.indexOf(e);if(~r)if(t=Ut(i.m[r].n,t,e),t!==n.members[r])n.members.splice(r,1,t)}if(t!==e)e.unregister(s);if(t)t.addShuffleTask(function(){return t.register(s)});n.bubble()}};this.members=i.m.map(function(t,i){if("string"==typeof t)return{get:function(){return t}};var r,o;if(t.t===rh){if(r=Zt(e,t.n))r.register(s);else o=e.resolve(t.n,function(t){n.members[i]=t,t.register(s),n.handleChange(),T(n.resolvers,o)}),n.resolvers.push(o);return r}return r=new Ol(e,t),r.register(s),r}),this.isUnresolved=!0,this.bubble()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){if(this.base)if(!this.dirty)this.handleChange()},e.prototype.forceResolution=function(){this.resolvers.forEach(function(t){return t.forceResolution()}),this.dirty=!0,this.bubble()},e.prototype.get=function(t){var e=this;if(this.dirty){this.bubble();for(var i=this.members.length,n=!0;n&&i--;)if(!e.members[i])n=!1;if(this.base&&n){var r=this.members.map(function(t){return U(String(t.get()))}),s=this.base.joinAll(r);if(s!==this.model){if(this.model)this.model.unregister(this),this.model.unregisterTwowayBinding(this);if(this.model=s,this.parent=s.parent,this.model.register(this),this.model.registerTwowayBinding(this),this.keypathModel)this.keypathModel.handleChange()}}return this.value=this.model?this.model.get(t):void 0,this.dirty=!1,this.mark(),this.value}else return this.model?this.model.get(t):void 0},e.prototype.getValue=function(){var t=this;this.value=this.model?this.model.get():void 0;for(var e=this.bindings.length;e--;){var i=t.bindings[e].getValue();if(i!==t.value)return i}var n=Lt(this.deps);if(n)return n.value;else return this.value},e.prototype.getKeypath=function(){return this.model?this.model.getKeypath():"@undefined"},e.prototype.handleChange=function(){this.dirty=!0,this.mark()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new Cl(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){if(this.dirty)this.deps.forEach(St);this.links.forEach(Tt),this.children.forEach(jt),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.value},e.prototype.rebinding=function(){},e.prototype.set=function(t){if(!this.model)throw new Error("Unresolved reference expression. This should not happen!");this.model.set(t)},e.prototype.unbind=function(){if(this.resolvers.forEach(Pt),this.model)this.model.unregister(this),this.model.unregisterTwowayBinding(this)},e}(Ma),jl=function(e){function i(t){e.call(this,t),this.fragment=null}return i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.bind=function(){or(this),this.fragment=new jp({owner:this,template:this.template.f}).bind()},i.prototype.detach=function(){return this.fragment?this.fragment.detach():t()},i.prototype.find=function(t){if(this.fragment)return this.fragment.find(t);else return void 0},i.prototype.findAll=function(t,e){if(this.fragment)this.fragment.findAll(t,e)},i.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t);else return void 0},i.prototype.findAllComponents=function(t,e){if(this.fragment)this.fragment.findAllComponents(t,e)},i.prototype.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t)},i.prototype.rebinding=function(){var t=this;if(!this.locked)this.locked=!0,fa.scheduleTask(function(){t.locked=!1,or(t)})},i.prototype.render=function(t){if(this.rendered=!0,this.fragment)this.fragment.render(t)},i.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},i.prototype.unbind=function(){if(this.aliases={},this.fragment)this.fragment.unbind()},i.prototype.unrender=function(t){if(this.rendered&&this.fragment)this.fragment.unrender(t);this.rendered=!1},i.prototype.update=function(){if(this.dirty)this.dirty=!1,this.fragment.update()},i}(_l),Tl=/\s+/,Fl={"float":"cssFloat"},Nl=/\/\*(?:[\s\S]*?)\*\//g,Pl=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\1).)*\2/gi,Bl=/\0(\d+)/g,Kl=[void 0,"text","search","url","email","hidden","password","search","reset","submit"],Il={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"},Vl=function(t){function e(e){if(t.call(this,e),this.name=e.template.n,this.namespace=null,this.owner=e.owner||e.parentFragment.owner||e.element||ar(e.parentFragment),this.element=e.element||(this.owner.attributeByName?this.owner:ar(e.parentFragment)),this.parentFragment=e.parentFragment,this.ractive=this.parentFragment.ractive,this.rendered=!1,this.updateDelegate=null,this.fragment=null,this.element.attributeByName[this.name]=this,!h(e.template.f)){if(this.value=e.template.f,0===this.value)this.value=""}else this.fragment=new jp({owner:this,template:e.template.f});if(this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===Bu&&this.fragment.items[0],this.interpolator)this.interpolator.owner=this}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(this.fragment)this.fragment.bind()},e.prototype.bubble=function(){if(!this.dirty)this.parentFragment.bubble(),this.element.bubble(),this.dirty=!0},e.prototype.destroyed=function(){this.updateDelegate(!0)},e.prototype.getString=function(){return this.fragment?this.fragment.toString():null!=this.value?""+this.value:""},e.prototype.getValue=function(){return this.fragment?this.fragment.valueOf():Sh.test(this.name)?!0:this.value},e.prototype.render=function(){var t=this.element.node;if(this.node=t,!t.namespaceURI||t.namespaceURI===Ko.html){if(this.propertyName=Il[this.name]||this.name,void 0!==t[this.propertyName])this.useProperty=!0;if(Sh.test(this.name)||this.isTwoway)this.isBoolean=!0;if("value"===this.propertyName)t._ractive.value=this.value}if(t.namespaceURI){var e=this.name.indexOf(":");if(-1!==e)this.namespace=Sr(t,this.name.slice(0,e));else this.namespace=t.namespaceURI}this.rendered=!0,this.updateDelegate=lr(this),this.updateDelegate()},e.prototype.toString=function(){var t=this.getValue();if("value"!==this.name||void 0===this.element.getAttribute("contenteditable")&&"select"!==this.element.name&&"textarea"!==this.element.name){if("name"===this.name&&"input"===this.element.name&&this.interpolator&&"radio"===this.element.getAttribute("type"))return'name="{{'+this.interpolator.model.getKeypath()+'}}"';if(this.owner!==this.element||"style"!==this.name&&"class"!==this.name&&!this.styleName&&!this.inlineClass){if(Sh.test(this.name))return t?this.name:"";if(null==t)return"";var e=r(this.getString());return e?""+this.name+'="'+e+'"':this.name}}},e.prototype.unbind=function(){if(this.fragment)this.fragment.unbind()},e.prototype.unrender=function(){this.updateDelegate(!0),this.rendered=!1},e.prototype.update=function(){if(this.dirty){if(this.dirty=!1,this.fragment)this.fragment.update();if(this.rendered)this.updateDelegate();if(this.isTwoway&&!this.locked)this.interpolator.twowayBinding.lastVal(!0,this.interpolator.model.get())}},e}(_l),Rl=function(t){function e(e){if(t.call(this,e),this.owner=e.owner||e.parentFragment.owner||ar(e.parentFragment),this.element=this.owner.attributeByName?this.owner:ar(e.parentFragment),this.flag="l"===e.template.v?"lazy":"twoway",this.element.type===Mu){if(h(e.template.f))this.fragment=new jp({owner:this,template:e.template.f});this.interpolator=this.fragment&&1===this.fragment.items.length&&this.fragment.items[0].type===Bu&&this.fragment.items[0]}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(this.fragment)this.fragment.bind();jr(this,this.getValue(),!0)},e.prototype.bubble=function(){if(!this.dirty)this.element.bubble(),this.dirty=!0},e.prototype.getValue=function(){if(this.fragment)return this.fragment.valueOf();else if("value"in this)return this.value;else if("f"in this.template)return this.template.f;else return!0},e.prototype.render=function(){jr(this,this.getValue(),!0)},e.prototype.toString=function(){return""},e.prototype.unbind=function(){if(this.fragment)this.fragment.unbind();delete this.element[this.flag]},e.prototype.unrender=function(){if(this.element.rendered)this.element.recreateTwowayBinding()},e.prototype.update=function(){if(this.dirty){if(this.fragment)this.fragment.update();jr(this,this.getValue(),!0)}},e}(_l),Ml=po?yo("div"):null,Ll=!1,Dl=function(t){function e(e){t.call(this,e),this.attributes=[],this.owner=e.owner,this.fragment=new jp({ractive:this.ractive,owner:this,template:this.template}),this.fragment.findNextNode=p,this.dirty=!1}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.fragment.bind()},e.prototype.bubble=function(){if(!this.dirty)this.dirty=!0,this.owner.bubble()},e.prototype.render=function(){if(this.node=this.owner.node,this.node)this.isSvg=this.node.namespaceURI===Fo;if(Ll=!0,!this.rendered)this.fragment.render();Ll=!1,this.rendered=!0,this.dirty=!0,this.update()},e.prototype.toString=function(){return this.fragment.toString()},e.prototype.unbind=function(){this.fragment.unbind()},e.prototype.unrender=function(){this.rendered=!1,this.fragment.unrender()},e.prototype.update=function(){var t,e,i=this;if(this.dirty)if(this.dirty=!1,Ll=!0,this.fragment.update(),Ll=!1,this.rendered&&this.node)t=this.fragment.toString(),e=Nr(t,this.isSvg),this.attributes.filter(function(t){return Pr(e,t)}).forEach(function(t){i.node.removeAttribute(t.name)}),e.forEach(function(t){i.node.setAttribute(t.name,t.value)}),this.attributes=e},e}(_l),Ul=["pop","push","reverse","shift","sort","splice","unshift"],Wl=[];Ul.forEach(function(t){var e=function(){for(var e=this,i=[],n=arguments.length;n--;)i[n]=arguments[n];var r=Yt(this.length,t,i);this._ractive.wrappers.forEach(function(t){if(t.magic)t.magic.locked=!0});var s=Array.prototype[t].apply(this,arguments);fa.start(),this._ractive.setting=!0;for(var o=this._ractive.wrappers.length;o--;)Br(e._ractive.wrappers[o],e,t,r);return fa.end(),this._ractive.setting=!1,this._ractive.wrappers.forEach(function(t){if(t.magic)t.magic.locked=!1}),s};Vo(Wl,t,{value:e})});var zl,$l;if({}.__proto__)zl=function(t){return t.__proto__=Wl},$l=function(t){return t.__proto__=Array.prototype};else zl=function(t){for(var e=Ul.length;e--;){var i=Ul[e];Vo(t,i,{value:Wl[i],configurable:!0})}},$l=function(t){for(var e=Ul.length;e--;)delete t[Ul[e]]};zl.unpatch=$l;var ql=zl,Zl="Something went wrong in a rather interesting way",Hl={filter:function(t){return h(t)&&(!t._ractive||!t._ractive.setting)},wrap:function(t,e,i){return new Ql(t,e,i)}},Ql=function(t,e){if(this.root=t,this.value=e,this.__model=null,!e._ractive)Vo(e,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),ql(e);if(!e._ractive.instances[t._guid])e._ractive.instances[t._guid]=0,e._ractive.instances.push(t);e._ractive.instances[t._guid]+=1,e._ractive.wrappers.push(this)};Ql.prototype.get=function(){return this.value},Ql.prototype.reset=function(t){return this.value===t},Ql.prototype.teardown=function(){var t,e,i,n,r;if(t=this.value,e=t._ractive,i=e.wrappers,n=e.instances,e.setting)return!1;if(r=i.indexOf(this),-1===r)throw new Error(Zl);if(i.splice(r,1),!i.length)delete t._ractive,ql.unpatch(this.value);else if(n[this.root._guid]-=1,!n[this.root._guid]){if(r=n.indexOf(this.root),-1===r)throw new Error(Zl);n.splice(r,1)}};var Yl;try{Object.defineProperty({},"test",{get:function(){},set:function(){}}),Yl={filter:function(t){return t&&"object"==typeof t},wrap:function(t,e,i){return new Jl(t,e,i)}}}catch(Do){Yl=!1}var Gl=Yl,Jl=function(t,e,i){var n=this;this.ractive=t,this.value=e,this.keypath=i,this.originalDescriptors={},Object.keys(e).forEach(function(e){var r=Object.getOwnPropertyDescriptor(n.value,e);n.originalDescriptors[e]=r;var s=i?""+i+"."+U(e):U(e),o=Kr(r,t,s,n);Object.defineProperty(n.value,e,o)})};Jl.prototype.get=function(){return this.value},Jl.prototype.reset=function(t){return this.value===t},Jl.prototype.set=function(t,e){this.value[t]=e},Jl.prototype.teardown=function(){var t=this;Object.keys(this.value).forEach(function(e){var i=Object.getOwnPropertyDescriptor(t.value,e);if(i.set&&i.set.__magic)if(Ir(i),1===i.set.__magic.dependants.length)Object.defineProperty(t.value,e,i.set.__magic.originalDescriptor)})};var Xl=function(t,e,i){this.value=e,this.magic=!0,this.magicWrapper=Gl.wrap(t,e,i),this.arrayWrapper=Hl.wrap(t,e,i),this.arrayWrapper.magic=this.magicWrapper,Object.defineProperty(this,"__model",{get:function(){return this.arrayWrapper.__model},set:function(t){this.arrayWrapper.__model=t}})};Xl.prototype.get=function(){return this.value},Xl.prototype.teardown=function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},Xl.prototype.reset=function(t){return this.arrayWrapper.reset(t)&&this.magicWrapper.reset(t)};var tc={filter:function(t,e,i){return Gl.filter(t,e,i)&&Hl.filter(t)},wrap:function(t,e,i){return new Xl(t,e,i)}},ec=function(t){function e(e,i,n){t.call(this,null,null),this.root=this.parent=e,this.signature=i,this.key=n,this.isExpression=n&&"@"===n[0],this.isReadonly=!this.signature.setter,this.context=e.computationContext,this.dependencies=[],this.children=[],this.childByKey={},this.deps=[],this.dirty=!0,this.shuffle=void 0}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){if(t)At(this);if(this.dirty)this.dirty=!1,this.value=this.getValue(),this.adapt();return t&&this.wrapper?this.wrapper.value:this.value},e.prototype.getValue=function(){Et();var t;try{t=this.signature.getter.call(this.context)}catch(e){if(b("Failed to compute "+this.getKeypath()+": "+(e.message||e)),go){if(console.groupCollapsed)console.groupCollapsed("%cshow details","color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;");var i=Vr(this.signature.getterString),n=this.signature.getterUseStack?"\n\n"+Rr(e.stack):"";if(console.error(""+e.name+": "+e.message+"\n\n"+i+n),console.groupCollapsed)console.groupEnd()}}var r=_t();return this.setDependencies(r),t},e.prototype.handleChange=function(){this.dirty=!0,this.links.forEach(Tt),this.deps.forEach(St),this.children.forEach(St),this.clearUnresolveds()},e.prototype.joinKey=function(t){if(void 0===t||""===t)return this;if(!this.childByKey.hasOwnProperty(t)){var e=new Al(this,t);this.children.push(e),this.childByKey[t]=e}return this.childByKey[t]},e.prototype.mark=function(){this.handleChange()},e.prototype.rebinding=function(t,e){if(t!==e)this.handleChange()},e.prototype.set=function(t){if(!this.signature.setter)throw new Error("Cannot set read-only computed value '"+this.key+"'");this.signature.setter(t)},e.prototype.setDependencies=function(t){for(var e=this,i=this.dependencies.length;i--;){var n=e.dependencies[i];if(!~t.indexOf(n))n.unregister(e)}for(i=t.length;i--;){var r=t[i];if(!~e.dependencies.indexOf(r))r.register(e)}this.dependencies=t},e.prototype.teardown=function(){for(var e=this,i=this.dependencies.length;i--;)if(e.dependencies[i])e.dependencies[i].unregister(e);if(this.root.computations[this.key]===this)delete this.root.computations[this.key];t.prototype.teardown.call(this)},e.prototype.unregister=function(e){if(t.prototype.unregister.call(this,e),this.isExpression&&0===this.deps.length)this.teardown()},e}(Ma),ic=function(t){function e(e){t.call(this,null,""),this.value=e,this.isRoot=!0,this.root=this,this.adaptors=[],this.ractive=e,this.changes={}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getKeypath=function(){return"@this"},e}(Ma),nc=Object.prototype.hasOwnProperty,rc=function(t){function e(e){t.call(this,null,null),this.changes={},this.isRoot=!0,this.root=this,this.ractive=e.ractive,this.value=e.data,this.adaptors=e.adapt,this.adapt(),this.computationContext=e.ractive,this.computations={},this.expressions={}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyChanges=function(){return this._changeHash={},this.flush(),this._changeHash},e.prototype.compute=function(t,e){var i=new ec(this,e,t);return this.computations[t]=i,i},e.prototype.createLink=function(t,e,i){for(var n=this,r=z(t),s=this;r.length;){var o=r.shift();s=n.childByKey[o]||n.joinKey(o)}return s.link(e,i)},e.prototype.get=function(t,e){var i=this;if(t)At(this);if(!e||e.virtual!==!1){for(var n=this.getVirtual(),r=Object.keys(this.computations),s=r.length;s--;){var o=i.computations[r[s]];if(!o.isExpression)n[r[s]]=o.get()}return n}else return this.value},e.prototype.getKeypath=function(){return""},e.prototype.getRactiveModel=function(){return this.ractiveModel||(this.ractiveModel=new ic(this.ractive))},e.prototype.getValueChildren=function(){var e=t.prototype.getValueChildren.call(this,this.value);this.children.forEach(function(t){if(t._link){var i=e.indexOf(t);if(~i)e.splice(i,1,t._link);else e.push(t._link)}});for(var i in this.computations)e.push(this.computations[i]);return e},e.prototype.handleChange=function(){this.deps.forEach(St)},e.prototype.has=function(t){var e=this.value;if(t=$(t),nc.call(e,t))return!0;if(t in this.computations||this.childByKey[t]&&this.childByKey[t]._link)return!0;if(t in this.expressions)return!0;for(var i=e.constructor;i!==Function&&i!==Array&&i!==Object;){if(nc.call(i.prototype,t))return!0;i=i.constructor}return!1},e.prototype.joinKey=function(e,i){if("@global"===e)return Da;if("@this"===e)return this.getRactiveModel();if(this.expressions.hasOwnProperty(e))return b("Accessing expression keypaths ("+e.substr(1)+") from the instance is deprecated. You can used a getNodeInfo or event object to access keypaths with expression context."),this.expressions[e];else return this.computations.hasOwnProperty(e)?this.computations[e]:t.prototype.joinKey.call(this,e,i)},e.prototype.map=function(t,e){var i=this.joinKey(t);i.link(e)},e.prototype.rebinding=function(){},e.prototype.set=function(t){var e=this.wrapper;if(e){var i=!e.reset||e.reset(t)===!1;if(i)e.teardown(),this.wrapper=null,this.value=t,this.adapt()}else this.value=t,this.adapt();this.deps.forEach(St),this.children.forEach(jt),this.clearUnresolveds()},e.prototype.retrieve=function(){return this.value},e.prototype.update=function(){},e}(Ma),sc=new ea("construct"),oc=["adaptors","components","decorators","easing","events","interpolators","partials","transitions"],ac=0,uc=function(t){this.hook=new ea(t),this.inProcess={},this.queue={}};uc.prototype.begin=function(t){this.inProcess[t._guid]=!0},uc.prototype.end=function(t){var e=t.parent;if(!e||!this.inProcess[e._guid])qr(this,t);else $r(this.queue,e).push(t);delete this.inProcess[t._guid]};var hc=new ea("config"),fc=new uc("init"),lc=function(t,e){if(-1!==t.indexOf("*"))m('Only component proxy-events may contain "*" wildcards, <'+e.name+" on-"+t+'="..."/> is not valid');this.name=t,this.owner=e,this.node=null,this.handler=null};lc.prototype.listen=function(t){var e=this.node=this.owner.node,i=this.name;if(!("on"+i in e))y(Jo(i,"events"));e.addEventListener(i,this.handler=function(i){t.fire({node:e,original:i})},!1)},lc.prototype.unlisten=function(){this.node.removeEventListener(this.name,this.handler,!1)};var cc=function(t,e){this.eventPlugin=t,this.owner=e,this.handler=null};cc.prototype.listen=function(t){var e=this.owner.node;this.handler=this.eventPlugin(e,function(i){if(void 0===i)i={};i.node=i.node||e,t.fire(i)})},cc.prototype.unlisten=function(){this.handler.teardown()};var pc=function(t,e){this.ractive=t,this.name=e,this.handler=null};pc.prototype.listen=function(t){var e=this.ractive;this.handler=e.on(this.name,function(){var i;if(arguments.length&&arguments[0]&&arguments[0].node)i=Array.prototype.shift.call(arguments),i.component=e;var n=Array.prototype.slice.call(arguments);return t.fire(i,n),!1})},pc.prototype.unlisten=function(){this.handler.cancel()};var dc=/^(event|arguments)(\..+)?$/,mc=/^\$(\d+)(\..+)?$/,gc=function(t){var e=this;if(this.owner=t.owner||t.parentFragment.owner||ar(t.parentFragment),this.element=this.owner.attributeByName?this.owner:ar(t.parentFragment),this.template=t.template,this.parentFragment=t.parentFragment,this.ractive=t.parentFragment.ractive,this.events=[],this.element.type===$u)this.template.n.split("-").forEach(function(t){e.events.push(new pc(e.element.instance,t))});else this.template.n.split("-").forEach(function(t){var i=k("events",e.ractive,t);e.events.push(i?new cc(i,e.element):new lc(t,e.element))});this.context=null,this.resolvers=null,this.models=null,this.action=null,this.args=null};gc.prototype.bind=function(){var t=this;this.context=this.parentFragment.findContext();var e=this.template.f;if(e.x)this.fn=mi(e.x.s,e.x.r.length),this.resolvers=[],this.models=e.x.r.map(function(e,i){var n=dc.exec(e);if(n)return{special:n[1],keys:n[2]?z(n[2].substr(1)):[]};var r=mc.exec(e);if(r)return{special:"arguments",keys:[r[1]-1].concat(r[2]?z(r[2].substr(1)):[])};var s,o=Zt(t.parentFragment,e);if(!o)s=t.parentFragment.resolve(e,function(e){t.models[i]=e,T(t.resolvers,s),e.register(t)}),t.resolvers.push(s);else o.register(t);return o});else this.action="string"==typeof e?e:"string"==typeof e.n?e.n:new jp({owner:this,template:e.n}),this.args=e.a?"string"==typeof e.a?[e.a]:e.a:e.d?new jp({owner:this,template:e.d}):[];if(this.action&&"string"!=typeof this.action)this.action.bind();if(this.args&&e.d)this.args.bind()},gc.prototype.bubble=function(){if(!this.dirty)this.dirty=!0,this.owner.bubble()},gc.prototype.destroyed=function(){this.events.forEach(function(t){return t.unlisten()})},gc.prototype.fire=function(t,e){if(void 0===e)e=[];if(t&&!t.hasOwnProperty("_element"))Ke(t,this.owner);if(this.fn){var i=[];if(t)e.unshift(t);if(this.models)this.models.forEach(function(n){if(!n)return i.push(void 0);if(n.special){for(var r="event"===n.special?t:e,s=n.keys.slice();s.length;)r=r[s.shift()];return i.push(r)}if(n.wrapper)return i.push(n.wrapper.value);else return void i.push(n.get())});var n=this.ractive,r=n.event;n.event=t;var s,o=this.fn.apply(n,i).pop();if(o===!1&&(s=t.original))s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation();n.event=r}else{var a=this.action.toString(),u=this.template.f.d?this.args.getArgsList():this.args;if(e.length)u=u.concat(e);if(t)t.name=a;gt(this.ractive,a,{event:t,args:u})}},gc.prototype.handleChange=function(){},gc.prototype.rebinding=function(t,e){var i=this;if(this.models){var n=this.models.indexOf(e);if(~n)if(this.models.splice(n,1,t),e.unregister(this),t)t.addShuffleTask(function(){return t.register(i)})}},gc.prototype.render=function(){var t=this;fa.scheduleTask(function(){return t.events.forEach(function(e){return e.listen(t)},!0)})},gc.prototype.toString=function(){return""},gc.prototype.unbind=function(){var t=this,e=this.template.f;if(e.m){if(this.resolvers)this.resolvers.forEach(Pt);if(this.resolvers=[],this.models)this.models.forEach(function(e){if(e.unregister)e.unregister(t)});this.models=null}else{if(this.action&&this.action.unbind)this.action.unbind();if(this.args&&this.args.unbind)this.args.unbind()}},gc.prototype.unrender=function(){this.events.forEach(function(t){return t.unlisten()})},gc.prototype.update=function(){if(!this.method&&this.dirty){if(this.dirty=!1,this.action&&this.action.update)this.action.update();if(this.args&&this.args.update)this.args.update()}};var vc=new ea("teardown"),yc=function(t){function e(e,i){var n=this;t.call(this,e),this.type=$u;var r=Io(i.prototype);if(this.instance=r,this.name=e.template.e,this.parentFragment=e.parentFragment,this.liveQueries=[],r.el)b("The <"+this.name+"> component has a default 'el' property; it has been disregarded");var s=e.template.p||{};if(!("content"in s))s.content=e.template.f||[];this._partials=s,this.yielders={};for(var o,a=e.parentFragment;a;){if(a.owner.type===qu){o=a.owner.container;break}a=a.parent}r.parent=this.parentFragment.ractive,r.container=o||null,r.root=r.parent.root,r.component=this,Lr(this.instance,{partials:s}),r._inlinePartials=s,this.attributeByName={},this.attributes=[];var u=[];if((this.template.m||[]).forEach(function(t){switch(t.t){case Wu:case bh:case kh:n.attributes.push(Vs({owner:n,parentFragment:n.parentFragment,template:t}));break;case xh:case wh:break;default:u.push(t)}}),this.attributes.push(new Dl({owner:this,parentFragment:this.parentFragment,template:u})),this.eventHandlers=[],this.template.v)this.setupEvents()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.attributes.forEach(Ot),Zr(this.instance,{partials:this._partials},{cssIds:this.parentFragment.cssIds}),this.eventHandlers.forEach(Ot),this.bound=!0},e.prototype.bubble=function(){if(!this.dirty)this.dirty=!0,this.parentFragment.bubble()},e.prototype.checkYielders=function(){var t=this;Object.keys(this.yielders).forEach(function(e){if(t.yielders[e].length>1)throw fa.end(),new Error("A component template can only have one {{yield"+(e?" "+e:"")+"}} declaration at a time")})},e.prototype.destroyed=function(){if(this.instance.fragment)this.instance.fragment.destroyed()},e.prototype.detach=function(){return this.instance.fragment.detach()},e.prototype.find=function(t){return this.instance.fragment.find(t)},e.prototype.findAll=function(t,e){this.instance.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(!t||this.name===t)return this.instance;if(this.instance.fragment)return this.instance.fragment.findComponent(t);else return void 0},e.prototype.findAllComponents=function(t,e){if(e.test(this))if(e.add(this.instance),e.live)this.liveQueries.push(e);this.instance.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.instance.fragment.firstNode(t)},e.prototype.render=function(t,e){ti(this.instance,t,null,e),this.checkYielders(),this.attributes.forEach(Ft),this.eventHandlers.forEach(Ft),Hr(this),this.rendered=!0},e.prototype.setupEvents=function(){var t=this,e=this.eventHandlers;Object.keys(this.template.v).forEach(function(i){var n=i.split("-"),r=t.template.v[i];n.forEach(function(i){var n=new pc(t.instance,i);e.push(new gc(t,n,r))})})},e.prototype.shuffled=function(){this.liveQueries.forEach(Yr),t.prototype.shuffled.call(this)},e.prototype.toString=function(){return this.instance.toHTML()},e.prototype.unbind=function(){this.bound=!1,this.attributes.forEach(Pt);var t=this.instance;if(t.viewmodel.teardown(),t.fragment.unbind(),t._observers.forEach(Ct),Qr(this),t.fragment.rendered&&t.el.__ractive_instances__)T(t.el.__ractive_instances__,t);vc.fire(t)},e.prototype.unrender=function(t){var e=this;this.rendered=!1,this.shouldDestroy=t,this.instance.unrender(),this.attributes.forEach(Bt),this.eventHandlers.forEach(Bt),this.liveQueries.forEach(function(t){return t.remove(e.instance)})},e.prototype.update=function(){this.dirty=!1,this.instance.fragment.update(),this.checkYielders(),this.attributes.forEach(It),this.eventHandlers.forEach(It)},e}(_l),bc={update:p,teardown:p},wc=function(t){this.owner=t.owner||t.parentFragment.owner||ar(t.parentFragment),this.element=this.owner.attributeByName?this.owner:ar(t.parentFragment),this.parentFragment=this.owner.parentFragment,this.ractive=this.owner.ractive;var e=this.template=t.template;if(this.dynamicName="object"==typeof e.f.n,this.dynamicArgs=!!e.f.d,this.dynamicName)this.nameFragment=new jp({owner:this,template:e.f.n});else this.name=e.f.n||e.f;if(this.dynamicArgs)this.argsFragment=new jp({owner:this,template:e.f.d});else if(e.f.a&&e.f.a.s)this.args=[];else this.args=e.f.a||[];this.node=null,this.intermediary=null,this.element.decorators.push(this)};wc.prototype.bind=function(){var t=this;if(this.dynamicName)this.nameFragment.bind(),this.name=this.nameFragment.toString();if(this.dynamicArgs)this.argsFragment.bind();if(this.template.f.a&&this.template.f.a.s)this.resolvers=[],this.models=this.template.f.a.r.map(function(e,i){var n,r=Zt(t.parentFragment,e);if(!r)n=t.parentFragment.resolve(e,function(e){t.models[i]=e,T(t.resolvers,n),e.register(t)}),t.resolvers.push(n);else r.register(t);return r}),this.argsFn=mi(this.template.f.a.s,this.template.f.a.r.length)},wc.prototype.bubble=function(){if(!this.dirty)this.dirty=!0,this.owner.bubble()},wc.prototype.destroyed=function(){if(this.intermediary)this.intermediary.teardown()},wc.prototype.handleChange=function(){this.bubble()},wc.prototype.rebinding=function(t,e,i){var n=this.models.indexOf(e);if(~n)if(t=Ut(this.template.f.a.r[n],t,e),t!==e){if(e.unregister(this),this.models.splice(n,1,t),t)t.addShuffleRegister(this,"mark");if(!i)this.bubble()}},wc.prototype.render=function(){var t=this;fa.scheduleTask(function(){var e=k("decorators",t.ractive,t.name);if(!e)return y(Jo(t.name,"decorator")),void(t.intermediary=bc);t.node=t.element.node;var i;if(t.argsFn)i=t.models.map(function(t){if(!t)return void 0;else return t.get()}),i=t.argsFn.apply(t.ractive,i);else i=t.dynamicArgs?t.argsFragment.getArgsList():t.args;if(t.intermediary=e.apply(t.ractive,[t.node].concat(i)),!t.intermediary||!t.intermediary.teardown)throw new Error("The '"+t.name+"' decorator must return an object with a teardown method")},!0),this.rendered=!0},wc.prototype.toString=function(){return""},wc.prototype.unbind=function(){var t=this;if(this.dynamicName)this.nameFragment.unbind();if(this.dynamicArgs)this.argsFragment.unbind();if(this.resolvers)this.resolvers.forEach(Pt);if(this.models)this.models.forEach(function(e){if(e)e.unregister(t)})},wc.prototype.unrender=function(t){if((!t||this.element.rendered)&&this.intermediary)this.intermediary.teardown();this.rendered=!1},wc.prototype.update=function(){if(this.dirty){this.dirty=!1;var t=!1;if(this.dynamicName&&this.nameFragment.dirty){var e=this.nameFragment.toString();t=e!==this.name,this.name=e}if(this.intermediary)if(t||!this.intermediary.update)this.unrender(),this.render();else if(this.dynamicArgs){if(this.argsFragment.dirty){var i=this.argsFragment.getArgsList();this.intermediary.update.apply(this.ractive,i)}}else if(this.argsFn){var n=this.models.map(function(t){if(!t)return void 0;else return t.get()});this.intermediary.update.apply(this.ractive,this.argsFn.apply(this.ractive,n))}else this.intermediary.update.apply(this.ractive,this.args);if(this.dynamicName&&this.nameFragment.dirty)this.nameFragment.update();if(this.dynamicArgs&&this.argsFragment.dirty)this.argsFragment.update()}};var kc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){},e.prototype.render=function(){},e.prototype.teardown=function(){},e.prototype.toString=function(){return"<!DOCTYPE"+this.template.a+">"},e.prototype.unbind=function(){},e.prototype.unrender=function(){},e}(_l),xc=function(t,e){if(void 0===e)e="value";this.element=t,this.ractive=t.ractive,this.attribute=t.attributeByName[e];var i=this.attribute.interpolator;i.twowayBinding=this;var n=i.model;if(!n)i.resolver.forceResolution(),n=i.model,Xr("'"+i.template.r+"' reference",this.ractive);else if(n.isUnresolved)n.forceResolution(),Xr("expression",this.ractive);else if(n.isReadonly){var r=n.getKeypath().replace(/^@/,"");return w("Cannot use two-way binding on <"+t.name+"> element: "+r+" is read-only. To suppress this warning use <"+t.name+" twoway='false'...>",{ractive:this.ractive}),!1}this.attribute.isTwoway=!0,
this.model=n;var s=n.get();if(this.wasUndefined=void 0===s,void 0===s&&this.getInitialValue)s=this.getInitialValue(),n.set(s);var o=Jr(t);if(o)this.resetValue=s,o.formBindings.push(this)};xc.prototype.bind=function(){this.model.registerTwowayBinding(this)},xc.prototype.handleChange=function(){var t=this,e=this.getValue();if(this.lastVal()!==e){if(fa.start(this.root),this.attribute.locked=!0,this.model.set(e),this.lastVal(!0,e),this.model.get()!==e)this.attribute.locked=!1;else fa.scheduleTask(function(){return t.attribute.locked=!1});fa.end()}},xc.prototype.lastVal=function(t,e){if(t)this.lastValue=e;else return this.lastValue},xc.prototype.rebinding=function(t,e){var i=this;if(this.model&&this.model===e)e.unregisterTwowayBinding(this);if(t)this.model=t,fa.scheduleTask(function(){return t.registerTwowayBinding(i)})},xc.prototype.render=function(){this.node=this.element.node,this.node._ractive.binding=this,this.rendered=!0},xc.prototype.setFromNode=function(t){this.model.set(t.value)},xc.prototype.unbind=function(){this.model.unregisterTwowayBinding(this)},xc.prototype.unrender=function(){};var Ec=function(t){function e(e){t.call(this,e,"checked")}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(){if(t.prototype.render.call(this),this.node.addEventListener("change",ts,!1),this.node.attachEvent)this.node.addEventListener("click",ts,!1)},e.prototype.unrender=function(){this.node.removeEventListener("change",ts,!1),this.node.removeEventListener("click",ts,!1)},e.prototype.getInitialValue=function(){return!!this.element.getAttribute("checked")},e.prototype.getValue=function(){return this.node.checked},e.prototype.setFromNode=function(t){this.model.set(t.checked)},e}(xc),_c=function(t,e,i){var n=this;this.model=e,this.hash=t,this.getValue=function(){return n.value=i.call(n),n.value},this.bindings=[]};_c.prototype.add=function(t){this.bindings.push(t)},_c.prototype.bind=function(){this.value=this.model.get(),this.model.registerTwowayBinding(this),this.bound=!0},_c.prototype.remove=function(t){if(T(this.bindings,t),!this.bindings.length)this.unbind()},_c.prototype.unbind=function(){this.model.unregisterTwowayBinding(this),this.bound=!1,delete this.model[this.hash]};var Ac=[].push,Oc=function(t){function e(e){if(t.call(this,e,"name"),this.checkboxName=!0,this.group=es("checkboxes",this.model,is),this.group.add(this),this.noInitialValue)this.group.noInitialValue=!0;if(this.group.noInitialValue&&this.element.getAttribute("checked")){var i=this.model.get(),n=this.element.getAttribute("value");if(!O(i,n))Ac.call(i,n)}}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(!this.group.bound)this.group.bind()},e.prototype.changed=function(){var t=!!this.isChecked;return this.isChecked=this.node.checked,this.isChecked===t},e.prototype.getInitialValue=function(){return this.noInitialValue=!0,[]},e.prototype.getValue=function(){return this.group.value},e.prototype.handleChange=function(){this.isChecked=this.element.node.checked,this.group.value=this.model.get();var e=this.element.getAttribute("value");if(this.isChecked&&!O(this.group.value,e))this.group.value.push(e);else if(!this.isChecked&&O(this.group.value,e))T(this.group.value,e);this.lastValue=null,t.prototype.handleChange.call(this)},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node,i=this.model.get(),n=this.element.getAttribute("value");if(h(i))this.isChecked=O(i,n);else this.isChecked=i==n;if(e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.isChecked,e.addEventListener("change",ts,!1),e.attachEvent)e.addEventListener("click",ts,!1)},e.prototype.setFromNode=function(t){if(this.group.bindings.forEach(function(t){return t.wasUndefined=!0}),t.checked){var e=this.group.getValue();e.push(this.element.getAttribute("value")),this.group.model.set(e)}},e.prototype.unbind=function(){this.group.remove(this)},e.prototype.unrender=function(){var t=this.element.node;t.removeEventListener("change",ts,!1),t.removeEventListener("click",ts,!1)},e}(xc),Cc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return this.element.fragment?this.element.fragment.toString():""},e.prototype.getValue=function(){return this.element.node.innerHTML},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;if(e.addEventListener("change",ts,!1),e.addEventListener("blur",ts,!1),!this.ractive.lazy)if(e.addEventListener("input",ts,!1),e.attachEvent)e.addEventListener("keyup",ts,!1)},e.prototype.setFromNode=function(t){this.model.set(t.innerHTML)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("blur",ts,!1),t.removeEventListener("change",ts,!1),t.removeEventListener("input",ts,!1),t.removeEventListener("keyup",ts,!1)},e}(xc),Sc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return""},e.prototype.getValue=function(){return this.node.value},e.prototype.render=function(){t.prototype.render.call(this);var e=this.ractive.lazy,i=!1;if("lazy"in this.element)e=this.element.lazy;if(l(e))i=+e,e=!1;this.handler=i?rs(i):ts;var n=this.node;if(n.addEventListener("change",ts,!1),!e)if(n.addEventListener("input",this.handler,!1),n.attachEvent)n.addEventListener("keyup",this.handler,!1);n.addEventListener("blur",ns,!1)},e.prototype.unrender=function(){var t=this.element.node;this.rendered=!1,t.removeEventListener("change",ts,!1),t.removeEventListener("input",this.handler,!1),t.removeEventListener("keyup",this.handler,!1),t.removeEventListener("blur",ns,!1)},e}(xc),jc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forceUpdate=function(){var t=this,e=this.getValue();if(void 0!==e)this.attribute.locked=!0,fa.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e)},e.prototype.getInitialValue=function(){return this.element.options.filter(function(t){return t.getAttribute("selected")}).map(function(t){return t.getAttribute("value")})},e.prototype.getValue=function(){for(var t=this.element.node.options,e=t.length,i=[],n=0;e>n;n+=1){var r=t[n];if(r.selected){var s=r._ractive?r._ractive.value:r.value;i.push(s)}}return i},e.prototype.handleChange=function(){var e=this.attribute,i=e.getValue(),n=this.getValue();if(void 0===i||!C(n,i))t.prototype.handleChange.call(this);return this},e.prototype.render=function(){if(t.prototype.render.call(this),this.node.addEventListener("change",ts,!1),void 0===this.model.get())this.handleChange()},e.prototype.setFromNode=function(t){for(var e=ss(t),i=e.length,n=new Array(i);i--;){var r=e[i];n[i]=r._ractive?r._ractive.value:r.value}this.model.set(n)},e.prototype.setValue=function(){throw new Error("TODO not implemented yet")},e.prototype.unrender=function(){this.node.removeEventListener("change",ts,!1)},e.prototype.updateModel=function(){if(void 0===this.attribute.value||!this.attribute.value.length)this.keypath.set(this.initialValue)},e}(xc),Tc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getInitialValue=function(){return void 0},e.prototype.getValue=function(){var t=parseFloat(this.node.value);return isNaN(t)?void 0:t},e.prototype.setFromNode=function(t){var e=parseFloat(t.value);if(!isNaN(e))this.model.set(e)},e}(Sc),Fc={},Nc=function(t){function e(e){t.call(this,e,"checked"),this.siblings=os(this.ractive._guid+this.element.getAttribute("name")),this.siblings.push(this)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getValue=function(){return this.node.checked},e.prototype.handleChange=function(){fa.start(this.root),this.siblings.forEach(function(t){t.model.set(t.getValue())}),fa.end()},e.prototype.render=function(){if(t.prototype.render.call(this),this.node.addEventListener("change",ts,!1),this.node.attachEvent)this.node.addEventListener("click",ts,!1)},e.prototype.setFromNode=function(t){this.model.set(t.checked)},e.prototype.unbind=function(){T(this.siblings,this)},e.prototype.unrender=function(){this.node.removeEventListener("change",ts,!1),this.node.removeEventListener("click",ts,!1)},e}(xc),Pc=function(t){function e(e){if(t.call(this,e,"name"),this.group=es("radioname",this.model,as),this.group.add(this),e.checked)this.group.value=this.getValue()}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this;if(!this.group.bound)this.group.bind();this.nameAttributeBinding={handleChange:function(){return t.node.name="{{"+t.model.getKeypath()+"}}"}},this.model.getKeypathModel().register(this.nameAttributeBinding)},e.prototype.getInitialValue=function(){if(this.element.getAttribute("checked"))return this.element.getAttribute("value");else return void 0},e.prototype.getValue=function(){return this.element.getAttribute("value")},e.prototype.handleChange=function(){if(this.node.checked)this.group.value=this.getValue(),t.prototype.handleChange.call(this)},e.prototype.lastVal=function(t,e){if(t)this.group.lastValue=e;else return this.group.lastValue},e.prototype.render=function(){t.prototype.render.call(this);var e=this.node;if(e.name="{{"+this.model.getKeypath()+"}}",e.checked=this.model.get()==this.element.getAttribute("value"),e.addEventListener("change",ts,!1),e.attachEvent)e.addEventListener("click",ts,!1)},e.prototype.setFromNode=function(t){if(t.checked)this.group.model.set(this.element.getAttribute("value"))},e.prototype.unbind=function(){this.group.remove(this),this.model.getKeypathModel().unregister(this.nameAttributeBinding)},e.prototype.unrender=function(){var t=this.node;t.removeEventListener("change",ts,!1),t.removeEventListener("click",ts,!1)},e}(xc),Bc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.forceUpdate=function(){var t=this,e=this.getValue();if(void 0!==e)this.attribute.locked=!0,fa.scheduleTask(function(){return t.attribute.locked=!1}),this.model.set(e)},e.prototype.getInitialValue=function(){if(void 0===this.element.getAttribute("value")){var t=this.element.options,e=t.length;if(e){for(var i,n,r=e;r--;){var s=t[r];if(s.getAttribute("selected")){if(!s.getAttribute("disabled"))i=s.getAttribute("value");n=!0;break}}if(!n)for(;++r<e;)if(!t[r].getAttribute("disabled")){i=t[r].getAttribute("value");break}if(void 0!==i)this.element.attributeByName.value.value=i;return i}}},e.prototype.getValue=function(){var t,e=this.node.options,i=e.length;for(t=0;i>t;t+=1){var n=e[t];if(e[t].selected&&!e[t].disabled)return n._ractive?n._ractive.value:n.value}},e.prototype.render=function(){t.prototype.render.call(this),this.node.addEventListener("change",ts,!1)},e.prototype.setFromNode=function(t){var e=ss(t)[0];this.model.set(e._ractive?e._ractive.value:e.value)},e.prototype.setValue=function(t){this.model.set(t)},e.prototype.unrender=function(){this.node.removeEventListener("change",ts,!1)},e}(xc),Kc=/;\s*$/,Ic=function(t){function e(e){var i=this;if(t.call(this,e),this.liveQueries=[],this.name=e.template.e.toLowerCase(),this.isVoid=jh.test(this.name),this.parent=ar(this.parentFragment,!1),this.parent&&"option"===this.parent.name)throw new Error("An <option> element cannot contain other elements (encountered <"+this.name+">)");this.decorators=[],this.attributeByName={},this.attributes=[];var n=[];(this.template.m||[]).forEach(function(t){switch(t.t){case Wu:case xh:case wh:case bh:case kh:i.attributes.push(Vs({owner:i,parentFragment:i.parentFragment,template:t}));break;default:n.push(t)}}),this.attributes.push(new Dl({owner:this,parentFragment:this.parentFragment,template:n}));for(var r=this.attributes.length;r--;){var s=i.attributes[r];if("type"===s.name)i.attributes.unshift(i.attributes.splice(r,1)[0]);else if("max"===s.name)i.attributes.unshift(i.attributes.splice(r,1)[0]);else if("min"===s.name)i.attributes.unshift(i.attributes.splice(r,1)[0]);else if("class"===s.name)i.attributes.unshift(i.attributes.splice(r,1)[0]);else if("value"===s.name)i.attributes.push(i.attributes.splice(r,1)[0])}if(e.template.f&&!e.deferContent)this.fragment=new jp({template:e.template.f,owner:this,cssIds:null});this.binding=null}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(this.attributes.binding=!0,this.attributes.forEach(Ot),this.attributes.binding=!1,this.fragment)this.fragment.bind();if(!this.binding)this.recreateTwowayBinding()},e.prototype.createTwowayBinding=function(){var t="twoway"in this?this.twoway:this.ractive.twoway;if(!t)return null;var e=hs(this);if(!e)return null;var i=new e(this);return i&&i.model?i:null},e.prototype.destroyed=function(){if(this.attributes.forEach(function(t){return t.destroyed()}),this.fragment)this.fragment.destroyed()},e.prototype.detach=function(){if(!this.rendered)this.destroyed();return i(this.node)},e.prototype.find=function(t){if(bo(this.node,t))return this.node;if(this.fragment)return this.fragment.find(t);else return void 0},e.prototype.findAll=function(t,e){var i=e.test(this.node);if(i)if(e.add(this.node),e.live)this.liveQueries.push(e);if(this.fragment)this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t);else return void 0},e.prototype.findAllComponents=function(t,e){if(this.fragment)this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return null},e.prototype.firstNode=function(){return this.node},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():void 0},e.prototype.recreateTwowayBinding=function(){if(this.binding)this.binding.unbind(),this.binding.unrender();if(this.binding=this.createTwowayBinding())if(this.binding.bind(),this.rendered)this.binding.render()},e.prototype.render=function(t,e){var n=this;this.namespace=ds(this);var r,s=!1;if(e)for(var o;o=e.shift();)if(o.nodeName.toUpperCase()===n.template.e.toUpperCase()&&o.namespaceURI===n.namespace){n.node=r=o,s=!0;break}else i(o);if(!r)r=yo(this.template.e,this.namespace,this.getAttribute("is")),this.node=r;if(Vo(r,"_ractive",{value:{proxy:this}}),this.parentFragment.cssIds)r.setAttribute("data-ractive-css",this.parentFragment.cssIds.map(function(t){return"{"+t+"}"}).join(" "));if(s&&this.foundNode)this.foundNode(r);if(this.fragment){var a=s?F(r.childNodes):void 0;if(this.fragment.render(r,a),a)a.forEach(i)}if(s){if(this.binding&&this.binding.wasUndefined)this.binding.setFromNode(r);for(var u=r.attributes.length;u--;){var h=r.attributes[u].name;if(!(h in n.attributeByName))r.removeAttribute(h)}}if(this.attributes.forEach(Ft),this.binding)this.binding.render();if(Gr(this),this._introTransition&&this.ractive.transitionsEnabled)this._introTransition.isIntro=!0,fa.registerTransition(this._introTransition);if(!s)t.appendChild(r);this.rendered=!0},e.prototype.shuffled=function(){this.liveQueries.forEach(fs),t.prototype.shuffled.call(this)},e.prototype.toString=function(){var t=this.template.e,e=this.attributes.map(cs).join("");if("option"===this.name&&this.isSelected())e+=" selected";if("input"===this.name&&ls(this))e+=" checked";var i,n;if(this.attributes.forEach(function(t){if("class"===t.name)n=(n||"")+(n?" ":"")+r(t.getString());else if("style"===t.name){if(i=(i||"")+(i?" ":"")+r(t.getString()),i&&!Kc.test(i))i+=";"}else if(t.styleName)i=(i||"")+(i?" ":"")+o(t.styleName)+": "+r(t.getString())+";";else if(t.inlineClass&&t.getValue())n=(n||"")+(n?" ":"")+t.inlineClass}),void 0!==i)e=" style"+(i?'="'+i+'"':"")+e;if(void 0!==n)e=" class"+(n?'="'+n+'"':"")+e;var s="<"+t+e+">";if(this.isVoid)return s;if("textarea"===this.name&&void 0!==this.getAttribute("value"))s+=xi(this.getAttribute("value"));else if(void 0!==this.getAttribute("contenteditable"))s+=this.getAttribute("value")||"";if(this.fragment)s+=this.fragment.toString(!/^(?:script|style)$/i.test(this.template.e));return s+="</"+t+">"},e.prototype.unbind=function(){if(this.attributes.forEach(Pt),this.binding)this.binding.unbind();if(this.fragment)this.fragment.unbind()},e.prototype.unrender=function(t){if(this.rendered){this.rendered=!1;var e=this._introTransition;if(e&&e.complete)e.complete();if("option"===this.name)this.detach();else if(t)fa.detachWhenReady(this);if(this.fragment)this.fragment.unrender();if(this.binding)this.binding.unrender();if(this._outroTransition&&this.ractive.transitionsEnabled)this._outroTransition.isIntro=!1,fa.registerTransition(this._outroTransition);ps(this)}},e.prototype.update=function(){if(this.dirty)if(this.dirty=!1,this.attributes.forEach(It),this.fragment)this.fragment.update()},e}(_l),Vc=function(t){function e(e){t.call(this,e),this.formBindings=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,i){t.prototype.render.call(this,e,i),this.node.addEventListener("reset",ms,!1)},e.prototype.unrender=function(e){this.node.removeEventListener("reset",ms,!1),t.prototype.unrender.call(this,e)},e}(Ic),Rc=function(t){function e(e){if(t.call(this,e),this.parentFragment=e.parentFragment,this.template=e.template,this.index=e.index,e.owner)this.parent=e.owner;this.isStatic=!!e.template.s,this.model=null,this.dirty=!1}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this,e=sr(this.parentFragment,this.template),i=e?e.get():void 0;if(this.isStatic)return void(this.model={get:function(){return i}});if(e)e.register(this),this.model=e;else this.resolver=this.parentFragment.resolve(this.template.r,function(e){t.model=e,e.register(t),t.handleChange(),t.resolver=null})},e.prototype.handleChange=function(){this.bubble()},e.prototype.rebinding=function(t,e,i){if(t=Ut(this.template,t,e),this["static"])return!1;if(t===this.model)return!1;if(this.model)this.model.unregister(this);if(t)t.addShuffleRegister(this,"mark");if(this.model=t,!i)this.handleChange();return!0},e.prototype.unbind=function(){if(!this.isStatic)this.model&&this.model.unregister(this),this.model=void 0,this.resolver&&this.resolver.unbind()},e}(_l),Mc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){if(this.owner)this.owner.bubble();t.prototype.bubble.call(this)},e.prototype.detach=function(){return i(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.getString=function(){return this.model?n(this.model.get()):""},e.prototype.render=function(t,e){if(!Tr()){var i=this.getString();if(this.rendered=!0,e){var n=e[0];if(n&&3===n.nodeType){if(e.shift(),n.nodeValue!==i)n.nodeValue=i}else if(n=this.node=po.createTextNode(i),e[0])t.insertBefore(n,e[0]);else t.appendChild(n);this.node=n}else this.node=po.createTextNode(i),t.appendChild(this.node)}},e.prototype.toString=function(t){var e=this.getString();return t?xi(e):e},e.prototype.unrender=function(t){if(t)this.detach();this.rendered=!1},e.prototype.update=function(){if(this.dirty)if(this.dirty=!1,this.rendered)this.node.data=this.getString()},e.prototype.valueOf=function(){return this.model?this.model.get():void 0},e}(Rc),Lc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.render=function(e,i){t.prototype.render.call(this,e,i),this.node.defaultValue=this.node.value},e}(Ic),Dc=function(t){function e(e){t.call(this,e),this.name=e.template.n,this.owner=e.owner||e.parentFragment.owner||e.element||ar(e.parentFragment),this.element=e.element||(this.owner.attributeByName?this.owner:ar(e.parentFragment)),this.parentFragment=this.element.parentFragment,this.ractive=this.parentFragment.ractive,this.fragment=null,this.element.attributeByName[this.name]=this,this.value=e.template.f}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(this.fragment)this.fragment.bind();var t=this.template.f,e=this.element.instance.viewmodel;if(0===t)e.joinKey(this.name).set(!0);else if("string"==typeof t){var i=$i(t);e.joinKey(this.name).set(i?i.value:t)}else if(h(t))vs(this,!0)},e.prototype.render=function(){},e.prototype.unbind=function(){if(this.fragment)this.fragment.unbind();if(this.boundFragment)this.boundFragment.unbind();if(this.element.bound)if(this.link.target===this.model)this.link.owner.unlink()},e.prototype.unrender=function(){},e.prototype.update=function(){if(this.dirty){if(this.dirty=!1,this.fragment)this.fragment.update();if(this.boundFragment)this.boundFragment.update();if(this.rendered)this.updateDelegate()}},e}(_l),Uc=function(t){function e(e){var i=e.template;if(!i.a)i.a={};if(void 0===i.a.value&&!("disabled"in i.a))i.a.value=i.f||"";t.call(this,e),this.select=ys(this.parent)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){if(!this.select)return void t.prototype.bind.call(this);var e=this.attributeByName.selected;if(e&&void 0!==this.select.getAttribute("value")){var i=this.attributes.indexOf(e);this.attributes.splice(i,1),delete this.attributeByName.selected}t.prototype.bind.call(this),this.select.options.push(this)},e.prototype.bubble=function(){var e=this.getAttribute("value");if(this.node.value!==e)this.node._ractive.value=e;t.prototype.bubble.call(this)},e.prototype.getAttribute=function(t){var e=this.attributeByName[t];return e?e.getValue():"value"===t&&this.fragment?this.fragment.valueOf():void 0},e.prototype.isSelected=function(){var t=this.getAttribute("value");if(void 0===t||!this.select)return!1;var e=this.select.getAttribute("value");if(e==t)return!0;if(this.select.getAttribute("multiple")&&h(e))for(var i=e.length;i--;)if(e[i]==t)return!0},e.prototype.render=function(e,i){if(t.prototype.render.call(this,e,i),!this.attributeByName.value)this.node._ractive.value=this.getAttribute("value")},e.prototype.unbind=function(){if(t.prototype.unbind.call(this),this.select)T(this.select.options,this)},e}(Ic),Wc=function(t){function e(){t.apply(this,arguments)}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){this.refName=this.template.r;var e,i=this.refName?bs(this.ractive,this.refName,this.parentFragment)||null:null;if(i)this.named=!0,this.setTemplate(this.template.r,i);if(!i)if(t.prototype.bind.call(this),this.model&&(e=this.model.get())&&"object"==typeof e&&("string"==typeof e.template||h(e.t))){if(e.template)this.source=e.template,e=_s(this.template.r,e.template,this.ractive);else this.source=e.t;this.setTemplate(this.template.r,e.t)}else if((!this.model||"string"!=typeof this.model.get())&&this.refName)this.setTemplate(this.refName,i);else this.setTemplate(this.model.get());this.fragment=new jp({owner:this,template:this.partialTemplate}).bind()},e.prototype.destroyed=function(){this.fragment.destroyed()},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.findAll(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.firstNode=function(t){return this.fragment.firstNode(t)},e.prototype.forceResetTemplate=function(){var t=this;if(this.partialTemplate=void 0,this.refName)this.partialTemplate=bs(this.ractive,this.refName,this.parentFragment);if(!this.partialTemplate)this.partialTemplate=bs(this.ractive,this.name,this.parentFragment);if(!this.partialTemplate)w("Could not find template for partial '"+this.name+"'"),this.partialTemplate=[];if(this.inAttribute)Fr(function(){return t.fragment.resetTemplate(t.partialTemplate)});else this.fragment.resetTemplate(this.partialTemplate);this.bubble()},e.prototype.render=function(t,e){this.fragment.render(t,e)},e.prototype.setTemplate=function(t,e){if(this.name=t,!e&&null!==e)e=bs(this.ractive,t,this.parentFragment);if(!e)w("Could not find template for partial '"+t+"'");this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){t.prototype.unbind.call(this),this.fragment.unbind()},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){var t;if(this.dirty){if(this.dirty=!1,!this.named){if(this.model)t=this.model.get();if(t&&"string"==typeof t&&t!==this.name)this.setTemplate(t),this.fragment.resetTemplate(this.partialTemplate);else if(t&&"object"==typeof t&&("string"==typeof t.template||h(t.t)))if(t.t!==this.source&&t.template!==this.source){if(t.template)this.source=t.template,t=_s(this.name,t.template,this.ractive);else this.source=t.t;this.setTemplate(this.name,t.t),this.fragment.resetTemplate(this.partialTemplate)}}this.fragment.update()}},e}(Rc),zc=function(t){this.parent=t.owner.parentFragment,this.parentFragment=this,this.owner=t.owner,this.ractive=this.parent.ractive,this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.context=null,this.rendered=!1,this.iterations=[],this.template=t.template,this.indexRef=t.indexRef,this.keyRef=t.keyRef,this.pendingNewIndices=null,this.previousIterations=null,this.isArray=!1};zc.prototype.bind=function(t){var e=this;this.context=t;var i=t.get();if(this.isArray=h(i)){this.iterations=[];for(var n=i.length,r=0;n>r;r+=1)e.iterations[r]=e.createIteration(r,r)}else if(c(i)){if(this.isArray=!1,this.indexRef){var s=this.indexRef.split(",");this.keyRef=s[0],this.indexRef=s[1]}this.iterations=Object.keys(i).map(function(t,i){return e.createIteration(t,i)})}return this},zc.prototype.bubble=function(){this.owner.bubble()},zc.prototype.createIteration=function(t,e){var i=new jp({owner:this,template:this.template});i.key=t,i.index=e,i.isIteration=!0;var n=this.context.joinKey(t);if(this.owner.template.z)i.aliases={},i.aliases[this.owner.template.z[0].n]=n;return i.bind(n)},zc.prototype.destroyed=function(){this.iterations.forEach(function(t){return t.destroyed()})},zc.prototype.detach=function(){var e=t();return this.iterations.forEach(function(t){return e.appendChild(t.detach())}),e},zc.prototype.find=function(t){var e,i=this,n=this.iterations.length;for(e=0;n>e;e+=1){var r=i.iterations[e].find(t);if(r)return r}},zc.prototype.findAll=function(t,e){var i,n=this,r=this.iterations.length;for(i=0;r>i;i+=1)n.iterations[i].findAll(t,e)},zc.prototype.findComponent=function(t){var e,i=this,n=this.iterations.length;for(e=0;n>e;e+=1){var r=i.iterations[e].findComponent(t);if(r)return r}},zc.prototype.findAllComponents=function(t,e){var i,n=this,r=this.iterations.length;for(i=0;r>i;i+=1)n.iterations[i].findAllComponents(t,e)},zc.prototype.findNextNode=function(t){var e=this;if(t.index<this.iterations.length-1)for(var i=t.index+1;i<e.iterations.length;i++){var n=e.iterations[i].firstNode(!0);if(n)return n}return this.owner.findNextNode()},zc.prototype.firstNode=function(t){return this.iterations[0]?this.iterations[0].firstNode(t):null},zc.prototype.rebinding=function(t){var e=this;this.context=t,this.iterations.forEach(function(i){var n=t?t.joinKey(i.key||i.index):void 0;if(e.owner.template.z)i.aliases={},i.aliases[e.owner.template.z[0].n]=n})},zc.prototype.render=function(t,e){if(this.iterations)this.iterations.forEach(function(i){return i.render(t,e)});this.rendered=!0},zc.prototype.shuffle=function(t){var e=this;if(!this.pendingNewIndices)this.previousIterations=this.iterations.slice();if(!this.pendingNewIndices)this.pendingNewIndices=[];this.pendingNewIndices.push(t);var i=[];t.forEach(function(t,n){if(-1!==t){var r=e.iterations[n];if(i[t]=r,t!==n&&r)r.dirty=!0}}),this.iterations=i,this.bubble()},zc.prototype.shuffled=function(){this.iterations.forEach(function(t){return t.shuffled()})},zc.prototype.toString=function(t){return this.iterations?this.iterations.map(t?Rt:Vt).join(""):""},zc.prototype.unbind=function(){return this.iterations.forEach(Pt),this},zc.prototype.unrender=function(t){if(this.iterations.forEach(t?Kt:Bt),this.pendingNewIndices&&this.previousIterations)this.previousIterations.forEach(function(e){if(e.rendered)t?Kt(e):Bt(e)});this.rendered=!1},zc.prototype.update=function(){var e=this;if(this.pendingNewIndices)return void this.updatePostShuffle();if(!this.updating){this.updating=!0;var i,n,r,s=this.context.get(),o=this.isArray,a=!0;if(this.isArray=h(s)){if(o)if(a=!1,this.iterations.length>s.length)i=this.iterations.splice(s.length)}else if(c(s)&&!o)for(a=!1,i=[],n={},r=this.iterations.length;r--;){var u=e.iterations[r];if(u.key in s)n[u.key]=!0;else e.iterations.splice(r,1),i.push(u)}if(a)i=this.iterations,this.iterations=[];if(i)i.forEach(function(t){t.unbind(),t.unrender(!0)});this.iterations.forEach(It);var f,l,p=h(s)?s.length:c(s)?Object.keys(s).length:0;if(p>this.iterations.length){if(f=this.rendered?t():null,r=this.iterations.length,h(s))for(;r<s.length;){if(l=e.createIteration(r,r),e.iterations.push(l),e.rendered)l.render(f);r+=1}else if(c(s)){if(this.indexRef&&!this.keyRef){var d=this.indexRef.split(",");this.keyRef=d[0],this.indexRef=d[1]}Object.keys(s).forEach(function(t){if(!(n&&t in n)){if(l=e.createIteration(t,r),e.iterations.push(l),e.rendered)l.render(f);r+=1}})}if(this.rendered){var m=this.parent.findParentNode(),g=this.parent.findNextNode(this.owner);m.insertBefore(f,g)}}this.updating=!1}},zc.prototype.updatePostShuffle=function(){var e=this,i=this.pendingNewIndices[0];this.pendingNewIndices.slice(1).forEach(function(t){i.forEach(function(e,n){i[n]=t[e]})});var n,r=this.context.get().length,s=this.previousIterations.length,o={};i.forEach(function(t,i){var n=e.previousIterations[i];if(e.previousIterations[i]=null,-1===t)o[i]=n;else if(n.index!==t){var r=e.context.joinKey(t);if(n.index=t,n.context=r,e.owner.template.z)n.aliases={},n.aliases[e.owner.template.z[0].n]=r}}),this.previousIterations.forEach(function(t,e){if(t)o[e]=t});var a=this.rendered?t():null,u=this.rendered?this.parent.findParentNode():null,h="startIndex"in i;for(n=h?i.startIndex:0;r>n;n++){var f=e.iterations[n];if(!f||!h){if(!f)e.iterations[n]=e.createIteration(n,n);if(e.rendered){if(o[n])a.appendChild(o[n].detach());if(f)a.appendChild(f.detach());else e.iterations[n].render(a)}}else if(e.rendered){if(o[n])a.appendChild(o[n].detach());if(a.childNodes.length)u.insertBefore(a,f.firstNode())}}if(this.rendered){for(n=r;s>n;n++)if(o[n])a.appendChild(o[n].detach());if(a.childNodes.length)u.insertBefore(a,this.owner.findNextNode())}Object.keys(o).forEach(function(t){return o[t].unbind().unrender(!0)}),this.iterations.forEach(It),this.pendingNewIndices=null,this.shuffled()};var $c,qc=function(e){function i(t){e.call(this,t),this.sectionType=t.template.n||null,this.templateSectionType=this.sectionType,this.subordinate=1===t.template.l,this.fragment=null}return i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.bind=function(){if(e.prototype.bind.call(this),this.subordinate)this.sibling=this.parentFragment.items[this.parentFragment.items.indexOf(this)-1],this.sibling.nextSibling=this;if(this.model)this.dirty=!0,this.update();else if(this.sectionType&&this.sectionType===ph&&(!this.sibling||!this.sibling.isTruthy()))this.fragment=new jp({owner:this,template:this.template.f}).bind()},i.prototype.destroyed=function(){if(this.fragment)this.fragment.destroyed()},i.prototype.detach=function(){return this.fragment?this.fragment.detach():t()},i.prototype.find=function(t){if(this.fragment)return this.fragment.find(t);else return void 0},i.prototype.findAll=function(t,e){if(this.fragment)this.fragment.findAll(t,e)},i.prototype.findComponent=function(t){if(this.fragment)return this.fragment.findComponent(t);else return void 0},i.prototype.findAllComponents=function(t,e){if(this.fragment)this.fragment.findAllComponents(t,e)},i.prototype.firstNode=function(t){return this.fragment&&this.fragment.firstNode(t);

},i.prototype.isTruthy=function(){if(this.subordinate&&this.sibling.isTruthy())return!0;var t=!this.model?void 0:this.model.isRoot?this.model.value:this.model.get();return!!t&&!As(t)},i.prototype.rebinding=function(t,i,n){if(e.prototype.rebinding.call(this,t,i,n))if(this.fragment&&this.sectionType!==ch&&this.sectionType!==ph)this.fragment.rebinding(t,i)},i.prototype.render=function(t,e){if(this.rendered=!0,this.fragment)this.fragment.render(t,e)},i.prototype.shuffle=function(t){if(this.fragment&&this.sectionType===dh)this.fragment.shuffle(t)},i.prototype.toString=function(t){return this.fragment?this.fragment.toString(t):""},i.prototype.unbind=function(){if(e.prototype.unbind.call(this),this.fragment)this.fragment.unbind()},i.prototype.unrender=function(t){if(this.rendered&&this.fragment)this.fragment.unrender(t);this.rendered=!1},i.prototype.update=function(){if(this.dirty){if(this.fragment&&this.sectionType!==ch&&this.sectionType!==ph)this.fragment.context=this.model;if(this.model||this.sectionType===ph){this.dirty=!1;var e=!this.model?void 0:this.model.isRoot?this.model.value:this.model.get(),i=!this.subordinate||!this.sibling.isTruthy(),n=this.sectionType;if(null===this.sectionType||null===this.templateSectionType)this.sectionType=Os(e,this.template.i);if(n&&n!==this.sectionType&&this.fragment){if(this.rendered)this.fragment.unbind().unrender(!0);this.fragment=null}var r;if(this.sectionType===dh)if(this.fragment)this.fragment.update();else r=new zc({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model);else if(this.sectionType===mh)if(this.fragment)this.fragment.update();else r=new jp({owner:this,template:this.template.f}).bind(this.model);else if(this.sectionType===gh){if(this.fragment)if(As(e)){if(this.rendered)this.fragment.unbind().unrender(!0);this.fragment=null}else this.fragment.update();else if(!As(e))r=new jp({owner:this,template:this.template.f}).bind(this.model)}else{var s=i&&(this.sectionType===ph?As(e):!!e&&!As(e));if(this.fragment)if(s)this.fragment.update();else{if(this.rendered)this.fragment.unbind().unrender(!0);this.fragment=null}else if(s)r=new jp({owner:this,template:this.template.f}).bind(null)}if(r){if(this.rendered){var o=this.parentFragment.findParentNode(),a=this.parentFragment.findNextNode(this);if(a){var u=t();r.render(u),a.parentNode.insertBefore(u,a)}else r.render(o)}this.fragment=r}if(this.nextSibling)this.nextSibling.dirty=!0,this.nextSibling.update()}}},i}(Rc),Zc=function(t){function e(e){t.call(this,e),this.options=[]}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.foundNode=function(t){if(this.binding){var e=ss(t);if(e.length>0)this.selectedOptions=e}},e.prototype.render=function(e,i){t.prototype.render.call(this,e,i),this.sync();for(var n=this.node,r=n.options.length;r--;)n.options[r].defaultSelected=n.options[r].selected;this.rendered=!0},e.prototype.sync=function(){var t=this,e=this.node;if(e){var i=F(e.options);if(this.selectedOptions)return i.forEach(function(e){if(t.selectedOptions.indexOf(e)>=0)e.selected=!0;else e.selected=!1}),this.binding.setFromNode(e),void delete this.selectedOptions;var n=this.getAttribute("value"),r=this.getAttribute("multiple");if(void 0!==n){var s;if(i.forEach(function(t){var e=t._ractive?t._ractive.value:t.value,i=r?Cs(n,e):n==e;if(i)s=!0;t.selected=i}),!s&&!r)if(this.binding)this.binding.forceUpdate()}else if(this.binding)this.binding.forceUpdate()}},e.prototype.update=function(){t.prototype.update.call(this),this.sync()},e}(Ic),Hc=function(t){function e(e){var i=e.template;if(e.deferContent=!0,t.call(this,e),!this.attributeByName.value)if(i.f&&us({template:i}))this.attributes.push(Vs({owner:this,template:{t:Wu,f:i.f,n:"value"},parentFragment:this.parentFragment}));else this.fragment=new jp({owner:this,cssIds:null,template:i.f})}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bubble=function(){var t=this;if(!this.dirty){if(this.dirty=!0,this.rendered&&!this.binding&&this.fragment)fa.scheduleTask(function(){t.dirty=!1,t.node.value=t.fragment.toString()});this.parentFragment.bubble()}},e}(Lc),Qc=function(t){function e(e){t.call(this,e),this.type=Pu}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){},e.prototype.detach=function(){return i(this.node)},e.prototype.firstNode=function(){return this.node},e.prototype.render=function(t,e){if(!Tr())if(this.rendered=!0,e){var i=e[0];if(i&&3===i.nodeType){if(e.shift(),i.nodeValue!==this.template)i.nodeValue=this.template}else if(i=this.node=po.createTextNode(this.template),e[0])t.insertBefore(i,e[0]);else t.appendChild(i);this.node=i}else this.node=po.createTextNode(this.template),t.appendChild(this.node)},e.prototype.toString=function(t){return t?xi(this.template):this.template},e.prototype.unbind=function(){},e.prototype.unrender=function(t){if(this.rendered&&t)this.detach();this.rendered=!1},e.prototype.update=function(){},e.prototype.valueOf=function(){return this.template},e}(_l);if(!mo)$c=null;else{var Yc={},Gc=yo("div").style;$c=function(t){if(t=ur(t),!Yc[t])if(void 0!==Gc[t])Yc[t]=t;else for(var e=t.charAt(0).toUpperCase()+t.substring(1),i=So.length;i--;){var n=So[i];if(void 0!==Gc[n+e]){Yc[t]=n+e;break}}return Yc[t]}}var Jc,Xc=$c,tp="hidden";if(po){var ep;if(tp in po)ep="";else for(var ip=So.length;ip--;){var np=So[ip];if(tp=np+"Hidden",tp in po){ep=np;break}}if(void 0!==ep)po.addEventListener(ep+"visibilitychange",Ss),Ss();else{if("onfocusout"in po)po.addEventListener("focusout",js),po.addEventListener("focusin",Ts);else co.addEventListener("pagehide",js),co.addEventListener("blur",js),co.addEventListener("pageshow",Ts),co.addEventListener("focus",Ts);Jc=!0}}var rp,sp=new RegExp("^-(?:"+So.join("|")+")-"),op=new RegExp("^(?:"+So.join("|")+")([A-Z])");if(!mo)rp=null;else{var ap,up,hp,fp,lp,cp,pp=yo("div").style,dp=function(t){return t},mp={},gp={};if(void 0!==pp.transition)ap="transition",up="transitionend",hp=!0;else if(void 0!==pp.webkitTransition)ap="webkitTransition",up="webkitTransitionEnd",hp=!0;else hp=!1;if(ap)fp=ap+"Duration",lp=ap+"Property",cp=ap+"TimingFunction";rp=function(t,e,i,n,r){setTimeout(function(){function s(){clearTimeout(l)}function o(){if(h&&f)t.unregisterCompleteHandler(s),t.ractive.fire(t.name+":end",t.node,t.isIntro),r()}function a(t){var e=n.indexOf(ur(Fs(t.propertyName)));if(-1!==e)n.splice(e,1);if(!n.length)clearTimeout(l),u()}function u(){p[lp]=d.property,p[cp]=d.duration,p[fp]=d.timing,t.node.removeEventListener(up,a,!1),f=!0,o()}var h,f,l,c=(t.node.namespaceURI||"")+t.node.tagName,p=t.node.style,d={property:p[lp],timing:p[cp],duration:p[fp]};p[lp]=n.map(Xc).map(Ns).join(","),p[cp]=Ns(i.easing||"linear"),p[fp]=i.duration/1e3+"s",t.node.addEventListener(up,a,!1),l=setTimeout(function(){n=[],u()},i.duration+(i.delay||0)+50),t.registerCompleteHandler(s),setTimeout(function(){for(var r,s,u,l,d,m,g=n.length,v=[];g--;){if(l=n[g],r=c+l,hp&&!gp[r])if(p[Xc(l)]=e[l],!mp[r])if(s=t.getStyle(l),mp[r]=t.getStyle(l)!=e[l],gp[r]=!mp[r],gp[r])p[Xc(l)]=s;if(!hp||gp[r]){if(void 0===s)s=t.getStyle(l);if(u=n.indexOf(l),-1===u)b("Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!",{node:t.node});else n.splice(u,1);d=/[^\d]*$/.exec(e[l])[0],m=E(parseFloat(s),parseFloat(e[l]))||function(){return e[l]},v.push({name:Xc(l),interpolator:m,suffix:d})}}if(v.length){var y;if("string"==typeof i.easing){if(y=t.ractive.easing[i.easing],!y)w(Jo(i.easing,"easing")),y=dp}else if("function"==typeof i.easing)y=i.easing;else y=dp;new Va({duration:i.duration,easing:y,step:function(e){for(var i=v.length;i--;){var n=v[i];t.node.style[n.name]=n.interpolator(e)+n.suffix}},complete:function(){h=!0,o()}})}else h=!0;if(!n.length)t.node.removeEventListener(up,a,!1),f=!0,o()},0)},i.delay||0)}}var vp=rp,yp=co&&(co.getComputedStyle||lo.getComputedStyle),bp=oa.resolve(),wp={t0:"intro-outro",t1:"intro",t2:"outro"},kp=function(t){this.owner=t.owner||t.parentFragment.owner||ar(t.parentFragment),this.element=this.owner.attributeByName?this.owner:ar(t.parentFragment),this.ractive=this.owner.ractive,this.template=t.template,this.parentFragment=t.parentFragment,this.options=t,this.onComplete=[]};kp.prototype.animateStyle=function(t,e,i){var n=this;if(4===arguments.length)throw new Error("t.animateStyle() returns a promise - use .then() instead of passing a callback");if(!Jc)return this.setStyle(t,e),bp;var r;if("string"==typeof t)r={},r[t]=e;else r=t,i=e;if(!i)w('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),i=this;return new oa(function(t){if(!i.duration)return n.setStyle(r),void t();for(var e=Object.keys(r),s=[],o=yp(n.owner.node),a=e.length;a--;){var u=e[a],h=o[Xc(u)];if("0px"===h)h=0;if(h!=r[u])s.push(u),n.owner.node.style[Xc(u)]=h}if(!s.length)return void t();else return void vp(n,r,i,s,t)})},kp.prototype.bind=function(){var t=this,e=this.options;if(e.template){if("t0"===e.template.v||"t1"==e.template.v)this.element._introTransition=this;if("t0"===e.template.v||"t2"==e.template.v)this.element._outroTransition=this;this.eventName=wp[e.template.v]}var i=this.owner.ractive;if(e.name)this.name=e.name;else{var n=e.template.f;if("string"==typeof n.n)n=n.n;if("string"!=typeof n){var r=new jp({owner:this.owner,template:n.n}).bind();if(n=r.toString(),r.unbind(),""===n)return}this.name=n}if(e.params)this.params=e.params;else if(e.template.f.a&&!e.template.f.a.s)this.params=e.template.f.a;else if(e.template.f.d){var s=new jp({owner:this.owner,template:e.template.f.d}).bind();this.params=s.getArgsList(),s.unbind()}if("function"==typeof this.name)this._fn=this.name,this.name=this._fn.name;else this._fn=k("transitions",i,this.name);if(!this._fn)w(Jo(this.name,"transition"),{ractive:i});if(e.template&&this.template.f.a&&this.template.f.a.s)this.resolvers=[],this.models=this.template.f.a.r.map(function(e,i){var n,r=Zt(t.parentFragment,e);if(!r)n=t.parentFragment.resolve(e,function(e){t.models[i]=e,T(t.resolvers,n),e.register(t)}),t.resolvers.push(n);else r.register(t);return r}),this.argsFn=mi(this.template.f.a.s,this.template.f.a.r.length)},kp.prototype.destroyed=function(){},kp.prototype.getStyle=function(t){var e=yp(this.owner.node);if("string"==typeof t){var i=e[Xc(t)];return"0px"===i?0:i}if(!h(t))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(var n={},r=t.length;r--;){var s=t[r],o=e[Xc(s)];if("0px"===o)o=0;n[s]=o}return n},kp.prototype.processParams=function(t,e){if("number"==typeof t)t={duration:t};else if("string"==typeof t)if("slow"===t)t={duration:600};else if("fast"===t)t={duration:200};else t={duration:400};else if(!t)t={};return a({},e,t)},kp.prototype.rebinding=function(t,e){var i=this.models.indexOf(e);if(~i)if(t=Ut(this.template.f.a.r[i],t,e),t!==e)if(e.unregister(this),this.models.splice(i,1,t),t)t.addShuffleRegister(this,"mark")},kp.prototype.registerCompleteHandler=function(t){A(this.onComplete,t)},kp.prototype.render=function(){},kp.prototype.setStyle=function(t,e){if("string"==typeof t)this.owner.node.style[Xc(t)]=e;else{var i;for(i in t)if(t.hasOwnProperty(i))this.owner.node.style[Xc(i)]=t[i]}return this},kp.prototype.start=function(){var t,e=this,i=this.node=this.element.node,n=i.getAttribute("style"),r=this.params;if(this.complete=function(r){if(!t){if(e.onComplete.forEach(function(t){return t()}),!r&&e.isIntro)Ps(i,n);e._manager.remove(e),t=!0}},!this._fn)return void this.complete();if(this.argsFn){var s=this.models.map(function(t){if(!t)return void 0;else return t.get()});r=this.argsFn.apply(this.ractive,s)}var o=this._fn.apply(this.ractive,[this].concat(r));if(o)o.then(this.complete)},kp.prototype.toString=function(){return""},kp.prototype.unbind=function(){if(this.resolvers)this.resolvers.forEach(Pt)},kp.prototype.unregisterCompleteHandler=function(t){T(this.onComplete,t)},kp.prototype.unrender=function(){},kp.prototype.update=function(){};var xp,Ep,_p={};try{yo("table").innerHTML="foo"}catch(Do){xp=!0,Ep={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}var Ap=function(e){function n(t){e.call(this,t)}return n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.detach=function(){var e=t();return this.nodes.forEach(function(t){return e.appendChild(t)}),e},n.prototype.find=function(t){var e,i=this,n=this.nodes.length;for(e=0;n>e;e+=1){var r=i.nodes[e];if(1===r.nodeType){if(bo(r,t))return r;var s=r.querySelector(t);if(s)return s}else;}return null},n.prototype.findAll=function(t,e){var i,n=this,r=this.nodes.length;for(i=0;r>i;i+=1){var s=n.nodes[i];if(1===s.nodeType){if(e.test(s))e.add(s);var o=s.querySelectorAll(t);if(o){var a,u=o.length;for(a=0;u>a;a+=1)e.add(o[a])}}else;}},n.prototype.findComponent=function(){return null},n.prototype.firstNode=function(){return this.nodes[0]},n.prototype.render=function(t){var e=this.model?this.model.get():"";this.nodes=Bs(e,this.parentFragment.findParentNode(),t),this.rendered=!0},n.prototype.toString=function(){return this.model&&null!=this.model.get()?ki(""+this.model.get()):""},n.prototype.unrender=function(){if(this.nodes)this.nodes.forEach(function(t){return i(t)});this.rendered=!1},n.prototype.update=function(){if(this.rendered&&this.dirty){this.dirty=!1,this.unrender();var e=t();this.render(e);var i=this.parentFragment.findParentNode(),n=this.parentFragment.findNextNode(this);i.insertBefore(e,n)}},n}(Rc),Op=function(t){function e(e){t.call(this,e),this.container=e.parentFragment.ractive,this.component=this.container.component,this.containerFragment=e.parentFragment,this.parentFragment=this.component.parentFragment,this.name=e.template.n||""}return e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.bind=function(){var t=this.name;(this.component.yielders[t]||(this.component.yielders[t]=[])).push(this);var e=this.container._inlinePartials[t||"content"];if("string"==typeof e)e=In(e).t;if(!e)b('Could not find template for partial "'+t+'"',{ractive:this.ractive}),e=[];this.fragment=new jp({owner:this,ractive:this.container.parent,template:e}).bind()},e.prototype.bubble=function(){if(!this.dirty)this.containerFragment.bubble(),this.dirty=!0},e.prototype.detach=function(){return this.fragment.detach()},e.prototype.find=function(t){return this.fragment.find(t)},e.prototype.findAll=function(t,e){this.fragment.find(t,e)},e.prototype.findComponent=function(t){return this.fragment.findComponent(t)},e.prototype.findAllComponents=function(t,e){this.fragment.findAllComponents(t,e)},e.prototype.findNextNode=function(){return this.containerFragment.findNextNode(this)},e.prototype.firstNode=function(t){return this.fragment.firstNode(t)},e.prototype.render=function(t,e){return this.fragment.render(t,e)},e.prototype.setTemplate=function(t){var e=this.parentFragment.ractive.partials[t];if("string"==typeof e)e=In(e).t;this.partialTemplate=e||[]},e.prototype.toString=function(t){return this.fragment.toString(t)},e.prototype.unbind=function(){this.fragment.unbind(),T(this.component.yielders[this.name],this)},e.prototype.unrender=function(t){this.fragment.unrender(t)},e.prototype.update=function(){this.dirty=!1,this.fragment.update()},e}(_l),Cp={};Cp[Qu]=jl,Cp[Hu]=kc,Cp[Bu]=Mc,Cp[Lu]=Wc,Cp[Iu]=qc,Cp[Ku]=Ap,Cp[qu]=Op,Cp[Wu]=Vl,Cp[xh]=Rl,Cp[wh]=wc,Cp[bh]=gc,Cp[kh]=kp;var Sp={doctype:kc,form:Vc,input:Lc,option:Uc,select:Zc,textarea:Hc},jp=function(t){this.owner=t.owner,this.isRoot=!t.owner.parentFragment,this.parent=this.isRoot?null:this.owner.parentFragment,this.ractive=t.ractive||(this.isRoot?t.owner:this.parent.ractive),this.componentParent=this.isRoot&&this.ractive.component?this.ractive.component.parentFragment:null,this.context=null,this.rendered=!1,this.cssIds="cssIds"in t?t.cssIds:this.parent?this.parent.cssIds:null,this.resolvers=[],this.dirty=!1,this.dirtyArgs=this.dirtyValue=!0,this.template=t.template||[],this.createItems()};jp.prototype.bind=function(t){if(this.context=t,this.items.forEach(Ot),this.bound=!0,this.dirty)this.update();return this},jp.prototype.bubble=function(){if(this.dirtyArgs=this.dirtyValue=!0,!this.dirty)if(this.dirty=!0,this.isRoot){if(this.ractive.component)this.ractive.component.bubble();else if(this.bound)fa.addFragment(this)}else this.owner.bubble()},jp.prototype.createItems=function(){var t=this,e=this.template.length;this.items=[];for(var i=0;e>i;i++)t.items[i]=Vs({parentFragment:t,template:t.template[i],index:i})},jp.prototype.destroyed=function(){this.items.forEach(function(t){return t.destroyed()})},jp.prototype.detach=function(){var e=t();return this.items.forEach(function(t){return e.appendChild(t.detach())}),e},jp.prototype.find=function(t){var e,i=this,n=this.items.length;for(e=0;n>e;e+=1){var r=i.items[e].find(t);if(r)return r}},jp.prototype.findAll=function(t,e){var i=this;if(this.items){var n,r=this.items.length;for(n=0;r>n;n+=1){var s=i.items[n];if(s.findAll)s.findAll(t,e)}}return e},jp.prototype.findComponent=function(t){var e,i=this,n=this.items.length;for(e=0;n>e;e+=1){var r=i.items[e].findComponent(t);if(r)return r}},jp.prototype.findAllComponents=function(t,e){var i=this;if(this.items){var n,r=this.items.length;for(n=0;r>n;n+=1){var s=i.items[n];if(s.findAllComponents)s.findAllComponents(t,e)}}return e},jp.prototype.findContext=function(){for(var t=this;t&&!t.context;)t=t.parent;if(!t)return this.ractive.viewmodel;else return t.context},jp.prototype.findNextNode=function(t){for(var e=this,i=t.index+1;i<e.items.length;i++)if(e.items[i]){var n=e.items[i].firstNode(!0);if(n)return n}else;if(this.isRoot)if(this.ractive.component)return this.ractive.component.parentFragment.findNextNode(this.ractive.component);else return null;return this.owner.findNextNode(this)},jp.prototype.findParentNode=function(){var t=this;do{if(t.owner.type===Mu)return t.owner.node;if(t.isRoot&&!t.ractive.component)return t.ractive.el;if(t.owner.type===qu)t=t.owner.containerFragment;else t=t.componentParent||t.parent}while(t);throw new Error("Could not find parent node")},jp.prototype.findRepeatingFragment=function(){for(var t=this;(t.parent||t.componentParent)&&!t.isIteration;)t=t.parent||t.componentParent;return t},jp.prototype.firstNode=function(t){for(var e,i=this,n=0;n<i.items.length;n++)if(e=i.items[n].firstNode(!0))return e;if(t)return null;else return this.parent.findNextNode(this.owner)},jp.prototype.getArgsList=function(){if(this.dirtyArgs){var t={},e=Rs(this.items,t,this.ractive._guid),i=$i("["+e+"]",t);this.argsList=i?i.value:[this.toString()],this.dirtyArgs=!1}return this.argsList},jp.prototype.rebinding=function(t){this.context=t},jp.prototype.render=function(t,e){if(this.rendered)throw new Error("Fragment is already rendered!");this.rendered=!0,this.items.forEach(function(i){return i.render(t,e)})},jp.prototype.resetTemplate=function(e){var i=this.bound,n=this.rendered;if(i){if(n)this.unrender(!0);this.unbind()}if(this.template=e,this.createItems(),i)if(this.bind(this.context),n){var r=this.findParentNode(),s=this.parent?this.parent.findNextNode(this.owner):null;if(s){var o=t();this.render(o),r.insertBefore(o,s)}else this.render(r)}},jp.prototype.resolve=function(t,e){if(!this.context&&this.parent.resolve)return this.parent.resolve(t,e);var i=new eu(this,t,e);return this.resolvers.push(i),i},jp.prototype.shuffled=function(){this.items.forEach(function(t){return t.shuffled()})},jp.prototype.toHtml=function(){return this.toString()},jp.prototype.toString=function(t){return this.items.map(t?Rt:Vt).join("")},jp.prototype.unbind=function(){return this.items.forEach(Pt),this.bound=!1,this},jp.prototype.unrender=function(t){this.items.forEach(t?Ms:Bt),this.rendered=!1},jp.prototype.update=function(){if(this.dirty)if(!this.updating)this.dirty=!1,this.updating=!0,this.items.forEach(It),this.updating=!1;else if(this.isRoot)fa.addFragmentToRoot(this)},jp.prototype.valueOf=function(){if(1===this.items.length)return this.items[0].valueOf();if(this.dirtyValue){var t={},e=Rs(this.items,t,this.ractive._guid),i=$i(e,t);this.value=i?i.value:this.toString(),this.dirtyValue=!1}return this.value};var Tp=Jt("reverse").path,Fp=Jt("shift").path,Np=Jt("sort").path,Pp=Jt("splice").path,Bp=new ea("teardown"),Kp=new ea("unrender"),Ip=Jt("unshift").path,Vp={add:G,animate:tt,detach:et,find:it,findAll:at,findAllComponents:ut,findComponent:ht,findContainer:ft,findParent:lt,fire:wt,get:Ht,getNodeInfo:Ve,insert:Re,link:Le,merge:ee,observe:De,observeList:We,observeOnce:$e,off:He,on:Qe,once:Ye,pop:ou,push:au,render:ei,reset:tr,resetPartial:nr,resetTemplate:Ls,reverse:Tp,set:Ds,shift:Fp,sort:Np,splice:Pp,subtract:Us,teardown:Ws,toggle:zs,toCSS:$s,toCss:$s,toHTML:qs,toHtml:qs,transition:Zs,unlink:Hs,unrender:Qs,unshift:Ip,update:ne,updateModel:Ys},Rp="function";if(typeof Date.now!==Rp||typeof String.prototype.trim!==Rp||typeof Object.keys!==Rp||typeof Array.prototype.indexOf!==Rp||typeof Array.prototype.forEach!==Rp||typeof Array.prototype.map!==Rp||typeof Array.prototype.filter!==Rp||co&&typeof co.addEventListener!==Rp)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return a(ao.prototype,Vp,ho),ao.prototype.constructor=ao,ao.defaults=ao.prototype,Ro(ao,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:no},escapeKey:{value:U},getNodeInfo:{value:Ie},joinKeys:{value:so},parse:{value:In},splitKeypath:{value:oo},unescapeKey:{value:$},getCSS:{value:Xe},Promise:{value:oa},enhance:{writable:!0,value:!1},svg:{value:Co},magic:{value:uo},VERSION:{value:"0.8.0-edge-fbaba751cc3b07d2d452766f33eebb99190dc267"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:fo},events:{writable:!0,value:{}},interpolators:{writable:!0,value:Xo},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}}),ao});