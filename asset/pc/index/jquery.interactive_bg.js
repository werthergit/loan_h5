!function(n){var i={strength:25,scale:1.05,animationSpeed:"100ms",contain:!0,wrapContent:!1};n.fn.interactive_bg=function(t){return this.each(function(){function a(){var n=Math.round(10*event.accelerationIncludingGravity.x)/10,i=Math.round(10*event.accelerationIncludingGravity.y)/10,t=-(n/10)*e.strength,a=-(i/10)*e.strength,s=-(2*t),o=-(2*a);r.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+s+","+o+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+s+","+o+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+s+","+o+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+s+","+o+")"})}var e=n.extend({},i,t),r=n(this),s=r.outerHeight(),o=r.outerWidth(),m=e.strength/s,c=e.strength/o,l="ontouchstart"in document.documentElement;if(1==e.contain)r.css({overflow:"hidden"});if(0==e.wrapContent)r.prepend("<div class='ibg-bg'></div>");else r.wrapInner("<div class='ibg-bg'></div>");if(void 0!==r.data("ibg-bg"))r.find("> .ibg-bg").css({background:"url('"+r.data("ibg-bg")+"') no-repeat center center","background-size":"cover"});if(r.find("> .ibg-bg").css({width:o,height:s}),l||screen.width<=699)window.addEventListener("devicemotion",a,!1);else r.mouseenter(function(){if(1!=e.scale)r.addClass("ibg-entering");r.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+",0,0)",transform:"matrix("+e.scale+",0,0,"+e.scale+",0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.removeClass("ibg-entering")})}).mousemove(function(n){if(!r.hasClass("ibg-entering")&&!r.hasClass("exiting")){var i=n.pageX||n.clientX,t=n.pageY||n.clientY,i=i-r.offset().left-o/2,t=t-r.offset().top-s/2,a=c*i*-1,l=m*t*-1;r.find("> .ibg-bg").css({"-webkit-transform":"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")","-moz-transform":"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")","-o-transform":"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")",transform:"matrix("+e.scale+",0,0,"+e.scale+","+a+","+l+")","-webkit-transition":"none","-moz-transition":"none","-o-transition":"none",transition:"none"})}}).mouseleave(function(){if(1!=e.scale)r.addClass("ibg-exiting");r.addClass("ibg-exiting").find("> .ibg-bg").css({"-webkit-transform":"matrix(1,0,0,1,0,0)","-moz-transform":"matrix(1,0,0,1,0,0)","-o-transform":"matrix(1,0,0,1,0,0)",transform:"matrix(1,0,0,1,0,0)","-webkit-transition":"-webkit-transform "+e.animationSpeed+" linear","-moz-transition":"-moz-transform "+e.animationSpeed+" linear","-o-transition":"-o-transform "+e.animationSpeed+" linear",transition:"transform "+e.animationSpeed+" linear"}).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){r.removeClass("ibg-exiting")})})})}}(window.jQuery);